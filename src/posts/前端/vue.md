---
title: Vue
icon: pen-to-square
order: 2
date: 2022-01-01
category:
  - Vue
tag:
  - é’©å­å‡½æ•°
  - å“åº”å¼ç¼–ç¨‹

---



## Vue

æ¦‚å¿µï¼šVue (è¯»éŸ³ /vjuË/ï¼Œç±»ä¼¼äº view) æ˜¯ä¸€å¥— **æ„å»ºç”¨æˆ·ç•Œé¢ ** çš„ **æ¸è¿›å¼** **æ¡†æ¶**

Vue2å®˜ç½‘ï¼š<https://v2.cn.vuejs.org/>

### ä»€ä¹ˆæ˜¯æ„å»ºç”¨æˆ·ç•Œé¢

**åŸºäºæ•°æ®**æ¸²æŸ“å‡ºç”¨æˆ·å¯ä»¥çœ‹åˆ°çš„**ç•Œé¢**

![68187588702](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1681875887026.png)

### ä»€ä¹ˆæ˜¯æ¸è¿›å¼

æ‰€è°“æ¸è¿›å¼å°±æ˜¯å¾ªåºæ¸è¿›ï¼Œä¸ä¸€å®šéå¾—æŠŠVueä¸­çš„æ‰€æœ‰APIéƒ½å­¦å®Œæ‰èƒ½å¼€å‘Vueï¼Œå¯ä»¥å­¦ä¸€ç‚¹å¼€å‘ä¸€ç‚¹

#### Vueçš„ä¸¤ç§å¼€å‘æ–¹å¼ï¼š

1. Vueæ ¸å¿ƒåŒ…å¼€å‘

   åœºæ™¯ï¼šå±€éƒ¨æ¨¡å—æ”¹é€ 

2. Vueæ ¸å¿ƒåŒ…&Vueæ’ä»¶&å·¥ç¨‹åŒ–

   åœºæ™¯ï¼šæ•´ç«™å¼€å‘



### ä»€ä¹ˆæ˜¯æ¡†æ¶

æ‰€è°“æ¡†æ¶ï¼šå°±æ˜¯ä¸€å¥—å®Œæ•´çš„è§£å†³æ–¹æ¡ˆ

**ä¸¾ä¸ªæ —å­**	

å¦‚æœæŠŠä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®æ¯”å–»ä¸ºä¸€ä¸ªè£…ä¿®å¥½çš„æˆ¿å­ï¼Œé‚£ä¹ˆæ¡†æ¶å°±æ˜¯ä¸€ä¸ªæ¯›å¯æˆ¿ã€‚

æˆ‘ä»¬åªéœ€è¦åœ¨â€œæ¯›å¯æˆ¿â€çš„åŸºç¡€ä¸Šï¼Œå¢åŠ åŠŸèƒ½ä»£ç å³å¯ã€‚

æåˆ°æ¡†æ¶ï¼Œä¸å¾—ä¸æä¸€ä¸‹åº“ã€‚

- åº“ï¼Œç±»ä¼¼å·¥å…·ç®±ï¼Œæ˜¯ä¸€å †æ–¹æ³•çš„é›†åˆï¼Œæ¯”å¦‚ axiosã€lodashã€echartsç­‰
- æ¡†æ¶ï¼Œæ˜¯ä¸€å¥—å®Œæ•´çš„è§£å†³æ–¹æ¡ˆï¼Œå®ç°äº†å¤§éƒ¨åˆ†åŠŸèƒ½ï¼Œæˆ‘ä»¬åªéœ€è¦æŒ‰ç…§ä¸€å®šçš„è§„åˆ™å»ç¼–ç å³å¯ã€‚

ä¸‹å›¾æ˜¯ åº“ å’Œ æ¡†æ¶çš„å¯¹æ¯”ã€‚

![68187662027](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1681876620277.png)

æ¡†æ¶çš„ç‰¹ç‚¹ï¼šæœ‰ä¸€å¥—å¿…é¡»è®©å¼€å‘è€…éµå®ˆçš„**è§„åˆ™**æˆ–è€…**çº¦æŸ**

å’±ä»¬å­¦æ¡†æ¶å°±æ˜¯å­¦ä¹ çš„è¿™äº›è§„åˆ™ [å®˜ç½‘](https://v2.cn.vuejs.org/)

### ä»€ä¹ˆæ˜¯Vueï¼Ÿ

Vueæ˜¯ä»€ä¹ˆï¼š

ä»€ä¹ˆæ˜¯æ„å»ºç”¨æˆ·ç•Œé¢ï¼š

ä»€ä¹ˆæ˜¯æ¸è¿›å¼ï¼š

ä»€ä¹ˆæ˜¯æ¡†æ¶ï¼š



## åˆ›å»ºVueå®ä¾‹

æˆ‘ä»¬å·²ç»çŸ¥é“äº†Vueæ¡†æ¶å¯ä»¥ åŸºäºæ•°æ®å¸®åŠ©æˆ‘ä»¬æ¸²æŸ“å‡ºç”¨æˆ·ç•Œé¢ï¼Œé‚£åº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ

![68187719013](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1681877190137.png)

æ¯”å¦‚å°±ä¸Šé¢è¿™ä¸ªæ•°æ®ï¼ŒåŸºäºæä¾›å¥½çš„msg æ€ä¹ˆæ¸²æŸ“åå³ä¾§å¯å±•ç¤ºçš„æ•°æ®å‘¢ï¼Ÿ

**æ ¸å¿ƒæ­¥éª¤ï¼ˆ4æ­¥ï¼‰ï¼š**

1. å‡†å¤‡å®¹å™¨
2. å¼•åŒ…ï¼ˆå®˜ç½‘ï¼‰ â€” å¼€å‘ç‰ˆæœ¬/ç”Ÿäº§ç‰ˆæœ¬
3. åˆ›å»ºVueå®ä¾‹  new Vue()
4. æŒ‡å®šé…ç½®é¡¹ï¼Œæ¸²æŸ“æ•°æ®
   1. el:æŒ‡å®šæŒ‚è½½ç‚¹
   2. dataæä¾›æ•°æ®

![68187740500](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1681877405007.png)

**æ€»ç»“ï¼šåˆ›å»ºVueå®ä¾‹éœ€è¦æ‰§è¡Œå“ª4æ­¥**



## æ’å€¼è¡¨è¾¾å¼ `{{}}`

æ’å€¼è¡¨è¾¾å¼æ˜¯ä¸€ç§Vueçš„æ¨¡æ¿è¯­æ³•

æˆ‘ä»¬å¯ä»¥ç”¨æ’å€¼è¡¨è¾¾å¼æ¸²æŸ“å‡ºVueæä¾›çš„æ•°æ®

![68188649441](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1681886494417.png)

### 1.ä½œç”¨ï¼šåˆ©ç”¨è¡¨è¾¾å¼è¿›è¡Œæ’å€¼ï¼Œæ¸²æŸ“åˆ°é¡µé¢ä¸­

è¡¨è¾¾å¼ï¼šæ˜¯å¯ä»¥è¢«æ±‚å€¼çš„ä»£ç ï¼ŒJSå¼•æ“ä¼šè®²å…¶è®¡ç®—å‡ºä¸€ä¸ªç»“æœ

ä»¥ä¸‹çš„æƒ…å†µéƒ½æ˜¯è¡¨è¾¾å¼ï¼š

```js
money + 100
money - 100
money * 10
money / 10 
price >= 100 ? 'çœŸè´µ':'è¿˜è¡Œ'
obj.name
arr[0]
fn()
obj.fn()
```



### 2.è¯­æ³•

æ’å€¼è¡¨è¾¾å¼è¯­æ³•ï¼š`{{ è¡¨è¾¾å¼ }}`

```js
<h3>{{title}}<h3>

<p>{{nickName.toUpperCase()}}</p>

<p>{{age >= 18 ? 'æˆå¹´':'æœªæˆå¹´'}}</p>

<p>{{obj.name}}</p>

<p>{{fn()}}</p>
```



### 3.é”™è¯¯ç”¨æ³•

```js
1.åœ¨æ’å€¼è¡¨è¾¾å¼ä¸­ä½¿ç”¨çš„æ•°æ® å¿…é¡»åœ¨dataä¸­è¿›è¡Œäº†æä¾›
<p>{{hobby}}</p>  //å¦‚æœåœ¨dataä¸­ä¸å­˜åœ¨ åˆ™ä¼šæŠ¥é”™

2.æ”¯æŒçš„æ˜¯è¡¨è¾¾å¼ï¼Œè€Œéè¯­å¥ï¼Œæ¯”å¦‚ï¼šif   for ...
<p>{{if}}</p>

3.ä¸èƒ½åœ¨æ ‡ç­¾å±æ€§ä¸­ä½¿ç”¨ {{  }} æ’å€¼ (æ’å€¼è¡¨è¾¾å¼åªèƒ½æ ‡ç­¾ä¸­é—´ä½¿ç”¨)
<p title="{{username}}">æˆ‘æ˜¯Pæ ‡ç­¾</p>
```







## å“åº”å¼ç‰¹æ€§

### 1.ä»€ä¹ˆæ˜¯å“åº”å¼ï¼Ÿ

â€‹	ç®€å•ç†è§£å°±æ˜¯æ•°æ®å˜ï¼Œè§†å›¾å¯¹åº”å˜ã€‚ 



### 2.å¦‚ä½•è®¿é—® å’Œ ä¿®æ”¹ dataä¸­çš„æ•°æ®ï¼ˆå“åº”å¼æ¼”ç¤ºï¼‰

dataä¸­çš„æ•°æ®, æœ€ç»ˆä¼šè¢«æ·»åŠ åˆ°å®ä¾‹ä¸Š

â‘  è®¿é—®æ•°æ®ï¼š "å®ä¾‹.å±æ€§å"

â‘¡ ä¿®æ”¹æ•°æ®ï¼š "å®ä¾‹.å±æ€§å"= "å€¼"

![68188853934](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1681888539340.png)







## Vueå¼€å‘è€…å·¥å…·å®‰è£…

1. é€šè¿‡è°·æ­Œåº”ç”¨å•†åº—å®‰è£…ï¼ˆå›½å¤–ç½‘ç«™ï¼‰
2. æç®€æ’ä»¶ä¸‹è½½ï¼ˆæ¨èï¼‰ <https://chrome.zzzmh.cn/index>

å®‰è£…æ­¥éª¤ï¼š

![68188939040](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1681889390406.png)



å®‰è£…ä¹‹åå¯ä»¥F12åçœ‹åˆ°å¤šä¸€ä¸ªVueçš„è°ƒè¯•é¢æ¿

![68188948344](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1681889483446.png)



## Vueä¸­çš„å¸¸ç”¨æŒ‡ä»¤

**æ¦‚å¿µï¼š**æŒ‡ä»¤ï¼ˆDirectivesï¼‰æ˜¯ Vue æä¾›çš„å¸¦æœ‰ **v- å‰ç¼€** çš„ ç‰¹æ®Š æ ‡ç­¾**å±æ€§**ã€‚

ä¸ºå•¥è¦å­¦ï¼šæé«˜ç¨‹åºå‘˜æ“ä½œ DOM çš„æ•ˆç‡ã€‚

vue ä¸­çš„æŒ‡ä»¤æŒ‰ç…§ä¸åŒçš„ç”¨é€”å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹ 6 å¤§ç±»ï¼š

-  å†…å®¹æ¸²æŸ“æŒ‡ä»¤ï¼ˆv-htmlã€v-textï¼‰
-  æ¡ä»¶æ¸²æŸ“æŒ‡ä»¤ï¼ˆv-showã€v-ifã€v-elseã€v-else-ifï¼‰
-  äº‹ä»¶ç»‘å®šæŒ‡ä»¤ï¼ˆv-onï¼‰
-  å±æ€§ç»‘å®šæŒ‡ä»¤ ï¼ˆv-bindï¼‰
-  åŒå‘ç»‘å®šæŒ‡ä»¤ï¼ˆv-modelï¼‰
-  åˆ—è¡¨æ¸²æŸ“æŒ‡ä»¤ï¼ˆv-forï¼‰

æŒ‡ä»¤æ˜¯ vue å¼€å‘ä¸­æœ€åŸºç¡€ã€æœ€å¸¸ç”¨ã€æœ€ç®€å•çš„çŸ¥è¯†ç‚¹ã€‚



## å†…å®¹æ¸²æŸ“æŒ‡ä»¤v-text

å†…å®¹æ¸²æŸ“æŒ‡ä»¤ç”¨æ¥è¾…åŠ©å¼€å‘è€…æ¸²æŸ“ DOM å…ƒç´ çš„æ–‡æœ¬å†…å®¹ã€‚å¸¸ç”¨çš„å†…å®¹æ¸²æŸ“æŒ‡ä»¤æœ‰å¦‚ä¸‹2 ä¸ªï¼š

- v-textï¼ˆç±»ä¼¼innerTextï¼‰


- - ä½¿ç”¨è¯­æ³•ï¼š`<p v-text="uname">hello</p>`ï¼Œæ„æ€æ˜¯å°† uame å€¼æ¸²æŸ“åˆ° p æ ‡ç­¾ä¸­
  - ç±»ä¼¼ innerTextï¼Œä½¿ç”¨è¯¥è¯­æ³•ï¼Œä¼šè¦†ç›– p æ ‡ç­¾åŸæœ‰å†…å®¹


- v-htmlï¼ˆç±»ä¼¼ innerHTMLï¼‰


- - ä½¿ç”¨è¯­æ³•ï¼š`<p v-html="intro">hello</p>`ï¼Œæ„æ€æ˜¯å°† intro å€¼æ¸²æŸ“åˆ° p æ ‡ç­¾ä¸­
  - ç±»ä¼¼ innerHTMLï¼Œä½¿ç”¨è¯¥è¯­æ³•ï¼Œä¼šè¦†ç›– p æ ‡ç­¾åŸæœ‰å†…å®¹
  - ç±»ä¼¼ innerHTMLï¼Œä½¿ç”¨è¯¥è¯­æ³•ï¼Œèƒ½å¤Ÿå°†HTMLæ ‡ç­¾çš„æ ·å¼å‘ˆç°å‡ºæ¥ã€‚

ä»£ç æ¼”ç¤ºï¼š

```js
 
  <div id="app">
    <h2>ä¸ªäººä¿¡æ¯</h2>
	// æ—¢ç„¶æŒ‡ä»¤æ˜¯vueæä¾›çš„ç‰¹æ®Šçš„htmlå±æ€§ï¼Œæ‰€ä»¥å’±ä»¬å†™çš„æ—¶å€™å°±å½“æˆå±æ€§æ¥ç”¨å³å¯
    <p v-text="uname">å§“åï¼š</p> 
    <p v-html="intro">ç®€ä»‹ï¼š</p>
  </div> 

<script>
        const app = new Vue({
            el:'#app',
            data:{
                uname:'å¼ ä¸‰',
                intro:'<h2>è¿™æ˜¯ä¸€ä¸ª<strong>éå¸¸ä¼˜ç§€</strong>çš„boy<h2>'
            }
        })
</script>
```



## æ¡ä»¶æ¸²æŸ“æŒ‡ä»¤v-show v-if

æ¡ä»¶åˆ¤æ–­æŒ‡ä»¤ï¼Œç”¨æ¥è¾…åŠ©å¼€å‘è€…æŒ‰éœ€æ§åˆ¶ DOM çš„æ˜¾ç¤ºä¸éšè—ã€‚æ¡ä»¶æ¸²æŸ“æŒ‡ä»¤æœ‰å¦‚ä¸‹ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼š

1. v-show

   1. ä½œç”¨ï¼š  æ§åˆ¶å…ƒç´ æ˜¾ç¤ºéšè—
   2. è¯­æ³•ï¼š  v-show = "è¡¨è¾¾å¼"   è¡¨è¾¾å¼å€¼ä¸º true æ˜¾ç¤ºï¼Œ false éšè—
   3. åŸç†ï¼š  åˆ‡æ¢ display:none æ§åˆ¶æ˜¾ç¤ºéšè—
   4. åœºæ™¯ï¼šé¢‘ç¹åˆ‡æ¢æ˜¾ç¤ºéšè—çš„åœºæ™¯

   ![68189122828](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1681891228284.png)

2. v-if

   1. ä½œç”¨ï¼š  æ§åˆ¶å…ƒç´ æ˜¾ç¤ºéšè—ï¼ˆæ¡ä»¶æ¸²æŸ“ï¼‰
   2. è¯­æ³•ï¼š  v-if= "è¡¨è¾¾å¼"          è¡¨è¾¾å¼å€¼ trueæ˜¾ç¤ºï¼Œ false éšè—
   3. åŸç†ï¼š  åŸºäºæ¡ä»¶åˆ¤æ–­ï¼Œæ˜¯å¦åˆ›å»º æˆ– ç§»é™¤å…ƒç´ èŠ‚ç‚¹
   4. åœºæ™¯ï¼š  è¦ä¹ˆæ˜¾ç¤ºï¼Œè¦ä¹ˆéšè—ï¼Œä¸é¢‘ç¹åˆ‡æ¢çš„åœºæ™¯

   ![68189123775](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1681891237750.png)

   ç¤ºä¾‹ä»£ç ï¼š

   ```js
   <div id="app">
       <div v-show="flag" class="box">æˆ‘æ˜¯v-showæ§åˆ¶çš„ç›’å­</div>
       <div v-if="flag" class="box">æˆ‘æ˜¯v-ifæ§åˆ¶çš„ç›’å­</div>
     </div>
    
     <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
     <script>
       const app = new Vue({
         el: '#app',
         data: {
           flag: false
         }
       })
     </script>
   ```

3. v-else å’Œ v-else-if

   1. ä½œç”¨ï¼šè¾…åŠ©v-ifè¿›è¡Œåˆ¤æ–­æ¸²æŸ“
   2. è¯­æ³•ï¼šv-else  v-else-if="è¡¨è¾¾å¼"
   3. éœ€è¦ç´§æ¥ç€v-ifä½¿ç”¨

ç¤ºä¾‹ä»£ç ï¼š

```js
<div id="app">
    <p v-if="gender === 1">æ€§åˆ«ï¼šâ™‚ ç”·</p>
    <p v-else>æ€§åˆ«ï¼šâ™€ å¥³</p>
    <hr>
    <p v-if="score >= 90">æˆç»©è¯„å®šAï¼šå¥–åŠ±ç”µè„‘ä¸€å°</p>
    <p v-else-if="score >= 70">æˆç»©è¯„å®šBï¼šå¥–åŠ±å‘¨æœ«éƒŠæ¸¸</p>
    <p v-else-if="score >= 60">æˆç»©è¯„å®šCï¼šå¥–åŠ±é›¶é£Ÿç¤¼åŒ…</p>
    <p v-else>æˆç»©è¯„å®šDï¼šæƒ©ç½šä¸€å‘¨ä¸èƒ½ç©æ‰‹æœº</p>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script>

    const app = new Vue({
      el: '#app',
      data: {
        gender: 2,
        score: 95
      }
    })
  </script>
```



## äº‹ä»¶ç»‘å®šæŒ‡ä»¤v-on

ä½¿ç”¨Vueæ—¶ï¼Œå¦‚éœ€ä¸ºDOMæ³¨å†Œäº‹ä»¶ï¼ŒåŠå…¶çš„ç®€å•ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š

- `<button v-on:äº‹ä»¶å="å†…è”è¯­å¥">æŒ‰é’®</button>`
- `<button v-on:äº‹ä»¶å="å¤„ç†å‡½æ•°">æŒ‰é’®</button>`
- `<button v-on:äº‹ä»¶å="å¤„ç†å‡½æ•°(å®å‚)">æŒ‰é’®</button>`
- `v-on:` ç®€å†™ä¸º **@**

1. å†…è”è¯­å¥

   ```js
   div id="app">
       <button @click="count--">-</button>
       <span>{{ count }}</span>
       <button v-on:click="count++">+</button>
     </div>
     <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
     <script>
       const app = new Vue({
         el: '#app',
         data: {
           count: 100
         }
       })
     </script>
   ```

2. äº‹ä»¶å¤„ç†å‡½æ•°

   æ³¨æ„ï¼š

   - äº‹ä»¶å¤„ç†å‡½æ•°åº”è¯¥å†™åˆ°ä¸€ä¸ªè·ŸdataåŒçº§çš„é…ç½®é¡¹ï¼ˆmethodsï¼‰ä¸­
   - methodsä¸­çš„å‡½æ•°å†…éƒ¨çš„thiséƒ½æŒ‡å‘Vueå®ä¾‹

```js
<div id="app">
    <button @click="fn">åˆ‡æ¢æ˜¾ç¤ºéšè—</button>
    <h1 v-show="isShow">é»‘é©¬ç¨‹åºå‘˜</h1>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script>
    const app4 = new Vue({
      el: '#app',
      data: {
        isShow: true
      },
      methods: {
        fn () {
          // è®©æä¾›çš„æ‰€æœ‰methodsä¸­çš„å‡½æ•°ï¼Œthiséƒ½æŒ‡å‘å½“å‰å®ä¾‹
          // console.log('æ‰§è¡Œäº†fn', app.isShow)
          // console.log(app3 === this)
          this.isShow = !this.isShow
        }
      }
    })
  </script>
```

  3.ç»™äº‹ä»¶å¤„ç†å‡½æ•°ä¼ å‚

- å¦‚æœä¸ä¼ é€’ä»»ä½•å‚æ•°ï¼Œåˆ™æ–¹æ³•æ— éœ€åŠ å°æ‹¬å·ï¼›methodsæ–¹æ³•ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ e å½“åšäº‹ä»¶å¯¹è±¡


- å¦‚æœä¼ é€’äº†å‚æ•°ï¼Œåˆ™å®å‚ `$event` è¡¨ç¤ºäº‹ä»¶å¯¹è±¡ï¼Œå›ºå®šç”¨æ³•ã€‚

```js
<style>
    .box {
      border: 3px solid #000000;
      border-radius: 10px;
      padding: 20px;
      margin: 20px;
      width: 200px;
    }
    h3 {
      margin: 10px 0 20px 0;
    }
    p {
      margin: 20px;
    }
  </style>
</head>
<body>

  <div id="app">
    <div class="box">
      <h3>å°é»‘è‡ªåŠ¨å”®è´§æœº</h3>
      <button @click="buy(5)">å¯ä¹5å…ƒ</button>
      <button @click="buy(10)">å’–å•¡10å…ƒ</button>
      <button @click="buy(8)">ç‰›å¥¶8å…ƒ</button>
    </div>
    <p>é“¶è¡Œå¡ä½™é¢ï¼š{{ money }}å…ƒ</p>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script>
    const app = new Vue({
      el: '#app',
      data: {
        money: 100
      },
      methods: {
        buy (price) {
          this.money -= price
        }
      }
    })
  </script>
```



## å±æ€§ç»‘å®šæŒ‡ä»¤v-bind

1. **ä½œç”¨ï¼š**åŠ¨æ€è®¾ç½®htmlçš„æ ‡ç­¾å±æ€§ æ¯”å¦‚ï¼šsrcã€urlã€title
2. **è¯­æ³•**ï¼š**v-bind:**å±æ€§å=â€œè¡¨è¾¾å¼â€
3. **v-bind:**å¯ä»¥ç®€å†™æˆ =>   **:**

æ¯”å¦‚ï¼Œæœ‰ä¸€ä¸ªå›¾ç‰‡ï¼Œå®ƒçš„ `src` å±æ€§å€¼ï¼Œæ˜¯ä¸€ä¸ªå›¾ç‰‡åœ°å€ã€‚è¿™ä¸ªåœ°å€åœ¨æ•°æ® data ä¸­å­˜å‚¨ã€‚

åˆ™å¯ä»¥è¿™æ ·è®¾ç½®å±æ€§å€¼ï¼š

- `<img v-bind:src="url" />`
- `<img :src="url" />`   ï¼ˆv-bindå¯ä»¥çœç•¥ï¼‰

```js
<div id="app">
    <!-- v-bind:src   =>   :src -->
    <img v-bind:src="imgUrl" v-bind:title="msg" alt="">
    <img :src="imgUrl" :title="msg" alt="">
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script>
    const app = new Vue({
      el: '#app',
      data: {
        imgUrl: './imgs/10-02.png',
        msg: 'hello æ³¢ä»”'
      }
    })
  </script>
```



## å°æ¡ˆä¾‹-æ³¢ä»”çš„å­¦ä¹ ä¹‹æ—…

éœ€æ±‚ï¼šé»˜è®¤å±•ç¤ºæ•°ç»„ä¸­çš„ç¬¬ä¸€å¼ å›¾ç‰‡ï¼Œç‚¹å‡»ä¸Šä¸€é¡µä¸‹ä¸€é¡µæ¥å›åˆ‡æ¢æ•°ç»„ä¸­çš„å›¾ç‰‡

å®ç°æ€è·¯ï¼š

1.æ•°ç»„å­˜å‚¨å›¾ç‰‡è·¯å¾„ ['url1','url2','url3'ï¼Œ...]

2.å¯ä»¥å‡†å¤‡ä¸ªä¸‹æ ‡index å»æ•°ç»„ä¸­å–å›¾ç‰‡åœ°å€ã€‚

3.é€šè¿‡v-bindç»™srcç»‘å®šå½“å‰çš„å›¾ç‰‡åœ°å€

4.ç‚¹å‡»ä¸Šä¸€é¡µä¸‹ä¸€é¡µåªéœ€è¦ä¿®æ”¹ä¸‹æ ‡çš„å€¼å³å¯

5.å½“å±•ç¤ºç¬¬ä¸€å¼ çš„æ—¶å€™ï¼Œä¸Šä¸€é¡µæŒ‰é’®åº”è¯¥éšè—ã€‚å±•ç¤ºæœ€åä¸€å¼ çš„æ—¶å€™ï¼Œä¸‹ä¸€é¡µæŒ‰é’®åº”è¯¥éšè—

```js
<div id="app">
    <button v-show="index > 0" @click="index--">ä¸Šä¸€é¡µ</button>
    <div>
      <img :src="list[index]" alt="">
    </div>
    <button v-show="index < list.length - 1" @click="index++">ä¸‹ä¸€é¡µ</button>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script>
    const app = new Vue({
      el: '#app',
      data: {
        index: 0,
        list: [
          './imgs/11-00.gif',
          './imgs/11-01.gif',
          './imgs/11-02.gif',
          './imgs/11-03.gif',
          './imgs/11-04.png',
          './imgs/11-05.png',
        ]
      }
    })
  </script>
```



## åˆ—è¡¨æ¸²æŸ“æŒ‡ä»¤ v-for

Vue æä¾›äº† v-for åˆ—è¡¨æ¸²æŸ“æŒ‡ä»¤ï¼Œç”¨æ¥è¾…åŠ©å¼€å‘è€…åŸºäºä¸€ä¸ªæ•°ç»„æ¥å¾ªç¯æ¸²æŸ“ä¸€ä¸ªåˆ—è¡¨ç»“æ„ã€‚

v-for æŒ‡ä»¤éœ€è¦ä½¿ç”¨ `(item, index) in arr` å½¢å¼çš„ç‰¹æ®Šè¯­æ³•ï¼Œå…¶ä¸­ï¼š

- item æ˜¯æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹
- index æ˜¯æ¯ä¸€é¡¹çš„ç´¢å¼•ï¼Œä¸éœ€è¦å¯ä»¥çœç•¥
- arr æ˜¯è¢«éå†çš„æ•°ç»„

æ­¤è¯­æ³•ä¹Ÿå¯ä»¥éå†**å¯¹è±¡å’Œæ•°å­—**

```js
//éå†å¯¹è±¡
<div v-for="(value, key, index) in object">{{value}}</div>
value:å¯¹è±¡ä¸­çš„å€¼
key:å¯¹è±¡ä¸­çš„é”®
index:éå†ç´¢å¼•ä»0å¼€å§‹

//éå†æ•°å­—
<p v-for="item in 10">{{item}}</p>
itemä»1 å¼€å§‹
```



## å°æ¡ˆä¾‹-å°é»‘çš„ä¹¦æ¶

éœ€æ±‚ï¼š

1.æ ¹æ®å·¦ä¾§æ•°æ®æ¸²æŸ“å‡ºå³ä¾§åˆ—è¡¨ï¼ˆv-forï¼‰

2.ç‚¹å‡»åˆ é™¤æŒ‰é’®æ—¶ï¼Œåº”è¯¥æŠŠå½“å‰è¡Œä»åˆ—è¡¨ä¸­åˆ é™¤ï¼ˆè·å–å½“å‰è¡Œçš„idï¼Œåˆ©ç”¨filterè¿›è¡Œè¿‡æ»¤ï¼‰

![68189663267](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1681896632672.png)

å‡†å¤‡ä»£ç ï¼š

```js
<div id="app">
    <h3>å°é»‘çš„ä¹¦æ¶</h3>
    <ul>
      <li v-for="(item, index) in booksList" :key="item.id">
        <span>{{ item.name }}</span>
        <span>{{ item.author }}</span>
        <!-- æ³¨å†Œç‚¹å‡»äº‹ä»¶ â†’  é€šè¿‡ id è¿›è¡Œåˆ é™¤æ•°ç»„ä¸­çš„ å¯¹åº”é¡¹ -->
        <button @click="del(item.id)">åˆ é™¤</button>
      </li>
    </ul>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script>
    const app = new Vue({
      el: '#app',
      data: {
        booksList: [
          { id: 1, name: 'ã€Šçº¢æ¥¼æ¢¦ã€‹', author: 'æ›¹é›ªèŠ¹' },
          { id: 2, name: 'ã€Šè¥¿æ¸¸è®°ã€‹', author: 'å´æ‰¿æ©' },
          { id: 3, name: 'ã€Šæ°´æµ’ä¼ ã€‹', author: 'æ–½è€åºµ' },
          { id: 4, name: 'ã€Šä¸‰å›½æ¼”ä¹‰ã€‹', author: 'ç½—è´¯ä¸­' }
        ]
      },
      methods: {
        del (id) {
          // console.log('åˆ é™¤', id)
          // é€šè¿‡ id è¿›è¡Œåˆ é™¤æ•°ç»„ä¸­çš„ å¯¹åº”é¡¹ â†’ filter(ä¸ä¼šæ”¹å˜åŸæ•°ç»„)
          // filter: æ ¹æ®æ¡ä»¶ï¼Œä¿ç•™æ»¡è¶³æ¡ä»¶çš„å¯¹åº”é¡¹ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°æ•°ç»„ã€‚
          // console.log(this.booksList.filter(item => item.id !== id))
          this.booksList = this.booksList.filter(item => item.id !== id)
        }
      }
    })
  </script>
```



## v-forä¸­çš„key

**è¯­æ³•ï¼š** key="å”¯ä¸€å€¼"

**ä½œç”¨ï¼š**ç»™åˆ—è¡¨é¡¹æ·»åŠ çš„**å”¯ä¸€æ ‡è¯†**ã€‚ä¾¿äºVueè¿›è¡Œåˆ—è¡¨é¡¹çš„**æ­£ç¡®æ’åºå¤ç”¨**ã€‚

**ä¸ºä»€ä¹ˆåŠ keyï¼š**Vue çš„é»˜è®¤è¡Œä¸ºä¼šå°è¯•åŸåœ°ä¿®æ”¹å…ƒç´ ï¼ˆ**å°±åœ°å¤ç”¨**ï¼‰

å®ä¾‹ä»£ç ï¼š

```js
<ul>
Â  <li v-for="(item, index) in booksList" :key="item.id">
Â  Â  <span>{{ item.name }}</span>
Â  Â  <span>{{ item.author }}</span>
Â  Â  <button @click="del(item.id)">åˆ é™¤</button>
Â  </li>
</ul>
```

æ³¨æ„ï¼š

1.  key çš„å€¼åªèƒ½æ˜¯å­—ç¬¦ä¸² æˆ– æ•°å­—ç±»å‹
2. key çš„å€¼å¿…é¡»å…·æœ‰å”¯ä¸€æ€§
3. æ¨èä½¿ç”¨  id ä½œä¸º keyï¼ˆå”¯ä¸€ï¼‰ï¼Œä¸æ¨èä½¿ç”¨ index ä½œä¸º keyï¼ˆä¼šå˜åŒ–ï¼Œä¸å¯¹åº”ï¼‰



## åŒå‘ç»‘å®šæŒ‡ä»¤v-model

æ‰€è°“åŒå‘ç»‘å®šå°±æ˜¯ï¼š

1. æ•°æ®æ”¹å˜åï¼Œå‘ˆç°çš„é¡µé¢ç»“æœä¼šæ›´æ–°
2. é¡µé¢ç»“æœæ›´æ–°åï¼Œæ•°æ®ä¹Ÿä¼šéšä¹‹è€Œå˜

**ä½œç”¨ï¼š** ç»™**è¡¨å•å…ƒç´ **ï¼ˆinputã€radioã€selectï¼‰ä½¿ç”¨ï¼ŒåŒå‘ç»‘å®šæ•°æ®ï¼Œå¯ä»¥å¿«é€Ÿ **è·å–** æˆ– **è®¾ç½®** è¡¨å•å…ƒç´ å†…å®¹

**è¯­æ³•ï¼š**v-model="å˜é‡"

**éœ€æ±‚ï¼š**ä½¿ç”¨åŒå‘ç»‘å®šå®ç°ä»¥ä¸‹éœ€æ±‚

1. ç‚¹å‡»ç™»å½•æŒ‰é’®è·å–è¡¨å•ä¸­çš„å†…å®¹
2. ç‚¹å‡»é‡ç½®æŒ‰é’®æ¸…ç©ºè¡¨å•ä¸­çš„å†…å®¹

![68191312573](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1681913125738.png)



```js
<div id="app">
    <!-- 
      v-model å¯ä»¥è®©æ•°æ®å’Œè§†å›¾ï¼Œå½¢æˆåŒå‘æ•°æ®ç»‘å®š
      (1) æ•°æ®å˜åŒ–ï¼Œè§†å›¾è‡ªåŠ¨æ›´æ–°
      (2) è§†å›¾å˜åŒ–ï¼Œæ•°æ®è‡ªåŠ¨æ›´æ–°
      å¯ä»¥å¿«é€Ÿ[è·å–]æˆ–[è®¾ç½®]è¡¨å•å…ƒç´ çš„å†…å®¹
     -->
    è´¦æˆ·ï¼š<input type="text" v-model="username"> <br><br>
    å¯†ç ï¼š<input type="password" v-model="password"> <br><br>
    <button @click="login">ç™»å½•</button>
    <button @click="reset">é‡ç½®</button>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script>
    const app = new Vue({
      el: '#app',
      data: {
        username: '',
        password: ''
      },
      methods: {
        login () {
          console.log(this.username, this.password)
        },
        reset () {
          this.username = ''
          this.password = ''
        }
      }
    })
  </script>
```



## æŒ‡ä»¤ä¿®é¥°ç¬¦

### 1.ä»€ä¹ˆæ˜¯æŒ‡ä»¤ä¿®é¥°ç¬¦ï¼Ÿ

â€‹	æ‰€è°“æŒ‡ä»¤ä¿®é¥°ç¬¦å°±æ˜¯é€šè¿‡â€œ.â€æŒ‡æ˜ä¸€äº›æŒ‡ä»¤**åç¼€** ä¸åŒçš„**åç¼€**å°è£…äº†ä¸åŒçš„å¤„ç†æ“ä½œ  â€”> ç®€åŒ–ä»£ç 

### 2.æŒ‰é”®ä¿®é¥°ç¬¦

- @keyup.enter  â€”>å½“ç‚¹å‡»enteré”®çš„æ—¶å€™æ‰è§¦å‘

ä»£ç æ¼”ç¤ºï¼š

```js
 <div id="app">
    <h3>@keyup.enter  â†’  ç›‘å¬é”®ç›˜å›è½¦äº‹ä»¶</h3>
    <input @keyup.enter="fn" v-model="username" type="text">
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script>
    const app = new Vue({
      el: '#app',
      data: {
        username: ''
      },
      methods: {
        fn (e) {
          // if (e.key === 'Enter') {
          //   console.log('é”®ç›˜å›è½¦çš„æ—¶å€™è§¦å‘', this.username)
          // }
          console.log('é”®ç›˜å›è½¦çš„æ—¶å€™è§¦å‘', this.username)
        }
      }
    })
  </script>
```

### 3.v-modelä¿®é¥°ç¬¦

- v-model.trim  â€”>å»é™¤é¦–ä½ç©ºæ ¼
- v-model.number â€”>è½¬æ•°å­—

### 4.äº‹ä»¶ä¿®é¥°ç¬¦

- @äº‹ä»¶å.stop â€”> é˜»æ­¢å†’æ³¡
- @äº‹ä»¶å.prevent  â€”>é˜»æ­¢é»˜è®¤è¡Œä¸º
- @äº‹ä»¶å.stop.prevent â€”>å¯ä»¥è¿ç”¨ å³é˜»æ­¢äº‹ä»¶å†’æ³¡ä¹Ÿé˜»æ­¢é»˜è®¤è¡Œä¸º

```js
<style>
    .father {
      width: 200px;
      height: 200px;
      background-color: pink;
      margin-top: 20px;
    }
    .son {
      width: 100px;
      height: 100px;
      background-color: skyblue;
    }
  </style>
</head>
<body>
  <div id="app">
    <h3>v-modelä¿®é¥°ç¬¦ .trim .number</h3>
    å§“åï¼š<input v-model.trim="username" type="text"><br>
    å¹´çºªï¼š<input v-model.number="age" type="text"><br>

    
    <h3>@äº‹ä»¶å.stop     â†’  é˜»æ­¢å†’æ³¡</h3>
    <div @click="fatherFn" class="father">
      <div @click.stop="sonFn" class="son">å„¿å­</div>
    </div>

    <h3>@äº‹ä»¶å.prevent  â†’  é˜»æ­¢é»˜è®¤è¡Œä¸º</h3>
    <a @click.prevent href="http://www.baidu.com">é˜»æ­¢é»˜è®¤è¡Œä¸º</a>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script>
    const app = new Vue({
      el: '#app',
      data: {
        username: '',
        age: '',
      },
      methods: {
        fatherFn () {
          alert('è€çˆ¶äº²è¢«ç‚¹å‡»äº†')
        },
        sonFn (e) {
          // e.stopPropagation()
          alert('å„¿å­è¢«ç‚¹å‡»äº†')
        }
      }
    })
  </script>
```



## v-bindå¯¹æ ·å¼æ§åˆ¶çš„å¢å¼º-æ“ä½œclass

ä¸ºäº†æ–¹ä¾¿å¼€å‘è€…è¿›è¡Œæ ·å¼æ§åˆ¶ï¼Œ Vue æ‰©å±•äº† v-bind çš„è¯­æ³•ï¼Œå¯ä»¥é’ˆå¯¹ **class ç±»å** å’Œ **style è¡Œå†…æ ·å¼** è¿›è¡Œæ§åˆ¶ ã€‚

### 1.è¯­æ³•ï¼š

```html
<div> :class = "å¯¹è±¡/æ•°ç»„">è¿™æ˜¯ä¸€ä¸ªdiv</div>
```



### 2.å¯¹è±¡è¯­æ³•

å½“classåŠ¨æ€ç»‘å®šçš„æ˜¯**å¯¹è±¡**æ—¶ï¼Œ**é”®å°±æ˜¯ç±»åï¼Œå€¼å°±æ˜¯å¸ƒå°”å€¼**ï¼Œå¦‚æœå€¼æ˜¯**true**ï¼Œå°±æœ‰è¿™ä¸ªç±»ï¼Œå¦åˆ™æ²¡æœ‰è¿™ä¸ªç±»

```html
<div class="box" :class="{ ç±»å1: å¸ƒå°”å€¼, ç±»å2: å¸ƒå°”å€¼ }"></div>
```

â€‹    é€‚ç”¨åœºæ™¯ï¼šä¸€ä¸ªç±»åï¼Œæ¥å›åˆ‡æ¢



### 3.æ•°ç»„è¯­æ³•

å½“classåŠ¨æ€ç»‘å®šçš„æ˜¯**æ•°ç»„**æ—¶ â†’ æ•°ç»„ä¸­æ‰€æœ‰çš„ç±»ï¼Œéƒ½ä¼šæ·»åŠ åˆ°ç›’å­ä¸Šï¼Œæœ¬è´¨å°±æ˜¯ä¸€ä¸ª class åˆ—è¡¨

```html
<div class="box" :class="[ ç±»å1, ç±»å2, ç±»å3 ]"></div>
```

   ä½¿ç”¨åœºæ™¯:æ‰¹é‡æ·»åŠ æˆ–åˆ é™¤ç±»



### 4.ä»£ç 

```html
<style>
    .box {
      width: 200px;
      height: 200px;
      border: 3px solid #000;
      font-size: 30px;
      margin-top: 10px;
    }
    .pink {
      background-color: pink;
    }
    .big {
      width: 300px;
      height: 300px;
    }
  </style>
</head>
<body>

  <div id="app">
    <div class="box" :class="{ pink: true, big: true }">é»‘é©¬ç¨‹åºå‘˜</div>
    <div class="box" :class="['pink', 'big']">é»‘é©¬ç¨‹åºå‘˜</div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script>
    const app = new Vue({
      el: '#app',
      data: {

      }
    })
  </script>
```



## äº¬ä¸œç§’æ€-tabæ åˆ‡æ¢å¯¼èˆªé«˜äº®

### 1.éœ€æ±‚ï¼š

â€‹	å½“æˆ‘ä»¬ç‚¹å‡»å“ªä¸ªtabé¡µç­¾æ—¶ï¼Œå“ªä¸ªtabé¡µç­¾å°±é«˜äº®

### 2.ä»£ç :

```html
<style>
    * {
      margin: 0;
      padding: 0;
    }
    ul {
      display: flex;
      border-bottom: 2px solid #e01222;
      padding: 0 10px;
    }
    li {
      width: 100px;
      height: 50px;
      line-height: 50px;
      list-style: none;
      text-align: center;
    }
    li a {
      display: block;
      text-decoration: none;
      font-weight: bold;
      color: #333333;
    }
    li a.active {
      background-color: #e01222;
      color: #fff;
    }

  </style>
</head>
<body>

  <div id="app">
    <ul>
      <li v-for="(item, index) in list" :key="item.id" @click="activeIndex = index">
        <a :class="{ active: index === activeIndex }" href="#">{{ item.name }}</a>
      </li>
    </ul>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script>
    const app = new Vue({
      el: '#app',
      data: {
        activeIndex: 2, // è®°å½•é«˜äº®
        list: [
          { id: 1, name: 'äº¬ä¸œç§’æ€' },
          { id: 2, name: 'æ¯æ—¥ç‰¹ä»·' },
          { id: 3, name: 'å“ç±»ç§’æ€' }
        ]
      }
    })
  </script>
```

### 3.æ€è·¯ï¼š

1.åŸºäºæ•°æ®ï¼ŒåŠ¨æ€æ¸²æŸ“tabï¼ˆv-forï¼‰

2.å‡†å¤‡ä¸€ä¸ªä¸‹æ ‡ è®°å½•é«˜äº®çš„æ˜¯å“ªä¸€ä¸ª tab

3.åŸºäºä¸‹æ ‡åŠ¨æ€åˆ‡æ¢classçš„ç±»å



## v-bindå¯¹æœ‰æ ·å¼æ§åˆ¶çš„å¢å¼º-æ“ä½œstyle

### 1.è¯­æ³•

```html
<div class="box" :style="{ CSSå±æ€§å1: CSSå±æ€§å€¼, CSSå±æ€§å2: CSSå±æ€§å€¼ }"></div>
```

### 2.ä»£ç 

```html
<style>
    .box {
      width: 200px;
      height: 200px;
      background-color: rgb(187, 150, 156);
    }
  </style>
</head>
<body>
  <div id="app">
    <div class="box" :style="{ width: '400px', height: '400px', backgroundColor: 'green' }"></div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script>
    const app = new Vue({
      el: '#app',
      data: {

      }
    })
  </script>
```

### 3.è¿›åº¦æ¡æ¡ˆä¾‹

```html
<style>
    .progress {
      height: 25px;
      width: 400px;
      border-radius: 15px;
      background-color: #272425;
      border: 3px solid #272425;
      box-sizing: border-box;
      margin-bottom: 30px;
    }
    .inner {
      width: 50%;
      height: 20px;
      border-radius: 10px;
      text-align: right;
      position: relative;
      background-color: #409eff;
      background-size: 20px 20px;
      box-sizing: border-box;
      transition: all 1s;
    }
    .inner span {
      position: absolute;
      right: -20px;
      bottom: -25px;
    }
  </style>
</head>
<body>
  <div id="app">
    <!-- å¤–å±‚ç›’å­åº•è‰² ï¼ˆé»‘è‰²ï¼‰ -->
    <div class="progress">
      <!-- å†…å±‚ç›’å­ - è¿›åº¦ï¼ˆè“è‰²ï¼‰ -->
      <div class="inner" :style="{ width: percent + '%' }">
        <span>{{ percent }}%</span>
      </div>
    </div>
    <button @click="percent = 25">è®¾ç½®25%</button>
    <button @click="percent = 50">è®¾ç½®50%</button>
    <button @click="percent = 75">è®¾ç½®75%</button>
    <button @click="percent = 100">è®¾ç½®100%</button>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script>
    const app = new Vue({
      el: '#app',
      data: {
        percent: 30
      }
    })
  </script>
```



## v-modelåœ¨å…¶ä»–è¡¨å•å…ƒç´ çš„ä½¿ç”¨

### 1.è®²è§£å†…å®¹ï¼š

å¸¸è§çš„è¡¨å•å…ƒç´ éƒ½å¯ä»¥ç”¨ v-model ç»‘å®šå…³è”  â†’  å¿«é€Ÿ **è·å–** æˆ– **è®¾ç½®** è¡¨å•å…ƒç´ çš„å€¼

å®ƒä¼šæ ¹æ®  **æ§ä»¶ç±»å‹** è‡ªåŠ¨é€‰å–  **æ­£ç¡®çš„æ–¹æ³•** æ¥æ›´æ–°å…ƒç´ 

```js
è¾“å…¥æ¡†  input:text   â€”â€”> value
æ–‡æœ¬åŸŸ  textarea	 â€”â€”> value
å¤é€‰æ¡†  input:checkbox  â€”â€”> checked
å•é€‰æ¡†  input:radio   â€”â€”> checked
ä¸‹æ‹‰èœå• select    â€”â€”> value
...
```

### 2.ä»£ç 

```html
 <style>
    textarea {
      display: block;
      width: 240px;
      height: 100px;
      margin: 10px 0;
    }
  </style>
</head>
<body>

  <div id="app">
    <h3>å°é»‘å­¦ä¹ ç½‘</h3>

    å§“åï¼š
      <input type="text" v-model="username"> 
      <br><br>

    æ˜¯å¦å•èº«ï¼š
      <input type="checkbox" v-model="isSingle"> 
      <br><br>

    <!-- 
      å‰ç½®ç†è§£ï¼š
        1. name:  ç»™å•é€‰æ¡†åŠ ä¸Š name å±æ€§ å¯ä»¥åˆ†ç»„ â†’ åŒä¸€ç»„äº’ç›¸ä¼šäº’æ–¥
        2. value: ç»™å•é€‰æ¡†åŠ ä¸Š value å±æ€§ï¼Œç”¨äºæäº¤ç»™åå°çš„æ•°æ®
      ç»“åˆ Vue ä½¿ç”¨ â†’ v-model
    -->
    æ€§åˆ«: 
      <input v-model="gender" type="radio" name="gender" value="1">ç”·
      <input v-model="gender" type="radio" name="gender" value="2">å¥³
      <br><br>

    <!-- 
      å‰ç½®ç†è§£ï¼š
        1. option éœ€è¦è®¾ç½® value å€¼ï¼Œæäº¤ç»™åå°
        2. select çš„ value å€¼ï¼Œå…³è”äº†é€‰ä¸­çš„ option çš„ value å€¼
      ç»“åˆ Vue ä½¿ç”¨ â†’ v-model
    -->
    æ‰€åœ¨åŸå¸‚:
      <select v-model="cityId">
        <option value="101">åŒ—äº¬</option>
        <option value="102">ä¸Šæµ·</option>
        <option value="103">æˆéƒ½</option>
        <option value="104">å—äº¬</option>
      </select>
      <br><br>

    è‡ªæˆ‘æè¿°ï¼š
      <textarea v-model="desc"></textarea> 

    <button>ç«‹å³æ³¨å†Œ</button>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script>
    const app = new Vue({
      el: '#app',
      data: {
        username: '',
        isSingle: false,
        gender: "2",
        cityId: '102',
        desc: ""
      }
    })
  </script>
```



## computedè®¡ç®—å±æ€§

### 1.æ¦‚å¿µ

åŸºäº**ç°æœ‰çš„æ•°æ®**ï¼Œè®¡ç®—å‡ºæ¥çš„**æ–°å±æ€§**ã€‚ **ä¾èµ–**çš„æ•°æ®å˜åŒ–ï¼Œ**è‡ªåŠ¨**é‡æ–°è®¡ç®—ã€‚

### 2.è¯­æ³•

1. å£°æ˜åœ¨ **computed é…ç½®é¡¹**ä¸­ï¼Œä¸€ä¸ªè®¡ç®—å±æ€§å¯¹åº”ä¸€ä¸ªå‡½æ•°
2. ä½¿ç”¨èµ·æ¥å’Œæ™®é€šå±æ€§ä¸€æ ·ä½¿ç”¨  `{{ è®¡ç®—å±æ€§å}}`  

### 3.æ³¨æ„

1. computedé…ç½®é¡¹å’Œdataé…ç½®é¡¹æ˜¯**åŒçº§**çš„
2. computedä¸­çš„è®¡ç®—å±æ€§**è™½ç„¶æ˜¯å‡½æ•°çš„å†™æ³•**ï¼Œä½†ä»–**ä¾ç„¶æ˜¯ä¸ªå±æ€§**
3. computedä¸­çš„è®¡ç®—å±æ€§**ä¸èƒ½**å’Œdataä¸­çš„å±æ€§**åŒå**
4. ä½¿ç”¨computedä¸­çš„è®¡ç®—å±æ€§å’Œä½¿ç”¨dataä¸­çš„å±æ€§æ˜¯ä¸€æ ·çš„ç”¨æ³•
5. computedä¸­è®¡ç®—å±æ€§å†…éƒ¨çš„**this**ä¾ç„¶**æŒ‡å‘çš„æ˜¯Vueå®ä¾‹**

### 4.æ¡ˆä¾‹

æ¯”å¦‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è®¡ç®—å±æ€§å®ç°ä¸‹é¢è¿™ä¸ªä¸šåŠ¡åœºæ™¯

![68203932785](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682039327858.png)

### 5.ä»£ç 

```html
<style>
    table {
      border: 1px solid #000;
      text-align: center;
      width: 240px;
    }
    th,td {
      border: 1px solid #000;
    }
    h3 {
      position: relative;
    }
  </style>
</head>
<body>

  <div id="app">
    <h3>å°é»‘çš„ç¤¼ç‰©æ¸…å•</h3>
    <table>
      <tr>
        <th>åå­—</th>
        <th>æ•°é‡</th>
      </tr>
      <tr v-for="(item, index) in list" :key="item.id">
        <td>{{ item.name }}</td>
        <td>{{ item.num }}ä¸ª</td>
      </tr>
    </table>

    <!-- ç›®æ ‡ï¼šç»Ÿè®¡æ±‚å’Œï¼Œæ±‚å¾—ç¤¼ç‰©æ€»æ•° -->
    <p>ç¤¼ç‰©æ€»æ•°ï¼š{{ totalCount }} ä¸ª</p>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script>
    const app = new Vue({
      el: '#app',
      data: {
        // ç°æœ‰çš„æ•°æ®
        list: [
          { id: 1, name: 'ç¯®çƒ', num: 1 },
          { id: 2, name: 'ç©å…·', num: 2 },
          { id: 3, name: 'é“…ç¬”', num: 5 },
        ]
      },
      computed: {
        totalCount () {
          // åŸºäºç°æœ‰çš„æ•°æ®ï¼Œç¼–å†™æ±‚å€¼é€»è¾‘
          // è®¡ç®—å±æ€§å‡½æ•°å†…éƒ¨ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ this è®¿é—®åˆ° app å®ä¾‹
          // console.log(this.list)

          // éœ€æ±‚ï¼šå¯¹ this.list æ•°ç»„é‡Œé¢çš„ num è¿›è¡Œæ±‚å’Œ â†’ reduce
          // sum: æ±‚å’Œå¾—æ¥çš„æ•°
          // item: è¯¥list
          // 0:sumåˆå§‹å€¼æ˜¯0
          let total = this.list.reduce((sum, item) => sum + item.num, 0)
          return total
        }
      }
    })
  </script>
```



## computedè®¡ç®—å±æ€§ VS methodsæ–¹æ³•

### 1.computedè®¡ç®—å±æ€§

ä½œç”¨ï¼šå°è£…äº†ä¸€æ®µå¯¹äº**æ•°æ®**çš„å¤„ç†ï¼Œæ±‚å¾—ä¸€ä¸ª**ç»“æœ**

è¯­æ³•ï¼š

1. å†™åœ¨computedé…ç½®é¡¹ä¸­
2. ä½œä¸ºå±æ€§ï¼Œç›´æ¥ä½¿ç”¨
   - jsä¸­ä½¿ç”¨è®¡ç®—å±æ€§ï¼š this.è®¡ç®—å±æ€§
   - æ¨¡æ¿ä¸­ä½¿ç”¨è®¡ç®—å±æ€§ï¼š`{{è®¡ç®—å±æ€§}}`



### 2.methodsè®¡ç®—å±æ€§

ä½œç”¨ï¼šç»™Vueå®ä¾‹æä¾›ä¸€ä¸ª**æ–¹æ³•**ï¼Œè°ƒç”¨ä»¥**å¤„ç†ä¸šåŠ¡é€»è¾‘**ã€‚

è¯­æ³•ï¼š

1. å†™åœ¨methodsé…ç½®é¡¹ä¸­
2. ä½œä¸ºæ–¹æ³•è°ƒç”¨
   - jsä¸­è°ƒç”¨ï¼šthis.æ–¹æ³•å()
   - æ¨¡æ¿ä¸­è°ƒç”¨ `{{æ–¹æ³•å()}}`  æˆ–è€… @äº‹ä»¶å=â€œæ–¹æ³•åâ€



### 3.è®¡ç®—å±æ€§çš„ä¼˜åŠ¿

1. ç¼“å­˜ç‰¹æ€§ï¼ˆæå‡æ€§èƒ½ï¼‰

   è®¡ç®—å±æ€§ä¼šå¯¹è®¡ç®—å‡ºæ¥çš„ç»“æœç¼“å­˜ï¼Œå†æ¬¡ä½¿ç”¨ç›´æ¥è¯»å–ç¼“å­˜ï¼Œ

   ä¾èµ–é¡¹å˜åŒ–äº†ï¼Œä¼šè‡ªåŠ¨é‡æ–°è®¡ç®— â†’ å¹¶å†æ¬¡ç¼“å­˜

2. methodsæ²¡æœ‰ç¼“å­˜ç‰¹æ€§

3. é€šè¿‡ä»£ç æ¯”è¾ƒ

```html
<style>
    table {
      border: 1px solid #000;
      text-align: center;
      width: 300px;
    }
    th,td {
      border: 1px solid #000;
    }
    h3 {
      position: relative;
    }
    span {
      position: absolute;
      left: 145px;
      top: -4px;
      width: 16px;
      height: 16px;
      color: white;
      font-size: 12px;
      text-align: center;
      border-radius: 50%;
      background-color: #e63f32;
    }
  </style>
</head>
<body>

  <div id="app">
    <h3>å°é»‘çš„ç¤¼ç‰©æ¸…å•ğŸ›’<span>{{ totalCountFn() }}</span></h3>
    <h3>å°é»‘çš„ç¤¼ç‰©æ¸…å•ğŸ›’<span>{{ totalCountFn() }}</span></h3>
    <h3>å°é»‘çš„ç¤¼ç‰©æ¸…å•ğŸ›’<span>{{ totalCountFn() }}</span></h3>
    <h3>å°é»‘çš„ç¤¼ç‰©æ¸…å•ğŸ›’<span>{{ totalCountFn() }}</span></h3>
    <table>
      <tr>
        <th>åå­—</th>
        <th>æ•°é‡</th>
      </tr>
      <tr v-for="(item, index) in list" :key="item.id">
        <td>{{ item.name }}</td>
        <td>{{ item.num }}ä¸ª</td>
      </tr>
    </table>

    <p>ç¤¼ç‰©æ€»æ•°ï¼š{{ totalCountFn() }} ä¸ª</p>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script>
    const app = new Vue({
      el: '#app',
      data: {
        // ç°æœ‰çš„æ•°æ®
        list: [
          { id: 1, name: 'ç¯®çƒ', num: 3 },
          { id: 2, name: 'ç©å…·', num: 2 },
          { id: 3, name: 'é“…ç¬”', num: 5 },
        ]
      },

      methods: {
        totalCountFn () {
          console.log('methodsæ–¹æ³•æ‰§è¡Œäº†')
          let total = this.list.reduce((sum, item) => sum + item.num, 0)
          return total
        }
      },

      computed: {
        // è®¡ç®—å±æ€§ï¼šæœ‰ç¼“å­˜çš„ï¼Œä¸€æ—¦è®¡ç®—å‡ºæ¥ç»“æœï¼Œå°±ä¼šç«‹åˆ»ç¼“å­˜
        // ä¸‹ä¸€æ¬¡è¯»å– â†’ ç›´æ¥è¯»ç¼“å­˜å°±è¡Œ â†’ æ€§èƒ½ç‰¹åˆ«é«˜
        // totalCount () {
        //   console.log('è®¡ç®—å±æ€§æ‰§è¡Œäº†')
        //   let total = this.list.reduce((sum, item) => sum + item.num, 0)
        //   return total
        // }
      }
    })
  </script>
```

### 4.æ€»ç»“

1.computed**æœ‰ç¼“å­˜ç‰¹æ€§**ï¼Œmethods**æ²¡æœ‰ç¼“å­˜**

2.å½“ä¸€ä¸ªç»“æœä¾èµ–å…¶ä»–å¤šä¸ªå€¼æ—¶ï¼Œæ¨èä½¿ç”¨è®¡ç®—å±æ€§

3.å½“å¤„ç†ä¸šåŠ¡é€»è¾‘æ—¶ï¼Œæ¨èä½¿ç”¨methodsæ–¹æ³•ï¼Œæ¯”å¦‚äº‹ä»¶çš„å¤„ç†å‡½æ•°



## è®¡ç®—å±æ€§çš„å®Œæ•´å†™æ³•

**æ—¢ç„¶è®¡ç®—å±æ€§ä¹Ÿæ˜¯å±æ€§ï¼Œèƒ½è®¿é—®ï¼Œåº”è¯¥ä¹Ÿèƒ½ä¿®æ”¹äº†ï¼Ÿ**

1. è®¡ç®—å±æ€§é»˜è®¤çš„ç®€å†™ï¼Œåªèƒ½è¯»å–è®¿é—®ï¼Œä¸èƒ½ "ä¿®æ”¹"
2. å¦‚æœè¦ "ä¿®æ”¹"  â†’ éœ€è¦å†™è®¡ç®—å±æ€§çš„å®Œæ•´å†™æ³•

![68204182296](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682041822963.png)

å®Œæ•´å†™æ³•ä»£ç æ¼”ç¤º

```html
<style>
    input {
      width: 30px;
    }
  </style>
</head>
<body>

  <div id="app">
    å§“ï¼š<input type="text" v-model="firstName"> +
    åï¼š<input type="text" v-model="lastName"> =
    <span>{{ fullName }}</span><br><br>
    
    <button @click="changeName">æ”¹åå¡</button>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script>
    const app = new Vue({
      el: '#app',
      data: {
        firstName: 'åˆ˜',
        lastName: 'å¤‡',
      },
      methods: {
        changeName () {
          this.fullName = 'é»„å¿ '
        }
      },
      computed: {
        // ç®€å†™ â†’ è·å–ï¼Œæ²¡æœ‰é…ç½®è®¾ç½®çš„é€»è¾‘
        // fullName () {
        //   return this.firstName + this.lastName
        // }

        // å®Œæ•´å†™æ³• â†’ è·å– + è®¾ç½®
        fullName: {
          // (1) å½“fullNameè®¡ç®—å±æ€§ï¼Œè¢«è·å–æ±‚å€¼æ—¶ï¼Œæ‰§è¡Œgetï¼ˆæœ‰ç¼“å­˜ï¼Œä¼˜å…ˆè¯»ç¼“å­˜ï¼‰
          //     ä¼šå°†è¿”å›å€¼ä½œä¸ºï¼Œæ±‚å€¼çš„ç»“æœ
          get () {
            return this.firstName + this.lastName
          },
          // (2) å½“fullNameè®¡ç®—å±æ€§ï¼Œè¢«ä¿®æ”¹èµ‹å€¼æ—¶ï¼Œæ‰§è¡Œset
          //     ä¿®æ”¹çš„å€¼ï¼Œä¼ é€’ç»™setæ–¹æ³•çš„å½¢å‚
          set (value) {
            // console.log(value.slice(0, 1))          
            // console.log(value.slice(1))         
            this.firstName = value.slice(0, 1)
            this.lastName = value.slice(1)
          }
        }
      }
    })
  </script>
```



## ç»¼åˆæ¡ˆä¾‹-æˆç»©æ¡ˆä¾‹

![68204248931](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682042489319.png)

åŠŸèƒ½æè¿°ï¼š

1.æ¸²æŸ“åŠŸèƒ½

2.åˆ é™¤åŠŸèƒ½

3.æ·»åŠ åŠŸèƒ½

4.ç»Ÿè®¡æ€»åˆ†ï¼Œæ±‚å¹³å‡åˆ†



æ€è·¯åˆ†æï¼š

1.æ¸²æŸ“åŠŸèƒ½  v-for  :key  v-bind:åŠ¨æ€ç»‘å®šclassçš„æ ·å¼

2.åˆ é™¤åŠŸèƒ½ v-onç»‘å®šäº‹ä»¶ï¼Œ é˜»æ­¢aæ ‡ç­¾çš„é»˜è®¤è¡Œä¸º

3.v-modelçš„ä¿®é¥°ç¬¦ .trimã€ .numberã€  åˆ¤æ–­æ•°æ®æ˜¯å¦ä¸ºç©ºå å†æ·»åŠ ã€æ·»åŠ åæ¸…ç©ºæ–‡æœ¬æ¡†çš„æ•°æ®

4.ä½¿ç”¨è®¡ç®—å±æ€§computed è®¡ç®—æ€»åˆ†å’Œå¹³å‡åˆ†çš„å€¼



## watchä¾¦å¬å™¨ï¼ˆç›‘è§†å™¨ï¼‰

### 1.ä½œç”¨ï¼š

â€‹	**ç›‘è§†æ•°æ®å˜åŒ–**ï¼Œæ‰§è¡Œä¸€äº›ä¸šåŠ¡é€»è¾‘æˆ–å¼‚æ­¥æ“ä½œ

### 2.è¯­æ³•ï¼š

1. watchåŒæ ·å£°æ˜åœ¨è·ŸdataåŒçº§çš„é…ç½®é¡¹ä¸­

2. ç®€å•å†™æ³•ï¼š ç®€å•ç±»å‹æ•°æ®ç›´æ¥ç›‘è§†

3. å®Œæ•´å†™æ³•ï¼šæ·»åŠ é¢å¤–é…ç½®é¡¹

   ```js
   data: { 
   Â  words: 'è‹¹æœ',
   Â  obj: {
   Â  Â  words: 'è‹¹æœ'
   Â  }
   },
   
   watch: {
     // è¯¥æ–¹æ³•ä¼šåœ¨æ•°æ®å˜åŒ–æ—¶ï¼Œè§¦å‘æ‰§è¡Œ
   Â  æ•°æ®å±æ€§å (newValue, oldValue) {
       ä¸€äº›ä¸šåŠ¡é€»è¾‘ æˆ– å¼‚æ­¥æ“ä½œã€‚ 
     },
     'å¯¹è±¡.å±æ€§å' (newValue, oldValue) {
       ä¸€äº›ä¸šåŠ¡é€»è¾‘ æˆ– å¼‚æ­¥æ“ä½œã€‚ 
     }
   }
   ```

### 3.ä¾¦å¬å™¨ä»£ç å‡†å¤‡

```html
<style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-size: 18px;
      }
      #app {
        padding: 10px 20px;
      }
      .query {
        margin: 10px 0;
      }
      .box {
        display: flex;
      }
      textarea {
        width: 300px;
        height: 160px;
        font-size: 18px;
        border: 1px solid #dedede;
        outline: none;
        resize: none;
        padding: 10px;
      }
      textarea:hover {
        border: 1px solid #1589f5;
      }
      .transbox {
        width: 300px;
        height: 160px;
        background-color: #f0f0f0;
        padding: 10px;
        border: none;
      }
      .tip-box {
        width: 300px;
        height: 25px;
        line-height: 25px;
        display: flex;
      }
      .tip-box span {
        flex: 1;
        text-align: center;
      }
      .query span {
        font-size: 18px;
      }

      .input-wrap {
        position: relative;
      }
      .input-wrap span {
        position: absolute;
        right: 15px;
        bottom: 15px;
        font-size: 12px;
      }
      .input-wrap i {
        font-size: 20px;
        font-style: normal;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <!-- æ¡ä»¶é€‰æ‹©æ¡† -->
      <div class="query">
        <span>ç¿»è¯‘æˆçš„è¯­è¨€ï¼š</span>
        <select>
          <option value="italy">æ„å¤§åˆ©</option>
          <option value="english">è‹±è¯­</option>
          <option value="german">å¾·è¯­</option>
        </select>
      </div>

      <!-- ç¿»è¯‘æ¡† -->
      <div class="box">
        <div class="input-wrap">
          <textarea v-model="obj.words"></textarea>
          <span><i>âŒ¨ï¸</i>æ–‡æ¡£ç¿»è¯‘</span>
        </div>
        <div class="output-wrap">
          <div class="transbox">mela</div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
      // æ¥å£åœ°å€ï¼šhttps://applet-base-api-t.itheima.net/api/translate
      // è¯·æ±‚æ–¹å¼ï¼šget
      // è¯·æ±‚å‚æ•°ï¼š
      // ï¼ˆ1ï¼‰wordsï¼šéœ€è¦è¢«ç¿»è¯‘çš„æ–‡æœ¬ï¼ˆå¿…ä¼ ï¼‰
      // ï¼ˆ2ï¼‰langï¼š éœ€è¦è¢«ç¿»è¯‘æˆçš„è¯­è¨€ï¼ˆå¯é€‰ï¼‰é»˜è®¤å€¼-æ„å¤§åˆ©
      // -----------------------------------------------
      
      const app = new Vue({
        el: '#app',
        data: {
          // words: ''
          obj: {
            words: ''
          }
        },
        // å…·ä½“è®²è§£ï¼š(1) watchè¯­æ³• (2) å…·ä½“ä¸šåŠ¡å®ç°
        watch: {
          // è¯¥æ–¹æ³•ä¼šåœ¨æ•°æ®å˜åŒ–æ—¶è°ƒç”¨æ‰§è¡Œ
          // newValueæ–°å€¼, oldValueè€å€¼ï¼ˆä¸€èˆ¬ä¸ç”¨ï¼‰
          // words (newValue) {
          //   console.log('å˜åŒ–äº†', newValue)
          // }

          'obj.words' (newValue) {
            console.log('å˜åŒ–äº†', newValue)
          }
        }
      })
    </script>
```



## ç¿»è¯‘æ¡ˆä¾‹-ä»£ç å®ç°

```js
  <script>
      // æ¥å£åœ°å€ï¼šhttps://applet-base-api-t.itheima.net/api/translate
      // è¯·æ±‚æ–¹å¼ï¼šget
      // è¯·æ±‚å‚æ•°ï¼š
      // ï¼ˆ1ï¼‰wordsï¼šéœ€è¦è¢«ç¿»è¯‘çš„æ–‡æœ¬ï¼ˆå¿…ä¼ ï¼‰
      // ï¼ˆ2ï¼‰langï¼š éœ€è¦è¢«ç¿»è¯‘æˆçš„è¯­è¨€ï¼ˆå¯é€‰ï¼‰é»˜è®¤å€¼-æ„å¤§åˆ©
      // -----------------------------------------------
      
      const app = new Vue({
        el: '#app',
        data: {
           //words: ''
           obj: {
            words: ''
          },
          result: '', // ç¿»è¯‘ç»“æœ
          // timer: null // å»¶æ—¶å™¨id
        },
        // å…·ä½“è®²è§£ï¼š(1) watchè¯­æ³• (2) å…·ä½“ä¸šåŠ¡å®ç°
        watch: {
          // è¯¥æ–¹æ³•ä¼šåœ¨æ•°æ®å˜åŒ–æ—¶è°ƒç”¨æ‰§è¡Œ
          // newValueæ–°å€¼, oldValueè€å€¼ï¼ˆä¸€èˆ¬ä¸ç”¨ï¼‰
          // words (newValue) {
          //   console.log('å˜åŒ–äº†', newValue)
          // }

          'obj.words' (newValue) {
            // console.log('å˜åŒ–äº†', newValue)
            // é˜²æŠ–: å»¶è¿Ÿæ‰§è¡Œ â†’ å¹²å•¥äº‹å…ˆç­‰ä¸€ç­‰ï¼Œå»¶è¿Ÿä¸€ä¼šï¼Œä¸€æ®µæ—¶é—´å†…æ²¡æœ‰å†æ¬¡è§¦å‘ï¼Œæ‰æ‰§è¡Œ
            clearTimeout(this.timer)
            this.timer = setTimeout(async () => {
              const res = await axios({
                url: 'https://applet-base-api-t.itheima.net/api/translate',
                params: {
                  words: newValue
                }
              })
              this.result = res.data.data
              console.log(res.data.data)
            }, 300)
          }
        }
      })
    </script>
```



## watchä¾¦å¬å™¨å®Œæ•´å†™æ³•

### 1.è¯­æ³•

å®Œæ•´å†™æ³• â€”>æ·»åŠ é¢å¤–çš„é…ç½®é¡¹

1. deep:true å¯¹å¤æ‚ç±»å‹è¿›è¡Œæ·±åº¦ç›‘å¬
2. immdiate:true åˆå§‹åŒ– ç«‹åˆ»æ‰§è¡Œä¸€æ¬¡

```js
data: {
Â  obj: {
Â  Â  words: 'è‹¹æœ',
Â  Â  lang: 'italy'
Â  },
},

watch: {// watch å®Œæ•´å†™æ³•
Â  å¯¹è±¡: {
    deep: true, // æ·±åº¦ç›‘è§†
    immdiate:true,//ç«‹å³æ‰§è¡Œhandlerå‡½æ•°
Â  Â  handler (newValue) {
Â  Â  Â  console.log(newValue)
Â  Â  }
Â  }
}

```

### 2.éœ€æ±‚

![68205051572](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682050515722.png)



- å½“æ–‡æœ¬æ¡†è¾“å…¥çš„æ—¶å€™ å³ä¾§ç¿»è¯‘å†…å®¹è¦æ—¶æ—¶å˜åŒ–
- å½“ä¸‹æ‹‰æ¡†ä¸­çš„è¯­è¨€å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ å³ä¾§ç¿»è¯‘çš„å†…å®¹ä¾ç„¶è¦æ—¶æ—¶å˜åŒ–
- å¦‚æœæ–‡æœ¬æ¡†ä¸­æœ‰é»˜è®¤å€¼çš„è¯è¦ç«‹å³ç¿»è¯‘

### 3.ä»£ç å®ç°

```js
<script>
      // éœ€æ±‚ï¼šè¾“å…¥å†…å®¹ï¼Œä¿®æ”¹è¯­è¨€ï¼Œéƒ½å®æ—¶ç¿»è¯‘

      // æ¥å£åœ°å€ï¼šhttps://applet-base-api-t.itheima.net/api/translate
      // è¯·æ±‚æ–¹å¼ï¼šget
      // è¯·æ±‚å‚æ•°ï¼š
      // ï¼ˆ1ï¼‰wordsï¼šéœ€è¦è¢«ç¿»è¯‘çš„æ–‡æœ¬ï¼ˆå¿…ä¼ ï¼‰
      // ï¼ˆ2ï¼‰langï¼š éœ€è¦è¢«ç¿»è¯‘æˆçš„è¯­è¨€ï¼ˆå¯é€‰ï¼‰é»˜è®¤å€¼-æ„å¤§åˆ©
      // -----------------------------------------------
   
      const app = new Vue({
        el: '#app',
        data: {
          obj: {
            words: 'å°é»‘',
            lang: 'italy'
          },
          result: '', // ç¿»è¯‘ç»“æœ
        },
        watch: {
          obj: {
            deep: true, // æ·±åº¦ç›‘è§†
            immediate: true, // ç«‹åˆ»æ‰§è¡Œï¼Œä¸€è¿›å…¥é¡µé¢handlerå°±ç«‹åˆ»æ‰§è¡Œä¸€æ¬¡
            handler (newValue) {
              clearTimeout(this.timer)
              this.timer = setTimeout(async () => {
                const res = await axios({
                  url: 'https://applet-base-api-t.itheima.net/api/translate',
                  params: newValue
                })
                this.result = res.data.data
                console.log(res.data.data)
              }, 300)
            }
          }


          // 'obj.words' (newValue) {
          //   clearTimeout(this.timer)
          //   this.timer = setTimeout(async () => {
          //     const res = await axios({
          //       url: 'https://applet-base-api-t.itheima.net/api/translate',
          //       params: {
          //         words: newValue
          //       }
          //     })
          //     this.result = res.data.data
          //     console.log(res.data.data)
          //   }, 300)
          // }
        }
      })
    </script>
```

### 4.æ€»ç»“

watchä¾¦å¬å™¨çš„å†™æ³•æœ‰å‡ ç§ï¼Ÿ

1.ç®€å•å†™æ³•

```js
watch: {
Â  æ•°æ®å±æ€§å (newValue, oldValue) {
    ä¸€äº›ä¸šåŠ¡é€»è¾‘ æˆ– å¼‚æ­¥æ“ä½œã€‚ 
  },
  'å¯¹è±¡.å±æ€§å' (newValue, oldValue) {
    ä¸€äº›ä¸šåŠ¡é€»è¾‘ æˆ– å¼‚æ­¥æ“ä½œã€‚ 
  }
}
```

2.å®Œæ•´å†™æ³•

```js
watch: {// watch å®Œæ•´å†™æ³•
Â  æ•°æ®å±æ€§å: {
    deep: true, // æ·±åº¦ç›‘è§†(é’ˆå¯¹å¤æ‚ç±»å‹),å› ä¸ºdeepé»˜è®¤ç›‘è§†çš„æ˜¯æ™®é€šç±»å‹,è‹¥æ˜¯å¯¹è±¡è¿™ç§å¤æ‚ç±»å‹åˆ™æ— æ³•ç›‘è§†
    immediate: true, // æ˜¯å¦ç«‹åˆ»æ‰§è¡Œä¸€æ¬¡handler
Â  Â  handler (newValue) {
Â  Â  Â  console.log(newValue)
Â  Â  }
Â  }
}
```

## ç»¼åˆæ¡ˆä¾‹

è´­ç‰©è½¦æ¡ˆä¾‹

![68205100897](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682051008978.png)



éœ€æ±‚è¯´æ˜ï¼š

1. æ¸²æŸ“åŠŸèƒ½
2. åˆ é™¤åŠŸèƒ½
3. ä¿®æ”¹ä¸ªæ•°
4. å…¨é€‰åé€‰
5. ç»Ÿè®¡ é€‰ä¸­çš„ æ€»ä»· å’Œ æ€»æ•°é‡ 
6. æŒä¹…åŒ–åˆ°æœ¬åœ°



å®ç°æ€è·¯ï¼š

1.åŸºæœ¬æ¸²æŸ“ï¼š  v-foréå†ã€:classåŠ¨æ€ç»‘å®šæ ·å¼

2.åˆ é™¤åŠŸèƒ½ ï¼š v-on ç»‘å®šäº‹ä»¶ï¼Œè·å–å½“å‰è¡Œçš„id

3.ä¿®æ”¹ä¸ªæ•° ï¼š v-onç»‘å®šäº‹ä»¶ï¼Œè·å–å½“å‰è¡Œçš„idï¼Œè¿›è¡Œç­›é€‰å‡ºå¯¹åº”çš„é¡¹ç„¶åå¢åŠ æˆ–å‡å°‘

4.å…¨é€‰åé€‰ 

1. å¿…é¡»æ‰€æœ‰çš„å°é€‰æ¡†éƒ½é€‰ä¸­ï¼Œå…¨é€‰æŒ‰é’®æ‰é€‰ä¸­ â†’ every
2. å¦‚æœå…¨é€‰æŒ‰é’®é€‰ä¸­ï¼Œåˆ™æ‰€æœ‰å°é€‰æ¡†éƒ½é€‰ä¸­
3. å¦‚æœå…¨é€‰å–æ¶ˆï¼Œåˆ™æ‰€æœ‰å°é€‰æ¡†éƒ½å–æ¶ˆé€‰ä¸­

å£°æ˜è®¡ç®—å±æ€§ï¼Œåˆ¤æ–­æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªcheckedå±æ€§çš„å€¼ï¼Œçœ‹æ˜¯å¦éœ€è¦å…¨éƒ¨é€‰

5.ç»Ÿè®¡ é€‰ä¸­çš„ æ€»ä»· å’Œ æ€»æ•°é‡ ï¼šé€šè¿‡è®¡ç®—å±æ€§æ¥è®¡ç®—**é€‰ä¸­çš„**æ€»ä»·å’Œæ€»æ•°é‡

6.æŒä¹…åŒ–åˆ°æœ¬åœ°ï¼š åœ¨æ•°æ®å˜åŒ–æ—¶éƒ½è¦æ›´æ–°ä¸‹æœ¬åœ°å­˜å‚¨ watch

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/inputnumber.css" />
    <link rel="stylesheet" href="./css/index.css" />
    <title>è´­ç‰©è½¦</title>
  </head>
  <body>
    <div class="app-container" id="app">
      <!-- é¡¶éƒ¨banner -->
      <div class="banner-box"><img src="http://autumnfish.cn/static/fruit.jpg" alt="" /></div>
      <!-- é¢åŒ…å±‘ -->
      <div class="breadcrumb">
        <span>ğŸ </span>
        /
        <span>è´­ç‰©è½¦</span>
      </div>
      <!-- è´­ç‰©è½¦ä¸»ä½“ -->
      <div class="main" v-if="fruitList.length > 0">
        <div class="table">
          <!-- å¤´éƒ¨ -->
          <div class="thead">
            <div class="tr">
              <div class="th">é€‰ä¸­</div>
              <div class="th th-pic">å›¾ç‰‡</div>
              <div class="th">å•ä»·</div>
              <div class="th num-th">ä¸ªæ•°</div>
              <div class="th">å°è®¡</div>
              <div class="th">æ“ä½œ</div>
            </div>
          </div>
          <!-- èº«ä½“ -->
          <div class="tbody">
            <div v-for="(item, index) in fruitList" :key="item.id" class="tr" :class="{ active: item.isChecked }">
              <div class="td"><input type="checkbox" v-model="item.isChecked" /></div>
              <div class="td"><img :src="item.icon" alt="" /></div>
              <div class="td">{{ item.price }}</div>
              <div class="td">
                <div class="my-input-number">
                  <button :disabled="item.num <= 1" class="decrease" @click="sub(item.id)"> - </button>
                  <span class="my-input__inner">{{ item.num }}</span>
                  <button class="increase" @click="add(item.id)"> + </button>
                </div>
              </div>
              <div class="td">{{ item.num * item.price }}</div>
              <div class="td"><button @click="del(item.id)">åˆ é™¤</button></div>
            </div>
          </div>
        </div>
        <!-- åº•éƒ¨ -->
        <div class="bottom">
          <!-- å…¨é€‰ -->
          <label class="check-all">
            <input type="checkbox" v-model="isAll"/>
            å…¨é€‰
          </label>
          <div class="right-box">
            <!-- æ‰€æœ‰å•†å“æ€»ä»· -->
            <span class="price-box">æ€»ä»·&nbsp;&nbsp;:&nbsp;&nbsp;Â¥&nbsp;<span class="price">{{ totalPrice }}</span></span>
            <!-- ç»“ç®—æŒ‰é’® -->
            <button class="pay">ç»“ç®—( {{ totalCount }} )</button>
          </div>
        </div>
      </div>
      <!-- ç©ºè½¦ -->
      <div class="empty" v-else>ğŸ›’ç©ºç©ºå¦‚ä¹Ÿ</div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script>
      const defaultArr = [
            {
              id: 1,
              icon: 'http://autumnfish.cn/static/ç«é¾™æœ.png',
              isChecked: true,
              num: 2,
              price: 6,
            },
            {
              id: 2,
              icon: 'http://autumnfish.cn/static/è”æ.png',
              isChecked: false,
              num: 7,
              price: 20,
            },
            {
              id: 3,
              icon: 'http://autumnfish.cn/static/æ¦´è².png',
              isChecked: false,
              num: 3,
              price: 40,
            },
            {
              id: 4,
              icon: 'http://autumnfish.cn/static/é¸­æ¢¨.png',
              isChecked: true,
              num: 10,
              price: 3,
            },
            {
              id: 5,
              icon: 'http://autumnfish.cn/static/æ¨±æ¡ƒ.png',
              isChecked: false,
              num: 20,
              price: 34,
            },
          ]
      const app = new Vue({
        el: '#app',
        data: {
          // æ°´æœåˆ—è¡¨
          fruitList: JSON.parse(localStorage.getItem('list')) || defaultArr,
        },
        computed: {
          // é»˜è®¤è®¡ç®—å±æ€§ï¼šåªèƒ½è·å–ä¸èƒ½è®¾ç½®ï¼Œè¦è®¾ç½®éœ€è¦å†™å®Œæ•´å†™æ³•
          // isAll () {
          //   // å¿…é¡»æ‰€æœ‰çš„å°é€‰æ¡†éƒ½é€‰ä¸­ï¼Œå…¨é€‰æŒ‰é’®æ‰é€‰ä¸­ â†’ every
          //   return this.fruitList.every(item => item.isChecked)
          // }
          
          // å®Œæ•´å†™æ³• = get + set
          isAll: {
            get () {
              return this.fruitList.every(item => item.isChecked)
            },
            set (value) {
              // åŸºäºæ‹¿åˆ°çš„å¸ƒå°”å€¼ï¼Œè¦è®©æ‰€æœ‰çš„å°é€‰æ¡† åŒæ­¥çŠ¶æ€
              this.fruitList.forEach(item => item.isChecked = value)
            }
          },
          // ç»Ÿè®¡é€‰ä¸­çš„æ€»æ•° reduce
          totalCount () {
            return this.fruitList.reduce((sum, item) => {
              if (item.isChecked) {
                // é€‰ä¸­ â†’ éœ€è¦ç´¯åŠ 
                return sum + item.num
              } else {
                // æ²¡é€‰ä¸­ â†’ ä¸éœ€è¦ç´¯åŠ 
                return sum
              }
            }, 0)
          },
          // æ€»è®¡é€‰ä¸­çš„æ€»ä»· num * price
          totalPrice () {
            return this.fruitList.reduce((sum, item) => {
              if (item.isChecked) {
                return sum + item.num * item.price
              } else {
                return sum
              }
            }, 0)
          }
        },
        methods: {
          del (id) {
            this.fruitList = this.fruitList.filter(item => item.id !== id)
          },
          add (id) {
            // 1. æ ¹æ® id æ‰¾åˆ°æ•°ç»„ä¸­çš„å¯¹åº”é¡¹ â†’ find
            const fruit = this.fruitList.find(item => item.id === id)
            // 2. æ“ä½œ num æ•°é‡
            fruit.num++
          },
          sub (id) {
            // 1. æ ¹æ® id æ‰¾åˆ°æ•°ç»„ä¸­çš„å¯¹åº”é¡¹ â†’ find
            const fruit = this.fruitList.find(item => item.id === id)
            // 2. æ“ä½œ num æ•°é‡
            fruit.num--
          }
        },
        watch: {
          fruitList: {
            deep: true,
            handler (newValue) {
              // éœ€è¦å°†å˜åŒ–åçš„ newValue å­˜å…¥æœ¬åœ° ï¼ˆè½¬JSONï¼‰
              localStorage.setItem('list', JSON.stringify(newValue))
            }
          }
        }
      })
    </script>
  </body>
</html>

```



## Vueç”Ÿå‘½å‘¨æœŸ

æ€è€ƒï¼šä»€ä¹ˆæ—¶å€™å¯ä»¥å‘é€åˆå§‹åŒ–æ¸²æŸ“è¯·æ±‚ï¼Ÿï¼ˆè¶Šæ—©è¶Šå¥½ï¼‰ä»€ä¹ˆæ—¶å€™å¯ä»¥å¼€å§‹æ“ä½œdomï¼Ÿï¼ˆè‡³å°‘domå¾—æ¸²æŸ“å‡ºæ¥ï¼‰

Vueç”Ÿå‘½å‘¨æœŸï¼šå°±æ˜¯ä¸€ä¸ªVueå®ä¾‹ä»åˆ›å»º åˆ° é”€æ¯ çš„æ•´ä¸ªè¿‡ç¨‹ã€‚

ç”Ÿå‘½å‘¨æœŸå››ä¸ªé˜¶æ®µï¼šâ‘  åˆ›å»º â‘¡ æŒ‚è½½ â‘¢ æ›´æ–° â‘£ é”€æ¯

1.åˆ›å»ºé˜¶æ®µï¼šåˆ›å»ºå“åº”å¼æ•°æ®

2.æŒ‚è½½é˜¶æ®µï¼šæ¸²æŸ“æ¨¡æ¿

3.æ›´æ–°é˜¶æ®µï¼šä¿®æ”¹æ•°æ®ï¼Œæ›´æ–°è§†å›¾

4.é”€æ¯é˜¶æ®µï¼šé”€æ¯Vueå®ä¾‹

![68206593781](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682065937815.png)





## Vueç”Ÿå‘½å‘¨æœŸé’©å­

Vueç”Ÿå‘½å‘¨æœŸè¿‡ç¨‹ä¸­ï¼Œä¼š**è‡ªåŠ¨è¿è¡Œä¸€äº›å‡½æ•°**ï¼Œè¢«ç§°ä¸ºã€**ç”Ÿå‘½å‘¨æœŸé’©å­**ã€‘â†’  è®©å¼€å‘è€…å¯ä»¥åœ¨ã€**ç‰¹å®šé˜¶æ®µ**ã€‘è¿è¡Œ**è‡ªå·±çš„ä»£ç **

![68206604029](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682066040295.png)

åœ¨createä¹‹å‰ç»„ä»¶å®ä¾‹thisé‡Œé¢æ˜¯æ²¡æœ‰æ•°æ®çš„(undefined)

```html
<div id="app">
    <h3>{{ title }}</h3>
    <div>
      <button @click="count--">-</button>
      <span>{{ count }}</span>
      <button @click="count++">+</button>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script>
    const app = new Vue({
      el: '#app',
      data: {
        count: 100,
        title: 'è®¡æ•°å™¨'
      },
      // 1. åˆ›å»ºé˜¶æ®µï¼ˆå‡†å¤‡æ•°æ®ï¼‰
      beforeCreate () {
        console.log('beforeCreate å“åº”å¼æ•°æ®å‡†å¤‡å¥½ä¹‹å‰', this.count)
      },
      created () {
        console.log('created å“åº”å¼æ•°æ®å‡†å¤‡å¥½ä¹‹å', this.count)
        // this.æ•°æ®å = è¯·æ±‚å›æ¥çš„æ•°æ®
        // å¯ä»¥å¼€å§‹å‘é€åˆå§‹åŒ–æ¸²æŸ“çš„è¯·æ±‚äº†
      },

      // 2. æŒ‚è½½é˜¶æ®µï¼ˆæ¸²æŸ“æ¨¡æ¿ï¼‰
      beforeMount () {
        console.log('beforeMount æ¨¡æ¿æ¸²æŸ“ä¹‹å‰', document.querySelector('h3').innerHTML)
      },
      mounted () {
        console.log('mounted æ¨¡æ¿æ¸²æŸ“ä¹‹å', document.querySelector('h3').innerHTML)
        // å¯ä»¥å¼€å§‹æ“ä½œdomäº†
      },

      // 3. æ›´æ–°é˜¶æ®µ(ä¿®æ”¹æ•°æ® â†’ æ›´æ–°è§†å›¾)
      beforeUpdate () {
        console.log('beforeUpdate æ•°æ®ä¿®æ”¹äº†ï¼Œè§†å›¾è¿˜æ²¡æ›´æ–°', document.querySelector('span').innerHTML)
      },
      updated () {
        console.log('updated æ•°æ®ä¿®æ”¹äº†ï¼Œè§†å›¾å·²ç»æ›´æ–°', document.querySelector('span').innerHTML)
      },

      // 4. å¸è½½é˜¶æ®µ
      beforeDestroy () {
        console.log('beforeDestroy, å¸è½½å‰')
        console.log('æ¸…é™¤æ‰ä¸€äº›Vueä»¥å¤–çš„èµ„æºå ç”¨ï¼Œå®šæ—¶å™¨ï¼Œå»¶æ—¶å™¨...')
      },
      destroyed () {
        console.log('destroyedï¼Œå¸è½½å')
      }
    })
  </script>
```



## ç”Ÿå‘½å‘¨æœŸé’©å­å°æ¡ˆä¾‹

### 1.åœ¨createdä¸­å‘é€æ•°æ®

```html
<style>
    * {
      margin: 0;
      padding: 0;
      list-style: none;
    }
    .news {
      display: flex;
      height: 120px;
      width: 600px;
      margin: 0 auto;
      padding: 20px 0;
      cursor: pointer;
    }
    .news .left {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding-right: 10px;
    }
    .news .left .title {
      font-size: 20px;
    }
    .news .left .info {
      color: #999999;
    }
    .news .left .info span {
      margin-right: 20px;
    }
    .news .right {
      width: 160px;
      height: 120px;
    }
    .news .right img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  </style>
</head>
<body>

  <div id="app">
    <ul>
      <li v-for="(item, index) in list" :key="item.id" class="news">
        <div class="left">
          <div class="title">{{ item.title }}</div>
          <div class="info">
            <span>{{ item.source }}</span>
            <span>{{ item.time }}</span>
          </div>
        </div>
        <div class="right">
          <img :src="item.img" alt="">
        </div>
      </li>
    </ul>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script>
    // æ¥å£åœ°å€ï¼šhttp://hmajax.itheima.net/api/news
    // è¯·æ±‚æ–¹å¼ï¼šget
    const app = new Vue({
      el: '#app',
      data: {
        list: []
      },
      async created () {
        // 1. å‘é€è¯·æ±‚è·å–æ•°æ®
        const res = await axios.get('http://hmajax.itheima.net/api/news')
        // 2. æ›´æ–°åˆ° list ä¸­ï¼Œç”¨äºé¡µé¢æ¸²æŸ“ v-for
        this.list = res.data.data
      }
    })
  </script>
```



### 2.åœ¨mountedä¸­è·å–ç„¦ç‚¹

```html
<style>
    html,
    body {
      height: 100%;
    }
    .search-container {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
    }
    .search-container .search-box {
      display: flex;
    }
    .search-container img {
      margin-bottom: 30px;
    }
    .search-container .search-box input {
      width: 512px;
      height: 16px;
      padding: 12px 16px;
      font-size: 16px;
      margin: 0;
      vertical-align: top;
      outline: 0;
      box-shadow: none;
      border-radius: 10px 0 0 10px;
      border: 2px solid #c4c7ce;
      background: #fff;
      color: #222;
      overflow: hidden;
      box-sizing: content-box;
      -webkit-tap-highlight-color: transparent;
    }
    .search-container .search-box button {
      cursor: pointer;
      width: 112px;
      height: 44px;
      line-height: 41px;
      line-height: 42px;
      background-color: #ad2a27;
      border-radius: 0 10px 10px 0;
      font-size: 17px;
      box-shadow: none;
      font-weight: 400;
      border: 0;
      outline: 0;
      letter-spacing: normal;
      color: white;
    }
    body {
      background: no-repeat center /cover;
      background-color: #edf0f5;
    }
  </style>
</head>

<body>
<div class="container" id="app">
  <div class="search-container">
    <img src="https://www.itheima.com/images/logo.png" alt="">
    <div class="search-box">
      <input type="text" v-model="words" id="inp">
      <button>æœç´¢ä¸€ä¸‹</button>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
<script>
  const app = new Vue({
    el: '#app',
    data: {
      words: ''
    },
    // æ ¸å¿ƒæ€è·¯ï¼š
    // 1. ç­‰inputæ¡†æ¸²æŸ“å‡ºæ¥ mounted é’©å­
    // 2. è®©inputæ¡†è·å–ç„¦ç‚¹ inp.focus()
    mounted () {
      document.querySelector('#inp').focus()
    }
  })
</script>
```



## æ¡ˆä¾‹-å°é»‘è®°è´¦æ¸…å•

### 1.éœ€æ±‚å›¾ç¤ºï¼š

![68207197208](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682071972085.png)

### 2.éœ€æ±‚åˆ†æ

1.åŸºæœ¬æ¸²æŸ“

2.æ·»åŠ åŠŸèƒ½

3.åˆ é™¤åŠŸèƒ½

4.é¥¼å›¾æ¸²æŸ“

### 3.æ€è·¯åˆ†æ

1.åŸºæœ¬æ¸²æŸ“  

- ç«‹åˆ»å‘é€è¯·æ±‚è·å–æ•°æ® created
- æ‹¿åˆ°æ•°æ®ï¼Œå­˜åˆ°dataçš„å“åº”å¼æ•°æ®ä¸­
- ç»“åˆæ•°æ®ï¼Œè¿›è¡Œæ¸²æŸ“ v-for
- æ¶ˆè´¹ç»Ÿè®¡  â€”> è®¡ç®—å±æ€§

2.æ·»åŠ åŠŸèƒ½

- æ”¶é›†è¡¨å•æ•°æ® v-modelï¼Œä½¿ç”¨æŒ‡ä»¤ä¿®é¥°ç¬¦å¤„ç†æ•°æ®
- ç»™æ·»åŠ æŒ‰é’®æ³¨å†Œç‚¹å‡»äº‹ä»¶ï¼Œå¯¹è¾“å…¥çš„å†…å®¹åšéç©ºåˆ¤æ–­ï¼Œå‘é€è¯·æ±‚
- è¯·æ±‚æˆåŠŸåï¼Œå¯¹æ–‡æœ¬æ¡†å†…å®¹è¿›è¡Œæ¸…ç©º
- é‡æ–°æ¸²æŸ“åˆ—è¡¨

3.åˆ é™¤åŠŸèƒ½

- æ³¨å†Œç‚¹å‡»äº‹ä»¶ï¼Œè·å–å½“å‰è¡Œçš„id
- æ ¹æ®idå‘é€åˆ é™¤è¯·æ±‚
- éœ€è¦é‡æ–°æ¸²æŸ“

4.é¥¼å›¾æ¸²æŸ“

- åˆå§‹åŒ–ä¸€ä¸ªé¥¼å›¾ echarts.init(dom)    mountedé’©å­ä¸­æ¸²æŸ“
- æ ¹æ®æ•°æ®è¯•è¯•æ›´æ–°é¥¼å›¾ `echarts.setOptions({...})`

### 4.ä»£ç 

```html
<!-- CSS only -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
    />
    <style>
      .red {
        color: red!important;
      }
      .search {
        width: 300px;
        margin: 20px 0;
      }
      .my-form {
        display: flex;
        margin: 20px 0;
      }
      .my-form input {
        flex: 1;
        margin-right: 20px;
      }
      .table > :not(:first-child) {
        border-top: none;
      }
      .contain {
        display: flex;
        padding: 10px;
      }
      .list-box {
        flex: 1;
        padding: 0 30px;
      }
      .list-box  a {
        text-decoration: none;
      }
      .echarts-box {
        width: 600px;
        height: 400px;
        padding: 30px;
        margin: 0 auto;
        border: 1px solid #ccc;
      }
      tfoot {
        font-weight: bold;
      }
      @media screen and (max-width: 1000px) {
        .contain {
          flex-wrap: wrap;
        }
        .list-box {
          width: 100%;
        }
        .echarts-box {
          margin-top: 30px;
        }
      }
    </style>
  </head>
  <body>
    <div id="app">
      <div class="contain">
        <!-- å·¦ä¾§åˆ—è¡¨ -->
        <div class="list-box">

          <!-- æ·»åŠ èµ„äº§ -->
          <form class="my-form">
            <input v-model.trim="name" type="text" class="form-control" placeholder="æ¶ˆè´¹åç§°" />
            <input v-model.number="price" type="text" class="form-control" placeholder="æ¶ˆè´¹ä»·æ ¼" />
            <button @click="add" type="button" class="btn btn-primary">æ·»åŠ è´¦å•</button>
          </form>

          <table class="table table-hover">
            <thead>
              <tr>
                <th>ç¼–å·</th>
                <th>æ¶ˆè´¹åç§°</th>
                <th>æ¶ˆè´¹ä»·æ ¼</th>
                <th>æ“ä½œ</th>
              </tr>
            </thead>
            <tbody>
              <tr v-for="(item, index) in list" :key="item.id">
                <td>{{ index + 1 }}</td>
                <td>{{ item.name }}</td>
                <td :class="{ red: item.price > 500 }">{{ item.price.toFixed(2) }}</td>
                <td><a @click="del(item.id)" href="javascript:;">åˆ é™¤</a></td>
              </tr>
            </tbody>
            <tfoot>
              <tr>
                <td colspan="4">æ¶ˆè´¹æ€»è®¡ï¼š {{ totalPrice.toFixed(2) }}</td>
              </tr>
            </tfoot>
          </table>
        </div>
        
        <!-- å³ä¾§å›¾è¡¨ -->
        <div class="echarts-box" id="main"></div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.0/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
      /**
       * æ¥å£æ–‡æ¡£åœ°å€ï¼š
       * https://www.apifox.cn/apidoc/shared-24459455-ebb1-4fdc-8df8-0aff8dc317a8/api-53371058
       * 
       * åŠŸèƒ½éœ€æ±‚ï¼š
       * 1. åŸºæœ¬æ¸²æŸ“
       *    (1) ç«‹åˆ»å‘é€è¯·æ±‚è·å–æ•°æ® created
       *    (2) æ‹¿åˆ°æ•°æ®ï¼Œå­˜åˆ°dataçš„å“åº”å¼æ•°æ®ä¸­
       *    (3) ç»“åˆæ•°æ®ï¼Œè¿›è¡Œæ¸²æŸ“ v-for
       *    (4) æ¶ˆè´¹ç»Ÿè®¡ => è®¡ç®—å±æ€§
       * 2. æ·»åŠ åŠŸèƒ½
       *    (1) æ”¶é›†è¡¨å•æ•°æ® v-model
       *    (2) ç»™æ·»åŠ æŒ‰é’®æ³¨å†Œç‚¹å‡»äº‹ä»¶ï¼Œå‘é€æ·»åŠ è¯·æ±‚
       *    (3) éœ€è¦é‡æ–°æ¸²æŸ“
       * 3. åˆ é™¤åŠŸèƒ½
       *    (1) æ³¨å†Œç‚¹å‡»äº‹ä»¶ï¼Œä¼ å‚ä¼  id
       *    (2) æ ¹æ® id å‘é€åˆ é™¤è¯·æ±‚
       *    (3) éœ€è¦é‡æ–°æ¸²æŸ“
       * 4. é¥¼å›¾æ¸²æŸ“
       *    (1) åˆå§‹åŒ–ä¸€ä¸ªé¥¼å›¾ echarts.init(dom)  mountedé’©å­å®ç°
       *    (2) æ ¹æ®æ•°æ®å®æ—¶æ›´æ–°é¥¼å›¾ echarts.setOption({ ... })
       */
      const app = new Vue({
        el: '#app',
        data: {
          list: [],
          name: '',
          price: ''
        },
        computed: {
          totalPrice () {
            return this.list.reduce((sum, item) => sum + item.price, 0)
          }
        },
        created () {
          // const res = await axios.get('https://applet-base-api-t.itheima.net/bill', {
          //   params: {
          //     creator: 'å°é»‘'
          //   }
          // })
          // this.list = res.data.data

          this.getList()
        },
        mounted () {
          this.myChart = echarts.init(document.querySelector('#main'))
          this.myChart.setOption({
            // å¤§æ ‡é¢˜
            title: {
              text: 'æ¶ˆè´¹è´¦å•åˆ—è¡¨',
              left: 'center'
            },
            // æç¤ºæ¡†
            tooltip: {
              trigger: 'item'
            },
            // å›¾ä¾‹
            legend: {
              orient: 'vertical',
              left: 'left'
            },
            // æ•°æ®é¡¹
            series: [
              {
                name: 'æ¶ˆè´¹è´¦å•',
                type: 'pie',
                radius: '50%', // åŠå¾„
                data: [
                  // { value: 1048, name: 'çƒé‹' },
                  // { value: 735, name: 'é˜²æ™’éœœ' }
                ],
                emphasis: {
                  itemStyle: {
                    shadowBlur: 10,
                    shadowOffsetX: 0,
                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                  }
                }
              }
            ]
          })
        },

        methods: {
          async getList () {
            const res = await axios.get('https://applet-base-api-t.itheima.net/bill', {
              params: {
                creator: 'å°é»‘'
              }
            })
            this.list = res.data.data

            // æ›´æ–°å›¾è¡¨
            this.myChart.setOption({
              // æ•°æ®é¡¹
              series: [
                {
                  // data: [
                  //   { value: 1048, name: 'çƒé‹' },
                  //   { value: 735, name: 'é˜²æ™’éœœ' }
                  // ]
                  data: this.list.map(item => ({ value: item.price, name: item.name}))
                }
              ]
            })
          },
          async add () {
            if (!this.name) {
              alert('è¯·è¾“å…¥æ¶ˆè´¹åç§°')
              return
            }
            if (typeof this.price !== 'number') {
              alert('è¯·è¾“å…¥æ­£ç¡®çš„æ¶ˆè´¹ä»·æ ¼')
              return
            }

            // å‘é€æ·»åŠ è¯·æ±‚
            const res = await axios.post('https://applet-base-api-t.itheima.net/bill', {
              creator: 'å°é»‘',
              name: this.name,
              price: this.price
            })
            // é‡æ–°æ¸²æŸ“ä¸€æ¬¡
            this.getList()

            this.name = ''
            this.price = ''
          },
          async del (id) {
            // æ ¹æ® id å‘é€åˆ é™¤è¯·æ±‚
            const res = await axios.delete(`https://applet-base-api-t.itheima.net/bill/${id}`)
            // é‡æ–°æ¸²æŸ“
            this.getList()
          }
        }
      })
    </script>
```



## å·¥ç¨‹åŒ–å¼€å‘å’Œè„šæ‰‹æ¶

### 1.å¼€å‘Vueçš„ä¸¤ç§æ–¹å¼

- æ ¸å¿ƒåŒ…ä¼ ç»Ÿå¼€å‘æ¨¡å¼ï¼šåŸºäºhtml / css / js æ–‡ä»¶ï¼Œç›´æ¥å¼•å…¥æ ¸å¿ƒåŒ…ï¼Œå¼€å‘ Vueã€‚
- **å·¥ç¨‹åŒ–å¼€å‘æ¨¡å¼ï¼šåŸºäºæ„å»ºå·¥å…·ï¼ˆä¾‹å¦‚ï¼šwebpackï¼‰çš„ç¯å¢ƒä¸­å¼€å‘Vueã€‚**

![68209003907](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682090039070.png)



å·¥ç¨‹åŒ–å¼€å‘æ¨¡å¼ä¼˜ç‚¹ï¼š

   æé«˜ç¼–ç æ•ˆç‡ï¼Œæ¯”å¦‚ä½¿ç”¨JSæ–°è¯­æ³•ã€Less/Sassã€Typescriptç­‰é€šè¿‡webpackéƒ½å¯ä»¥ç¼–è¯‘æˆæµè§ˆå™¨è¯†åˆ«çš„ES3/ES5/CSSç­‰

å·¥ç¨‹åŒ–å¼€å‘æ¨¡å¼é—®é¢˜ï¼š

- webpacké…ç½®**ä¸ç®€å•**
- **é›·åŒ**çš„åŸºç¡€é…ç½®
- ç¼ºä¹**ç»Ÿä¸€çš„æ ‡å‡†**

ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå·¥å…·ï¼Œç”Ÿæˆæ ‡å‡†åŒ–çš„é…ç½®



### 2.è„šæ‰‹æ¶Vue CLI

####   åŸºæœ¬ä»‹ç»ï¼š

   Vue CLI æ˜¯Vueå®˜æ–¹æä¾›çš„ä¸€ä¸ª**å…¨å±€å‘½ä»¤å·¥å…·**

   å¯ä»¥å¸®åŠ©æˆ‘ä»¬**å¿«é€Ÿåˆ›å»º**ä¸€ä¸ªå¼€å‘Vueé¡¹ç›®çš„**æ ‡å‡†åŒ–åŸºç¡€æ¶å­**ã€‚ã€é›†æˆäº†webpacké…ç½®ã€‘

####    å¥½å¤„ï¼š

1. å¼€ç®±å³ç”¨ï¼Œé›¶é…ç½®
2. å†…ç½®babelç­‰å·¥å…·
3. æ ‡å‡†åŒ–çš„webpacké…ç½®

####    ä½¿ç”¨æ­¥éª¤ï¼š

1. å…¨å±€å®‰è£…ï¼ˆwin10ä¸‹ï¼Œå³é”®winå›¾æ ‡ç®¡ç†å‘˜æ‰“å¼€Windows PowerShell åªéœ€å®‰è£…ä¸€æ¬¡å³å¯ï¼‰ yarn global add @vue/cli æˆ–è€… npm i @vue/cli -g

2. æŸ¥çœ‹vue/cliç‰ˆæœ¬ï¼š vue --version

3. åˆ›å»ºé¡¹ç›®æ¶å­ï¼š**vue create project-name**(é¡¹ç›®åä¸èƒ½ä½¿ç”¨ä¸­æ–‡)

   ![image-20240124212103746](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/image-20240124212103746.png)

4. å¯åŠ¨é¡¹ç›®ï¼š**yarn serve** æˆ–è€… **npm run serve**(å‘½ä»¤ä¸å›ºå®šï¼Œæ‰¾package.json)



## é¡¹ç›®ç›®å½•ä»‹ç»å’Œè¿è¡Œæµç¨‹

### 1.é¡¹ç›®ç›®å½•ä»‹ç»

![68209214852](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682092148521.png)

è™½ç„¶è„šæ‰‹æ¶ä¸­çš„æ–‡ä»¶æœ‰å¾ˆå¤šï¼Œç›®å‰å’±ä»¬åªéœ€äººäº‹ä¸‰ä¸ªæ–‡ä»¶å³å¯

1. main.js  å…¥å£æ–‡ä»¶
2. App.vue  Appæ ¹ç»„ä»¶ 
3. index.html æ¨¡æ¿æ–‡ä»¶

### 2.è¿è¡Œæµç¨‹

![68209403287](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682094032876.png)

## ç»„ä»¶åŒ–å¼€å‘

â€‹     ç»„ä»¶åŒ–ï¼šä¸€ä¸ªé¡µé¢å¯ä»¥æ‹†åˆ†æˆä¸€ä¸ªä¸ªç»„ä»¶ï¼Œæ¯ä¸ªç»„ä»¶æœ‰ç€è‡ªå·±ç‹¬ç«‹çš„ç»“æ„ã€æ ·å¼ã€è¡Œä¸ºã€‚

â€‹     å¥½å¤„ï¼šä¾¿äºç»´æŠ¤ï¼Œåˆ©äºå¤ç”¨ â†’ æå‡å¼€å‘æ•ˆç‡ã€‚

â€‹     ç»„ä»¶åˆ†ç±»ï¼šæ™®é€šç»„ä»¶ã€æ ¹ç»„ä»¶ã€‚

â€‹      æ¯”å¦‚ï¼šä¸‹é¢è¿™ä¸ªé¡µé¢ï¼Œå¯ä»¥æŠŠæ‰€æœ‰çš„ä»£ç éƒ½å†™åœ¨ä¸€ä¸ªé¡µé¢ä¸­ï¼Œä½†æ˜¯è¿™æ ·æ˜¾å¾—ä»£ç æ¯”è¾ƒæ··ä¹±ï¼Œéš¾æ˜“ç»´æŠ¤ã€‚å’±ä»¬å¯ä»¥æŒ‰æ¨¡å—è¿›è¡Œç»„ä»¶åˆ’åˆ†

![68216885237](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682168852372.png)





## æ ¹ç»„ä»¶ App.vue

### 1.æ ¹ç»„ä»¶ä»‹ç»

æ•´ä¸ªåº”ç”¨æœ€ä¸Šå±‚çš„ç»„ä»¶ï¼ŒåŒ…è£¹æ‰€æœ‰æ™®é€šå°ç»„ä»¶

![68216913168](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682169131688.png)



### 2.ç»„ä»¶æ˜¯ç”±ä¸‰éƒ¨åˆ†æ„æˆ

- è¯­æ³•é«˜äº®æ’ä»¶

![68216926426](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682169264266.png)

- ä¸‰éƒ¨åˆ†æ„æˆ

  - templateï¼šç»“æ„ ï¼ˆæœ‰ä¸”åªèƒ½ä¸€ä¸ªæ ¹å…ƒç´ ï¼‰
  - script:   jsé€»è¾‘ 
  - styleï¼š æ ·å¼ (å¯æ”¯æŒlessï¼Œéœ€è¦è£…åŒ…)

- è®©ç»„ä»¶æ”¯æŒless

  ï¼ˆ1ï¼‰ styleæ ‡ç­¾ï¼Œlang="less" å¼€å¯lessåŠŸèƒ½ 

  ï¼ˆ2ï¼‰ è£…åŒ…: yarn add less less-loader -D æˆ–è€…npm i less less-loader -D



## æ™®é€šç»„ä»¶çš„æ³¨å†Œä½¿ç”¨-å±€éƒ¨æ³¨å†Œ

### 1.ç‰¹ç‚¹ï¼š

åªèƒ½åœ¨æ³¨å†Œçš„ç»„ä»¶å†…ä½¿ç”¨

### 2.æ­¥éª¤ï¼š

1. åˆ›å»º.vueæ–‡ä»¶ï¼ˆä¸‰ä¸ªç»„æˆéƒ¨åˆ†ï¼‰
2. åœ¨ä½¿ç”¨çš„ç»„ä»¶å†…å…ˆå¯¼å…¥å†æ³¨å†Œï¼Œæœ€åä½¿ç”¨

### 3.ä½¿ç”¨æ–¹å¼ï¼š

å½“æˆhtmlæ ‡ç­¾ä½¿ç”¨å³å¯  <ç»„ä»¶å></ç»„ä»¶å>

### 4.æ³¨æ„ï¼š

ç»„ä»¶åè§„èŒƒ â€”> å¤§é©¼å³°å‘½åæ³•ï¼Œ å¦‚ HmHeader

### 5.è¯­æ³•ï¼š

![68222796681](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682227966812.png)

```js
// å¯¼å…¥éœ€è¦æ³¨å†Œçš„ç»„ä»¶
import ç»„ä»¶å¯¹è±¡ from '.vueæ–‡ä»¶è·¯å¾„'
import HmHeader from './components/HmHeader'

export default {  // å±€éƒ¨æ³¨å†Œ
Â  components: {
Â  Â 'ç»„ä»¶å': ç»„ä»¶å¯¹è±¡,
Â  Â  HmHeader:HmHeaer,
    HmHeader
  }
}
```



### 6.ç»ƒä¹ 

åœ¨Appç»„ä»¶ä¸­ï¼Œå®Œæˆä»¥ä¸‹ç»ƒä¹ ã€‚åœ¨App.vueä¸­ä½¿ç”¨ç»„ä»¶çš„æ–¹å¼å®Œæˆä¸‹é¢å¸ƒå±€

![68222790287](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682227902873.png)



```vue
<template>
  <div class="hm-header">
    æˆ‘æ˜¯hm-header
  </div>
</template>

<script>
export default {

}
</script>

<style>
.hm-header {
  height: 100px;
  line-height: 100px;
  text-align: center;
  font-size: 30px;
  background-color: #8064a2;
  color: white;
}
</style>
```

```vue
<template>
  <div class="hm-main">
    æˆ‘æ˜¯hm-main
  </div>
</template>

<script>
export default {

}
</script>

<style>
.hm-main {
  height: 400px;
  line-height: 400px;
  text-align: center;
  font-size: 30px;
  background-color: #f79646;
  color: white;
  margin: 20px 0;
}
</style>
```

```vue
<template>
  <div class="hm-footer">
    æˆ‘æ˜¯hm-footer
  </div>
</template>

<script>
export default {

}
</script>

<style>
.hm-footer {
  height: 100px;
  line-height: 100px;
  text-align: center;
  font-size: 30px;
  background-color: #4f81bd;
  color: white;
}
</style>
```



## æ™®é€šç»„ä»¶çš„æ³¨å†Œä½¿ç”¨-å…¨å±€æ³¨å†Œ

### 1.ç‰¹ç‚¹ï¼š

å…¨å±€æ³¨å†Œçš„ç»„ä»¶ï¼Œåœ¨é¡¹ç›®çš„**ä»»ä½•ç»„ä»¶**ä¸­éƒ½èƒ½ä½¿ç”¨

### 2.æ­¥éª¤

1. åˆ›å»º.vueç»„ä»¶ï¼ˆä¸‰ä¸ªç»„æˆéƒ¨åˆ†ï¼‰
2. **main.js**ä¸­è¿›è¡Œå…¨å±€æ³¨å†Œ

### 3.ä½¿ç”¨æ–¹å¼

å½“æˆHTMLæ ‡ç­¾ç›´æ¥ä½¿ç”¨

> <ç»„ä»¶å></ç»„ä»¶å>

### 4.æ³¨æ„

ç»„ä»¶åè§„èŒƒ â€”> å¤§é©¼å³°å‘½åæ³•ï¼Œ å¦‚ HmHeader

### 5.è¯­æ³•

Vue.component('ç»„ä»¶å', ç»„ä»¶å¯¹è±¡) è¦æ³¨å†Œå¤šä¸ªå°±å†™å¤šè¡Œ

ä¾‹ï¼š

```js
// å¯¼å…¥éœ€è¦å…¨å±€æ³¨å†Œçš„ç»„ä»¶
import HmButton from './components/HmButton'
Vue.component('HmButton', HmButton)
```

### 6.ç»ƒä¹ 

åœ¨ä»¥ä¸‹3ä¸ªå±€éƒ¨ç»„ä»¶ä¸­æ˜¯å±•ç¤ºä¸€ä¸ªé€šç”¨æŒ‰é’®

![68226318734](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682263187344.png)

```vue
<template>
  <button class="hm-button">é€šç”¨æŒ‰é’®</button>
</template>

<script>
export default {

}
</script>

<style>
.hm-button {
  height: 50px;
  line-height: 50px;
  padding: 0 20px;
  background-color: #3bae56;
  border-radius: 5px;
  color: white;
  border: none;
  vertical-align: middle;
  cursor: pointer;
}
</style>
```





## ç»¼åˆæ¡ˆä¾‹

### 1.å°å…”ä»™é¦–é¡µå¯åŠ¨é¡¹ç›®æ¼”ç¤º

### 2.å°å…”ä»™ç»„ä»¶æ‹†åˆ†ç¤ºæ„å›¾

![68226549162](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682265491628.png)



### 3.å¼€å‘æ€è·¯

1. åˆ†æé¡µé¢ï¼ŒæŒ‰æ¨¡å—æ‹†åˆ†ç»„ä»¶ï¼Œæ­æ¶å­  (å±€éƒ¨æˆ–å…¨å±€æ³¨å†Œ)

2. æ ¹æ®è®¾è®¡å›¾ï¼Œç¼–å†™ç»„ä»¶ html ç»“æ„ css æ ·å¼ (å·²å‡†å¤‡å¥½)

3. æ‹†åˆ†å°è£…é€šç”¨å°ç»„ä»¶  (å±€éƒ¨æˆ–å…¨å±€æ³¨å†Œ)

   å°†æ¥ â†’ é€šè¿‡ js åŠ¨æ€æ¸²æŸ“ï¼Œå®ç°åŠŸèƒ½



## scopedè§£å†³æ ·å¼å†²çª

### **1.é»˜è®¤æƒ…å†µ**ï¼š

å†™åœ¨ç»„ä»¶ä¸­çš„æ ·å¼ä¼š **å…¨å±€ç”Ÿæ•ˆ** â†’  å› æ­¤å¾ˆå®¹æ˜“é€ æˆå¤šä¸ªç»„ä»¶ä¹‹é—´çš„æ ·å¼å†²çªé—®é¢˜ã€‚

1. **å…¨å±€æ ·å¼**: é»˜è®¤ç»„ä»¶ä¸­çš„æ ·å¼ä¼šä½œç”¨åˆ°å…¨å±€ï¼Œä»»ä½•ä¸€ä¸ªç»„ä»¶ä¸­éƒ½ä¼šå—åˆ°æ­¤æ ·å¼çš„å½±å“


2. **å±€éƒ¨æ ·å¼**: å¯ä»¥ç»™ç»„ä»¶åŠ ä¸Š**scoped** å±æ€§,å¯ä»¥**è®©æ ·å¼åªä½œç”¨äºå½“å‰ç»„ä»¶**

### 2.ä»£ç æ¼”ç¤º

BaseOne.vue

```vue
<template>
  <div class="base-one">
    BaseOne
  </div>
</template>

<script>
export default {

}
</script>
<style scoped>
</style>
```

BaseTwo.vue

```vue
<template>
  <div class="base-one">
    BaseTwo
  </div>
</template>

<script>
export default {

}
</script>

<style scoped>
</style>
```

App.vue

```vue
<template>
  <div id="app">
    <BaseOne></BaseOne>
    <BaseTwo></BaseTwo>
  </div>
</template>

<script>
import BaseOne from './components/BaseOne'
import BaseTwo from './components/BaseTwo'
export default {
  name: 'App',
  components: {
    BaseOne,
    BaseTwo
  }
}
</script>
```

### 3.scopedåŸç†

1. å½“å‰ç»„ä»¶å†…æ ‡ç­¾éƒ½è¢«æ·»åŠ **data-v-hashå€¼** çš„å±æ€§ 
2. cssé€‰æ‹©å™¨éƒ½è¢«æ·»åŠ  [**data-v-hashå€¼**] çš„å±æ€§é€‰æ‹©å™¨

æœ€ç»ˆæ•ˆæœ: **å¿…é¡»æ˜¯å½“å‰ç»„ä»¶çš„å…ƒç´ **, æ‰ä¼šæœ‰è¿™ä¸ªè‡ªå®šä¹‰å±æ€§, æ‰ä¼šè¢«è¿™ä¸ªæ ·å¼ä½œç”¨åˆ° 

![68230651737](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682306517375.png)

### 4.æ€»ç»“

1. styleçš„é»˜è®¤æ ·å¼æ˜¯ä½œç”¨åˆ°å“ªé‡Œçš„ï¼Ÿ
2. scopedçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ
3. styleä¸­æ¨ä¸æ¨èåŠ scopedï¼Ÿ



## dataå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°

### 1ã€dataä¸ºä»€ä¹ˆè¦å†™æˆå‡½æ•°

ä¸€ä¸ªç»„ä»¶çš„ **data** é€‰é¡¹å¿…é¡»**æ˜¯ä¸€ä¸ªå‡½æ•°**ã€‚ç›®çš„æ˜¯ä¸ºäº†ï¼šä¿è¯æ¯ä¸ªç»„ä»¶å®ä¾‹ï¼Œç»´æŠ¤**ç‹¬ç«‹**çš„ä¸€ä»½**æ•°æ®**å¯¹è±¡ã€‚

æ¯æ¬¡åˆ›å»ºæ–°çš„ç»„ä»¶å®ä¾‹ï¼Œéƒ½ä¼šæ–°**æ‰§è¡Œä¸€æ¬¡data å‡½æ•°**ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°å¯¹è±¡ã€‚

![68230695207](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682306952078.png)

### 2.ä»£ç æ¼”ç¤º

BaseCount.vue

```vue
<template>
  <div class="base-count">
    <button @click="count--">-</button>
    <span>{{ count }}</span>
    <button @click="count++">+</button>
  </div>
</template>

<script>
export default {
  data: function () {
    return {
      count: 100,
    }
  },
}
</script>

<style>
.base-count {
  margin: 20px;
}
</style>
```

App.vue

```vue
<template>
  <div class="app">
    <BaseCount></BaseCount>
  </div>
</template>

<script>
import BaseCount from './components/BaseCount'
export default {
  components: {
    BaseCount,
  },
}
</script>

<style>
</style>
```

### 3.æ€»ç»“

dataå†™æˆå‡½æ•°çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ



## ç»„ä»¶é€šä¿¡

### 1.ä»€ä¹ˆæ˜¯ç»„ä»¶é€šä¿¡ï¼Ÿ

ç»„ä»¶é€šä¿¡ï¼Œå°±æ˜¯æŒ‡**ç»„ä»¶ä¸ç»„ä»¶**ä¹‹é—´çš„**æ•°æ®ä¼ é€’**

- ç»„ä»¶çš„æ•°æ®æ˜¯ç‹¬ç«‹çš„ï¼Œæ— æ³•ç›´æ¥è®¿é—®å…¶ä»–ç»„ä»¶çš„æ•°æ®ã€‚
- æƒ³ä½¿ç”¨å…¶ä»–ç»„ä»¶çš„æ•°æ®ï¼Œå°±éœ€è¦ç»„ä»¶é€šä¿¡

### 2.ç»„ä»¶ä¹‹é—´å¦‚ä½•é€šä¿¡

![68230890309](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682308903094.png)

æ€è€ƒï¼š

1. ç»„ä»¶ä¹‹é—´æœ‰å“ªäº›å…³ç³»ï¼Ÿ
2. å¯¹åº”çš„ç»„ä»¶é€šä¿¡æ–¹æ¡ˆæœ‰å“ªå‡ ç±»ï¼Ÿ

### 3.ç»„ä»¶å…³ç³»åˆ†ç±»

1. çˆ¶å­å…³ç³»
2. éçˆ¶å­å…³ç³»

![68231807380](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682318073803.png)



### 4.é€šä¿¡è§£å†³æ–¹æ¡ˆ

![68231811109](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682318111090.png)





### 5.çˆ¶å­é€šä¿¡æµç¨‹

1. çˆ¶ç»„ä»¶é€šè¿‡ **props** å°†æ•°æ®ä¼ é€’ç»™å­ç»„ä»¶
2. å­ç»„ä»¶åˆ©ç”¨ **$emit** é€šçŸ¥çˆ¶ç»„ä»¶ä¿®æ”¹æ›´æ–°

![68231844456](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682318444566.png)



### 6.çˆ¶å‘å­é€šä¿¡ä»£ç ç¤ºä¾‹

çˆ¶ç»„ä»¶é€šè¿‡**props**å°†æ•°æ®ä¼ é€’ç»™å­ç»„ä»¶

çˆ¶ç»„ä»¶App.vue

```vue
<template>
  <div class="app" style="border: 3px solid #000; margin: 10px">
    æˆ‘æ˜¯APPç»„ä»¶
    <!-- 1.ç»™ç»„ä»¶æ ‡ç­¾ï¼Œæ·»åŠ å±æ€§æ–¹å¼ èµ‹å€¼ -->
    <Son :title="myTitle"></Son>
  </div>
</template>

<script>
import Son from "./components/Son.vue"
export default {
  name: "App",
  components: {
    Son,
  },
  data() {
    return {
      myTitle: "å­¦å‰ç«¯ï¼Œå°±æ¥é»‘é©¬ç¨‹åºå‘˜",
    }
  },
}
</script>

<style>
</style>
```



å­ç»„ä»¶Son.vue

```vue
<template>
  <div class="son" style="border:3px solid #000;margin:10px">
    æˆ‘æ˜¯Sonç»„ä»¶  {{ titel }}
  </div>
</template>

<script>
export default {
  name: 'Son-Child',
  // 2.é€šè¿‡propsæ¥æ¥å—
  props: ['title']  
}
</script>

<style>

</style>
```

![68231871178](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682318711785.png)

çˆ¶å‘å­ä¼ å€¼æ­¥éª¤

1. ç»™å­ç»„ä»¶ä»¥æ·»åŠ å±æ€§çš„æ–¹å¼ä¼ å€¼
2. å­ç»„ä»¶å†…éƒ¨é€šè¿‡propsæ¥æ”¶
3. æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨ propsæ¥æ”¶çš„å€¼



### 7.å­å‘çˆ¶é€šä¿¡ä»£ç ç¤ºä¾‹

```
//å­ç»„ä»¶è¯­æ³•
this.$emit(äº‹ä»¶å, å‚æ•°)
//çˆ¶ç»„ä»¶è¯­æ³•
<son :title="msg" @äº‹ä»¶å="æ–¹æ³•å"></son>
```

å­ç»„ä»¶åˆ©ç”¨ **$emit** é€šçŸ¥çˆ¶ç»„ä»¶ï¼Œè¿›è¡Œä¿®æ”¹æ›´æ–°

![68231896563](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682318965635.png)

å­å‘çˆ¶ä¼ å€¼æ­¥éª¤

1. $emitè§¦å‘äº‹ä»¶ï¼Œç»™çˆ¶ç»„ä»¶å‘é€æ¶ˆæ¯é€šçŸ¥

2. çˆ¶ç»„ä»¶ç›‘å¬$emitè§¦å‘çš„äº‹ä»¶

3. æä¾›å¤„ç†å‡½æ•°ï¼Œåœ¨å‡½æ•°çš„æ€§å‚ä¸­è·å–ä¼ è¿‡æ¥çš„å‚æ•°

   

## ä»€ä¹ˆæ˜¯props

### 1.Props å®šä¹‰

ç»„ä»¶ä¸Š æ³¨å†Œçš„ä¸€äº›  è‡ªå®šä¹‰å±æ€§

### 2.Props ä½œç”¨

å‘å­ç»„ä»¶ä¼ é€’æ•°æ®

### 3.ç‰¹ç‚¹

1. å¯ä»¥ ä¼ é€’ **ä»»æ„æ•°é‡** çš„prop
2. å¯ä»¥ ä¼ é€’ **ä»»æ„ç±»å‹** çš„prop

![68232015691](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682320156914.png)

### 4.ä»£ç æ¼”ç¤º

çˆ¶ç»„ä»¶App.vue

```vue
<template>
  <div class="app">
    <UserInfo
      :username="username"
      :age="age"
      :isSingle="isSingle"
      :car="car"
      :hobby="hobby"
    ></UserInfo>
  </div>
</template>

<script>
import UserInfo from './components/UserInfo.vue'
export default {
  data() {
    return {
      username: 'å°å¸…',
      age: 28,
      isSingle: true,
      car: {
        brand: 'å®é©¬',
      },
      hobby: ['ç¯®çƒ', 'è¶³çƒ', 'ç¾½æ¯›çƒ'],
    }
  },
  components: {
    UserInfo,
  },
}
</script>

<style>
</style>
```

å­ç»„ä»¶UserInfo.vue

```vue
<template>
  <div class="userinfo">
    <h3>æˆ‘æ˜¯ä¸ªäººä¿¡æ¯ç»„ä»¶</h3>
    <div>å§“åï¼š{{username}}</div>
    <div>å¹´é¾„ï¼š{{age}}</div>
    <div>æ˜¯å¦å•èº«ï¼š{{isSingle}}</div>
    <div>åº§é©¾ï¼š{{car.brand}}</div>
    <div>å…´è¶£çˆ±å¥½ï¼š{{hobby.join('ã€')}}</div>
  </div>
</template>

<script>
export default {
  props:['username','age','isSingle','car','hobby']
}
</script>

<style>
.userinfo {
  width: 300px;
  border: 3px solid #000;
  padding: 20px;
}
.userinfo > div {
  margin: 20px 10px;
}
</style>
```



## propsæ ¡éªŒ

### 1.æ€è€ƒ

ç»„ä»¶çš„propså¯ä»¥ä¹±ä¼ å—

### 2.ä½œç”¨

ä¸ºç»„ä»¶çš„ prop æŒ‡å®š**éªŒè¯è¦æ±‚**ï¼Œä¸ç¬¦åˆè¦æ±‚ï¼Œæ§åˆ¶å°å°±ä¼šæœ‰**é”™è¯¯æç¤º**  â†’ å¸®åŠ©å¼€å‘è€…ï¼Œå¿«é€Ÿå‘ç°é”™è¯¯

### 3.è¯­æ³•

- **ç±»å‹æ ¡éªŒ**
- éç©ºæ ¡éªŒ
- é»˜è®¤å€¼
- è‡ªå®šä¹‰æ ¡éªŒ

![68232068405](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682320684053.png)

### 4.ä»£ç æ¼”ç¤º

App.vue

```vue
<template>
  <div class="app">
    <BaseProgress :w="width"></BaseProgress>
  </div>
</template>

<script>
import BaseProgress from './components/BaseProgress.vue'
export default {
  data() {
    return {
      width: 30,
    }
  },
  components: {
    BaseProgress,
  },
}
</script>

<style>
</style>
```

BaseProgress.vue

```vue
<template>
  <div class="base-progress">
    <div 
      class="inner" 
      :style="{ width: w + '%' }">
      <span>{{ w }}%</span>
    </div>
  </div>
</template>

<script>
export default {
  props: {
    w: Number //Number String Boolean Function
  }
}
</script>

<style scoped>
.base-progress {
  height: 26px;
  width: 400px;
  border-radius: 15px;
  background-color: #272425;
  border: 3px solid #272425;
  box-sizing: border-box;
  margin-bottom: 30px;
}
.inner {
  width: 50%;
  height: 20px;
  border-radius: 10px;
  text-align: right;
  position: relative;
  background-color: #409eff;
  background-size: 20px 20px;
  box-sizing: border-box;
  transition: all 1s;
}
.inner span {
  position: absolute;
  right: -20px;
  bottom: -25px;
}
</style>
```



## propsæ ¡éªŒå®Œæ•´å†™æ³•

### 1.è¯­æ³•

```vue
props: {
Â  æ ¡éªŒçš„å±æ€§å: {
Â  Â  type: ç±»å‹, Â // Number String Boolean ...
Â  Â  required: true, // æ˜¯å¦å¿…å¡«
Â  Â  default: é»˜è®¤å€¼, // é»˜è®¤å€¼
Â  Â  validator (value) {
Â  Â  Â  // è‡ªå®šä¹‰æ ¡éªŒé€»è¾‘
Â  Â  Â  return æ˜¯å¦é€šè¿‡æ ¡éªŒ
Â  Â  }
Â  }
},
```

### 2.ä»£ç å®ä¾‹

```vue
<script>
export default {
  // å®Œæ•´å†™æ³•ï¼ˆç±»å‹ã€é»˜è®¤å€¼ã€éç©ºã€è‡ªå®šä¹‰æ ¡éªŒï¼‰
  props: {
    w: {
      type: Number,
      //required: true,
      default: 0,
      validator(val) {
        // console.log(val)
        if (val >= 100 || val <= 0) {
          console.error('ä¼ å…¥çš„èŒƒå›´å¿…é¡»æ˜¯0-100ä¹‹é—´')
          return false
        } else {
          return true
        }
      },
    },
  },
}
</script>
```

### 3.æ³¨æ„

1.defaultå’Œrequiredä¸€èˆ¬ä¸åŒæ—¶å†™ï¼ˆå› ä¸ºå½“æ—¶å¿…å¡«é¡¹æ—¶ï¼Œè‚¯å®šæ˜¯æœ‰å€¼çš„ï¼‰

2.defaultåé¢å¦‚æœæ˜¯ç®€å•ç±»å‹çš„å€¼ï¼Œå¯ä»¥ç›´æ¥å†™é»˜è®¤ã€‚å¦‚æœæ˜¯å¤æ‚ç±»å‹çš„å€¼ï¼Œåˆ™éœ€è¦ä»¥å‡½æ•°çš„å½¢å¼returnä¸€ä¸ªé»˜è®¤å€¼



## props&dataã€å•å‘æ•°æ®æµ

### 1.å…±åŒç‚¹

éƒ½å¯ä»¥ç»™ç»„ä»¶æä¾›æ•°æ®

### 2.åŒºåˆ«

- data çš„æ•°æ®æ˜¯**è‡ªå·±**çš„  â†’   éšä¾¿æ”¹  
- prop çš„æ•°æ®æ˜¯**å¤–éƒ¨**çš„  â†’   ä¸èƒ½ç›´æ¥æ”¹ï¼Œè¦éµå¾ª **å•å‘æ•°æ®æµ**

### 3.å•å‘æ•°æ®æµï¼š

çˆ¶çº§props çš„æ•°æ®æ›´æ–°ï¼Œä¼šå‘ä¸‹æµåŠ¨ï¼Œå½±å“å­ç»„ä»¶ã€‚è¿™ä¸ªæ•°æ®æµåŠ¨æ˜¯å•å‘çš„

### 4.ä»£ç æ¼”ç¤º

App.vue

```vue
<template>
  <div class="app">
    //<BaseCount :count="count"></BaseCount>
    <BaseCount></BaseCount>
  </div>
</template>

<script>
import BaseCount from './components/BaseCount.vue'
export default {
  components:{
    BaseCount
  },
  data(){
    return {
      count: 666
    }
  },
}
</script>

<style>

</style>
```

BaseCount.vue

```vue
<template>
  <div class="base-count">
    <button @click="count--">-</button>
    <span>{{ count }}</span>
    <button @click="count++">+</button>
  </div>
</template>

<script>
export default {
  // 1.è‡ªå·±çš„æ•°æ®éšä¾¿ä¿®æ”¹  ï¼ˆè°çš„æ•°æ® è°è´Ÿè´£ï¼‰
   data () {
     return {
       count: 100,
     }
   },
  // 2.å¤–éƒ¨ä¼ è¿‡æ¥çš„æ•°æ® ä¸èƒ½ç›´æ¥ä¿®æ”¹ï¼Œå¯ä»¥$emitä¼ åˆ°çˆ¶ç»„ä»¶è¿›è¡Œä¿®æ”¹ï¼Œçˆ¶ç»„ä»¶propæ›´æ–°ï¼Œä¼šå•å‘å‘ä¸‹æµåŠ¨ï¼Œå­ç»„ä»¶è‡ªåŠ¨æ›´æ–°
  //props: {
  //  count: {
  //    type: Number,
  //  }, 
  //}
}
</script>

<style>
.base-count {
  margin: 20px;
}
</style>
```

![68232373422](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682323734228.png)

### 5.å£è¯€

**è°çš„æ•°æ®è°è´Ÿè´£**



## ç»¼åˆæ¡ˆä¾‹-ç»„ä»¶æ‹†åˆ†

### 1.éœ€æ±‚è¯´æ˜

- æ‹†åˆ†åŸºç¡€ç»„ä»¶
- æ¸²æŸ“å¾…åŠä»»åŠ¡
- æ·»åŠ ä»»åŠ¡
- åˆ é™¤ä»»åŠ¡
- åº•éƒ¨åˆè®¡ å’Œ æ¸…ç©ºåŠŸèƒ½
- æŒä¹…åŒ–å­˜å‚¨



### 2.æ‹†åˆ†åŸºç¡€ç»„ä»¶

å’±ä»¬å¯ä»¥æŠŠå°é»‘è®°äº‹æœ¬åŸæœ‰çš„ç»“æ„æ‹†æˆä¸‰éƒ¨åˆ†å†…å®¹ï¼šå¤´éƒ¨ï¼ˆTodoHeaderï¼‰ã€åˆ—è¡¨(TodoMain)ã€åº•éƒ¨(TodoFooter)

![68232559841](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682325598418.png)



## ç»¼åˆæ¡ˆä¾‹-åˆ—è¡¨æ¸²æŸ“

æ€è·¯åˆ†æï¼š

1. æä¾›æ•°æ®ï¼šæä¾›åœ¨å…¬å…±çš„çˆ¶ç»„ä»¶ App.vue
2. é€šè¿‡çˆ¶ä¼ å­ï¼Œå°†æ•°æ®ä¼ é€’ç»™TodoMain
3. åˆ©ç”¨v-forè¿›è¡Œæ¸²æŸ“



## ç»¼åˆæ¡ˆä¾‹-æ·»åŠ åŠŸèƒ½

æ€è·¯åˆ†æï¼š

1. æ”¶é›†è¡¨å•æ•°æ®  v-model
2. ç›‘å¬æ—¶é—´ ï¼ˆå›è½¦+ç‚¹å‡» éƒ½è¦è¿›è¡Œæ·»åŠ ï¼‰
3. å­ä¼ çˆ¶ï¼Œå°†ä»»åŠ¡åç§°ä¼ é€’ç»™çˆ¶ç»„ä»¶App.vue
4. çˆ¶ç»„ä»¶æ¥å—åˆ°æ•°æ®å è¿›è¡Œæ·»åŠ  **unshift**(è‡ªå·±çš„æ•°æ®è‡ªå·±è´Ÿè´£)



## ç»¼åˆæ¡ˆä¾‹-åˆ é™¤åŠŸèƒ½

æ€è·¯åˆ†æï¼š

1. ç›‘å¬æ—¶é—´ï¼ˆç›‘å¬åˆ é™¤çš„ç‚¹å‡»ï¼‰æºå¸¦id
2. å­ä¼ çˆ¶ï¼Œå°†åˆ é™¤çš„idä¼ é€’ç»™çˆ¶ç»„ä»¶App.vue
3. è¿›è¡Œåˆ é™¤ **filter**  (è‡ªå·±çš„æ•°æ®è‡ªå·±è´Ÿè´£)



## ç»¼åˆæ¡ˆä¾‹-åº•éƒ¨åŠŸèƒ½åŠæŒä¹…åŒ–å­˜å‚¨

æ€è·¯åˆ†æï¼š

1. åº•éƒ¨åˆè®¡ï¼šçˆ¶ç»„ä»¶ä¼ é€’liståˆ°åº•éƒ¨ç»„ä»¶  â€”>å±•ç¤ºåˆè®¡
2. æ¸…ç©ºåŠŸèƒ½ï¼šç›‘å¬äº‹ä»¶ â€”> **å­ç»„ä»¶**é€šçŸ¥çˆ¶ç»„ä»¶ â€”>çˆ¶ç»„ä»¶æ¸…ç©º
3. æŒä¹…åŒ–å­˜å‚¨ï¼šwatchç›‘å¬æ•°æ®å˜åŒ–ï¼ŒæŒä¹…åŒ–åˆ°æœ¬åœ°

```js
data () {
    return {
        //å¦‚æœæŸ¥åˆ°ç¼“å­˜é‡Œé¢æ²¡æœ‰æ•°æ®ï¼Œåˆ™ä½¿ç”¨é»˜è®¤æ•°æ®
      list: JSON.parse(localStorage.getItem('list')) || [
        { id: 1, name: 'å”±æ­Œ'},
        { id: 2, name: 'æ‰“ç¯®çƒ'},
        { id: 3, name: 'è·³èˆ'}
      ]
    }
  } 

watch: {
    list: {
      deep: true,
      handler (newValue) {
        console.log('ä¿å­˜åˆ°æœ¬åœ°')
          //å°†æ•°æ®ç¼“å­˜åˆ°æœ¬åœ°
        localStorage.setItem('list', JSON.stringify(newValue))
      }
    }
  }
```



## éçˆ¶å­é€šä¿¡-event bus äº‹ä»¶æ€»çº¿

### 1.ä½œç”¨

éçˆ¶å­ç»„ä»¶ä¹‹é—´ï¼Œè¿›è¡Œç®€æ˜“æ¶ˆæ¯ä¼ é€’ã€‚(å¤æ‚åœºæ™¯â†’ Vuex)

### 2.æ­¥éª¤

1. åˆ›å»ºä¸€ä¸ªéƒ½èƒ½è®¿é—®çš„äº‹ä»¶æ€»çº¿ ï¼ˆç©ºVueå®ä¾‹ï¼‰

   ```js
   import Vue from 'vue'
   const Bus = new Vue()
   export default Bus
   ```

2. A/Cç»„ä»¶ï¼ˆæ¥å—æ–¹ï¼‰ï¼Œç›‘å¬Busçš„ $onäº‹ä»¶

   ```vue
   created () {
   Â  Bus.$on('sendMsg', (msg) => {
   Â  Â  this.msg = msg
   Â  })
   }
   ```

3. Bç»„ä»¶ï¼ˆå‘é€æ–¹ï¼‰ï¼Œè§¦å‘Busçš„$emitäº‹ä»¶

   ```vue
   Bus.$emit('sendMsg', 'è¿™æ˜¯ä¸€ä¸ªæ¶ˆæ¯')
   ```

   ![68232839240](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682328392400.png)

### 3.ä»£ç ç¤ºä¾‹

EventBus.js

```js
import Vue from 'vue'
const Bus  =  new Vue()
export default Bus
```

BaseA.vue(æ¥å—æ–¹)

```vue
<template>
  <div class="base-a">
    æˆ‘æ˜¯Aç»„ä»¶ï¼ˆæ¥å—æ–¹ï¼‰
    <p>{{msg}}</p>  
  </div>
</template>

<script>
import Bus from '../utils/EventBus'
export default {
  data() {
    return {
      msg: '',
    }
  },
  created() {
    Bus.$on('sendMsg', (msg) => {
      // console.log(msg)
      this.msg = msg
    })
  },
}
</script>

<style scoped>
.base-a {
  width: 200px;
  height: 200px;
  border: 3px solid #000;
  border-radius: 3px;
  margin: 10px;
}
</style>
```

BaseB.vue(å‘é€æ–¹)

```vue
<template>
  <div class="base-b">
    <div>æˆ‘æ˜¯Bç»„ä»¶ï¼ˆå‘å¸ƒæ–¹ï¼‰</div>
    <button @click="sendMsgFn">å‘é€æ¶ˆæ¯</button>
  </div>
</template>

<script>
import Bus from '../utils/EventBus'
export default {
  methods: {
    sendMsgFn() {
      Bus.$emit('sendMsg', 'ä»Šå¤©å¤©æ°”ä¸é”™ï¼Œé€‚åˆæ—…æ¸¸')
    },
  },
}
</script>

<style scoped>
.base-b {
  width: 200px;
  height: 200px;
  border: 3px solid #000;
  border-radius: 3px;
  margin: 10px;
}
</style>
```

App.vue

```vue
<template>
  <div class="app">
    <BaseA></BaseA>
    <BaseB></BaseB>
    <BaseC></BaseC>
  </div>
</template>

<script>
import BaseA from './components/BaseA.vue'
import BaseB from './components/BaseB.vue'
import BaseC from './components/BaseC.vue'
export default {
  components:{
    BaseA,
    BaseB,
    BaseC
  }
}
</script>

<style>

</style>
```

### 4.æ€»ç»“

1.éçˆ¶å­ç»„ä»¶ä¼ å€¼å€ŸåŠ©ä»€ä¹ˆï¼Ÿ

2.ä»€ä¹ˆæ˜¯äº‹ä»¶æ€»çº¿

3.å‘é€æ–¹åº”è¯¥è°ƒç”¨äº‹ä»¶æ€»çº¿çš„å“ªä¸ªæ–¹æ³•

4.æ¥æ”¶æ–¹åº”è¯¥è°ƒç”¨äº‹ä»¶æ€»çº¿çš„å“ªä¸ªæ–¹æ³•

5.ä¸€ä¸ªç»„ä»¶å‘é€æ•°æ®ï¼Œå¯ä¸å¯ä»¥è¢«å¤šä¸ªç»„ä»¶æ¥æ”¶



## éçˆ¶å­é€šä¿¡-provide&inject

### 1.ä½œç”¨

è·¨å±‚çº§å…±äº«æ•°æ®

### 2.åœºæ™¯

![68232950551](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682329516878.png)

### 3.è¯­æ³•

1. çˆ¶ç»„ä»¶ provideæä¾›æ•°æ®

```js
//color: 'pink',
//userInfo: {
//  name: 'zs',
//  age: 18,
//}

export default {
Â  provide () {
Â  Â  return {
       // æ™®é€šç±»å‹ã€éå“åº”å¼ã€‘
       color: this.color, 
       // å¤æ‚ç±»å‹ã€å“åº”å¼ã€‘
       userInfo: this.userInfo, 
Â  Â  }
Â  }
}
```

2.å­/å­™ç»„ä»¶ injectè·å–æ•°æ®

```js
export default {
Â  inject: ['color','userInfo'],
Â  created () {
Â  Â  console.log(this.color, this.userInfo)
Â  }
}
```

### 4.æ³¨æ„

- provideæä¾›çš„ç®€å•ç±»å‹çš„æ•°æ®ä¸æ˜¯å“åº”å¼çš„ï¼Œå¤æ‚ç±»å‹æ•°æ®æ˜¯å“åº”å¼ã€‚ï¼ˆæ¨èæä¾›å¤æ‚ç±»å‹æ•°æ®ï¼‰
- å­/å­™ç»„ä»¶é€šè¿‡injectè·å–çš„æ•°æ®ï¼Œä¸èƒ½åœ¨è‡ªèº«ç»„ä»¶å†…ä¿®æ”¹



## v-modelåŸç†

### 1.åŸç†ï¼š

v-modelæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ã€‚ä¾‹å¦‚åº”ç”¨åœ¨è¾“å…¥æ¡†ä¸Šï¼Œå°±æ˜¯valueå±æ€§ å’Œ inputäº‹ä»¶ çš„åˆå†™

```vue
<template>
Â  <div id="app" >
Â  Â  <input v-model="msg" type="text">

Â  Â  <input :value="msg" @input="msg = $event.target.value" type="text">
Â  </div>
</template>

```

### 2.ä½œç”¨ï¼š

æä¾›æ•°æ®çš„åŒå‘ç»‘å®š

- æ•°æ®å˜ï¼Œè§†å›¾è·Ÿç€å˜ :value
- è§†å›¾å˜ï¼Œæ•°æ®è·Ÿç€å˜ @input

### 3.æ³¨æ„

**$event** ç”¨äºåœ¨æ¨¡æ¿ä¸­ï¼Œè·å–äº‹ä»¶çš„å½¢å‚

### 4.v-modelä½¿ç”¨åœ¨å…¶ä»–è¡¨å•å…ƒç´ ä¸Šçš„åŸç†

ä¸åŒçš„è¡¨å•å…ƒç´ ï¼Œ v-modelåœ¨åº•å±‚çš„å¤„ç†æœºåˆ¶æ˜¯ä¸ä¸€æ ·çš„ã€‚æ¯”å¦‚ç»™checkboxä½¿ç”¨v-model

åº•å±‚å¤„ç†çš„æ˜¯ checkedå±æ€§å’Œchangeäº‹ä»¶ã€‚

**ä¸è¿‡å’±ä»¬åªéœ€è¦æŒæ¡åº”ç”¨åœ¨æ–‡æœ¬æ¡†ä¸Šçš„åŸç†å³å¯**



## è¡¨å•ç±»ç»„ä»¶å°è£…

### 1.éœ€æ±‚ç›®æ ‡

å®ç°å­ç»„ä»¶å’Œçˆ¶ç»„ä»¶æ•°æ®çš„åŒå‘ç»‘å®š ï¼ˆå®ç°App.vueä¸­çš„selectIdå’Œå­ç»„ä»¶é€‰ä¸­çš„æ•°æ®è¿›è¡ŒåŒå‘ç»‘å®šï¼‰

### 2.ä»£ç æ¼”ç¤º

App.vue

```vue
<template>
  <div class="app">
    <BaseSelect 
       :cityId="selectId"
       @changeId="selectId = $event" //$eventç­‰ä»·äºe.target.value
    ></BaseSelect>
  </div>
</template>

<script>
import BaseSelect from './components/BaseSelect.vue'
export default {
  data() {
    return {
      selectId: '102',
    }
  },
  components: {
    BaseSelect,
  },
}
</script>

<style>
</style>
```

BaseSelect.vue

```vue
<template>
  <div>
    <select :value="cityId" @change="handleChange">
      <option value="101">åŒ—äº¬</option>
      <option value="102">ä¸Šæµ·</option>
      <option value="103">æ­¦æ±‰</option>
      <option value="104">å¹¿å·</option>
      <option value="105">æ·±åœ³</option>
    </select>
  </div>
</template>

<script>
export default {
  props: {
    cityId: String    
  },
   methods: {
     handleChange (e) {
         this.$emit('changeId',e.target.value)
     }  
   }
}
</script>

<style>
</style>
```



## v-modelç®€åŒ–ä»£ç 

### 1.ç›®æ ‡ï¼š

çˆ¶ç»„ä»¶é€šè¿‡v-model **ç®€åŒ–ä»£ç **ï¼Œå®ç°å­ç»„ä»¶å’Œçˆ¶ç»„ä»¶æ•°æ® **åŒå‘ç»‘å®š**

### 2.å¦‚ä½•ç®€åŒ–ï¼š

v-modelå…¶å®å°±æ˜¯ :valueå’Œ@inputäº‹ä»¶çš„ç®€å†™

- å­ç»„ä»¶ï¼špropsé€šè¿‡valueæ¥æ”¶æ•°æ®ï¼Œäº‹ä»¶è§¦å‘ input
- çˆ¶ç»„ä»¶ï¼šv-modelç›´æ¥ç»‘å®šæ•°æ®

### 3.ä»£ç ç¤ºä¾‹

å­ç»„ä»¶

```vue
<select :value="value" @change="handleChange">...</select>
props: {
  //è¿™é‡Œå¿…é¡»ç”¨valueæ¥æ”¶
Â  value: String
},
methods: {
Â  handleChange (e) {
	//è¿™é‡Œå¿…é¡»å†™inputäº‹ä»¶è§¦å‘
Â  Â  this.$emit('input', e.target.value)
Â  }
}
```

çˆ¶ç»„ä»¶

```vue
<BaseSelect v-model="selectId"></BaseSelect>
```



## .syncä¿®é¥°ç¬¦

### 1.ä½œç”¨

å¯ä»¥å®ç° **å­ç»„ä»¶** ä¸ **çˆ¶ç»„ä»¶æ•°æ®** çš„ **åŒå‘ç»‘å®š**ï¼Œç®€åŒ–ä»£ç 

ç®€å•ç†è§£ï¼š**å­ç»„ä»¶å¯ä»¥ä¿®æ”¹çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„propså€¼**

### 2.åœºæ™¯

å°è£…å¼¹æ¡†ç±»çš„åŸºç¡€ç»„ä»¶ï¼Œ visibleå±æ€§ trueæ˜¾ç¤º falseéšè—

### 3.æœ¬è´¨

.syncä¿®é¥°ç¬¦ å°±æ˜¯ **:å±æ€§å** å’Œ **@update:å±æ€§å** åˆå†™

### 4.è¯­æ³•

çˆ¶ç»„ä»¶

```vue
//.syncå†™æ³•
<BaseDialog :visible.sync="isShow" />
--------------------------------------
//å®Œæ•´å†™æ³•
<BaseDialog 
  :visible="isShow" 
  @update:visible="isShow = $event" 
/>
```

å­ç»„ä»¶

```vue
props: {
Â  visible: Boolean
},

this.$emit('update:visible', false)
```

### 5.ä»£ç ç¤ºä¾‹

App.vue

```vue
<template>
  <div class="app">
    <button @click="openDialog">é€€å‡ºæŒ‰é’®</button>
    <BaseDialog :isShow="isShow"></BaseDialog>
  </div>
</template>

<script>
import BaseDialog from './components/BaseDialog.vue'
export default {
  data() {
    return {
      isShow: false,
    }
  },
  components: {
    BaseDialog,
  },
}
</script>

<style>
</style>
```

BaseDialog.vue

```vue
<template>
  <div class="base-dialog-wrap" v-show="isShow">
    <div class="base-dialog">
      <div class="title">
        <h3>æ¸©é¦¨æç¤ºï¼š</h3>
        <button class="close">x</button>
      </div>
      <div class="content">
        <p>ä½ ç¡®è®¤è¦é€€å‡ºæœ¬ç³»ç»Ÿä¹ˆï¼Ÿ</p>
      </div>
      <div class="footer">
        <button>ç¡®è®¤</button>
        <button>å–æ¶ˆ</button>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  props: {
    isShow: Boolean,
  }
}
</script>

<style scoped>
.base-dialog-wrap {
  width: 300px;
  height: 200px;
  box-shadow: 2px 2px 2px 2px #ccc;
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  padding: 0 10px;
}
.base-dialog .title {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 2px solid #000;
}
.base-dialog .content {
  margin-top: 38px;
}
.base-dialog .title .close {
  width: 20px;
  height: 20px;
  cursor: pointer;
  line-height: 10px;
}
.footer {
  display: flex;
  justify-content: flex-end;
  margin-top: 26px;
}
.footer button {
  width: 80px;
  height: 40px;
}
.footer button:nth-child(1) {
  margin-right: 10px;
  cursor: pointer;
}
</style>
```



### 6.æ€»ç»“

1.çˆ¶ç»„ä»¶å¦‚æœæƒ³è®©å­ç»„ä»¶ä¿®æ”¹ä¼ è¿‡å»çš„å€¼ å¿…é¡»åŠ ä»€ä¹ˆä¿®é¥°ç¬¦ï¼Ÿ

2.å­ç»„ä»¶è¦ä¿®æ”¹çˆ¶ç»„ä»¶çš„propså€¼ å¿…é¡»ä½¿ç”¨ä»€ä¹ˆè¯­æ³•ï¼Ÿ



## refå’Œ$refs

### 1.ä½œç”¨

åˆ©ç”¨ref å’Œ $refs å¯ä»¥ç”¨äº è·å– dom å…ƒç´  æˆ– ç»„ä»¶å®ä¾‹(ç»„ä»¶å¯¹è±¡é‡Œé¢çš„æ–¹æ³•)

### 2.ç‰¹ç‚¹ï¼š

æŸ¥æ‰¾èŒƒå›´ â†’  å½“å‰ç»„ä»¶å†…(æ›´ç²¾ç¡®ç¨³å®š)

### 3.è¯­æ³•

1.ç»™è¦è·å–çš„ç›’å­æ·»åŠ refå±æ€§

```html
<div ref="chartRef">æˆ‘æ˜¯æ¸²æŸ“å›¾è¡¨çš„å®¹å™¨</div>
```

2.è·å–æ—¶é€šè¿‡ $refsè·å–  this.\$refs.chartRef è·å–

```html
mounted () {
Â  console.log(this.$refs.chartRef)
}
```

### 4.æ³¨æ„

ä¹‹å‰åªç”¨document.querySelect('.box') è·å–çš„æ˜¯æ•´ä¸ªé¡µé¢ä¸­çš„ç›’å­



### 5.è·å–domå®ä¾‹

App.vue

```vue
<template>
  <div class="app">
    <div class="base-chart-box">
      è¿™æ˜¯ä¸€ä¸ªæ£ä¹±çš„ç›’å­
    </div>
    <BaseChart></BaseChart>
  </div>
</template>

<script>
import BaseChart from './components/BaseChart.vue'
export default {
  data () {
    return {

    }
  },
  components:{
    BaseChart
  }
}
</script>

<style>
```

BaseChart.vue

```vue
<template>
  <div ref="mychart" class="base-chart-box"></div>
</template>

<script>
import * as echarts from 'echarts'

export default {
  mounted() {
    console.log(this.$refs.mychart)
    // åŸºäºå‡†å¤‡å¥½çš„domï¼Œåˆå§‹åŒ–echartså®ä¾‹
    const myChart = echarts.init(this.$refs.mychart)
    // ç»˜åˆ¶å›¾è¡¨
    myChart.setOption({
      title: {
        text: 'ECharts å…¥é—¨ç¤ºä¾‹',
      },
      tooltip: {},
      xAxis: {
        data: ['è¡¬è¡«', 'ç¾Šæ¯›è¡«', 'é›ªçººè¡«', 'è£¤å­', 'é«˜è·Ÿé‹', 'è¢œå­'],
      },
      yAxis: {},
      series: [
        {
          name: 'é”€é‡',
          type: 'bar',
          data: [5, 20, 36, 10, 10, 20],
        },
      ],
    })
  },
}
</script>

<style scoped>
.base-chart-box {
  width: 400px;
  height: 300px;
  border: 3px solid #000;
  border-radius: 6px;
}
</style>
```

### 6.è·å–ç»„ä»¶å®ä¾‹(ç»„ä»¶æ–¹æ³•)

App.vue

```vue
<template>
  <div class="app">
    <BaseForm
      ref="baseForm"
    ></BaseForm>
    <div>
      <button @click="getReset">è·å–æ•°æ®</button>
      <button @click="handleReset">é‡ç½®æ•°æ®</button>
    </div>
  </div>
</template>

<script>
import BaseForm from './components/BaseForm.vue'
export default {
  components: {
    BaseForm,
  },
  methods: {
    getReset () {
      console.log(this.$refs.baseForm.getFormData())
    },
    handleReset () {
      // å¦‚æœç»„ä»¶æœ‰ç‰¹æ®Šç¬¦å·æ— æ³•è¯†åˆ«æ—¶,å¯ä»¥ä½¿ç”¨è¿™ä¸ªè¯­æ³•
      this.$refs["baseForm"].resetFormData()  
      this.$refs.baseForm.resetFormData()
    }
  }
}
</script>

<style>
</style>
```

BaseForm.vue

```vue
<template>
  <div class="app">
    <div>
      è´¦å·: <input v-model="username" type="text">
    </div>
     <div>
      å¯†ç : <input v-model="password" type="text">
    </div>
    
  </div>
</template>

<script>
export default {
  data() {
    return {
      username: 'admin',
      password: '123456',
    }
  },
  methods: {
    getFormData() {
      console.log('è·å–è¡¨å•æ•°æ®', this.username, this.password);
    },
    resetFormData() {
      this.username = ''
      this.password = ''
      console.log('é‡ç½®è¡¨å•æ•°æ®æˆåŠŸ');
    },
  }
}
</script>

<style scoped>
.app {
  border: 2px solid #ccc;
  padding: 10px;
}
.app div{
  margin: 10px 0;
}
.app div button{
  margin-right: 8px;
}
</style>
```



## å¼‚æ­¥æ›´æ–° & $nextTick

### 1.éœ€æ±‚

ç¼–è¾‘æ ‡é¢˜,  ç¼–è¾‘æ¡†è‡ªåŠ¨èšç„¦

1. ç‚¹å‡»ç¼–è¾‘ï¼Œæ˜¾ç¤ºç¼–è¾‘æ¡†
2. è®©ç¼–è¾‘æ¡†ï¼Œç«‹åˆ»è·å–ç„¦ç‚¹

![68239449534](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682394495346.png)

### 2.ä»£ç å®ç°

```vue
<template>
  <div class="app">
    <div v-if="isShowEdit">
      <input type="text" v-model="editValue" ref="inp" />
      <button>ç¡®è®¤</button>
    </div>
    <div v-else>
      <span>{{ title }}</span>
      <button @click="handleEdit">ç¼–è¾‘</button>
    </div>
  </div>
</template>

<script>
export default {
  data() {
    return {
      title: 'å¤§æ ‡é¢˜',
      isShowEdit: false,
      editValue: '',
    }
  },
  methods: {
    handleEdit () {
      //æ˜¾ç¤ºè¾“å…¥æ¡† ï¼ˆå¼‚æ­¥domæ›´æ–°ï¼‰
      this.isShowEdit = true
      //è®©è¾“å…¥æ¡†è·å–ç„¦ç‚¹  ï¼ˆ$nextTickç­‰domæ›´æ–°å®Œï¼Œç«‹åˆ»æ‰§è¡Œå‡†å¤‡çš„å‡½æ•°ä½“ï¼‰
      this.$nextTick(() => {
        this.$refs.inp.focus()
      })

      //ç”¨setTimeoutä¹Ÿå¯ï¼Œä½†æ˜¯æ—¶é—´è®¾ç½®ä¸å¤Ÿå‡†ç¡®ï¼Œæµªè´¹äº†ä¸å¿…è¦çš„æ—¶é—´ï¼‰
      // setTimeout(() => {
      //   this.$refs.inp.focus()
      // }, 1000)
    }
  },
}
</script>
```



### 3.é—®é¢˜

"æ˜¾ç¤ºä¹‹å"ï¼Œç«‹åˆ»è·å–ç„¦ç‚¹æ˜¯ä¸èƒ½æˆåŠŸçš„ï¼

åŸå› ï¼šVue æ˜¯å¼‚æ­¥æ›´æ–°DOM  (æå‡æ€§èƒ½)



### 4.è§£å†³æ–¹æ¡ˆ

$nextTickï¼š**ç­‰ DOMæ›´æ–°å**,æ‰ä¼šè§¦å‘æ‰§è¡Œæ­¤æ–¹æ³•é‡Œçš„å‡½æ•°ä½“

**è¯­æ³•:** this.$nextTick(å‡½æ•°ä½“)

```js
this.$nextTick(() => {
Â  this.$refs.inp.focus()
})
```

**æ³¨æ„ï¼š**$nextTick å†…çš„å‡½æ•°ä½“ ä¸€å®šæ˜¯**ç®­å¤´å‡½æ•°**ï¼Œè¿™æ ·æ‰èƒ½è®©å‡½æ•°å†…éƒ¨çš„thisæŒ‡å‘Vueå®ä¾‹

## è‡ªå®šä¹‰æŒ‡ä»¤

### 1.æŒ‡ä»¤ä»‹ç»

- å†…ç½®æŒ‡ä»¤ï¼š**v-htmlã€v-ifã€v-bindã€v-on**... è¿™éƒ½æ˜¯Vueç»™å’±ä»¬å†…ç½®çš„ä¸€äº›æŒ‡ä»¤ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨

- è‡ªå®šä¹‰æŒ‡ä»¤ï¼šåŒæ—¶Vueä¹Ÿæ”¯æŒè®©å¼€å‘è€…ï¼Œè‡ªå·±æ³¨å†Œä¸€äº›æŒ‡ä»¤ã€‚è¿™äº›æŒ‡ä»¤è¢«ç§°ä¸º**è‡ªå®šä¹‰æŒ‡ä»¤**

  æ¯ä¸ªæŒ‡ä»¤éƒ½æœ‰è‡ªå·±å„è‡ªç‹¬ç«‹çš„åŠŸèƒ½

### 2.è‡ªå®šä¹‰æŒ‡ä»¤

æ¦‚å¿µï¼šè‡ªå·±å®šä¹‰çš„æŒ‡ä»¤ï¼Œå¯ä»¥**å°è£…ä¸€äº›DOMæ“ä½œ**ï¼Œæ‰©å±•é¢å¤–çš„åŠŸèƒ½

### 3.è‡ªå®šä¹‰æŒ‡ä»¤è¯­æ³•

- å…¨å±€æ³¨å†Œ

  ```js
  //åœ¨main.jsä¸­
  Vue.directive('æŒ‡ä»¤å', {
    //insertedä¼šåœ¨æŒ‡ä»¤æ‰€åœ¨çš„å…ƒç´ è¢«æ’å…¥åˆ°é¡µé¢ä¸­æ—¶è§¦å‘
  Â  "inserted" (el) {
  Â  Â  //elå°±æ˜¯æŒ‡ä»¤æ‰€ç»‘å®šçš„å…ƒç´ ï¼Œå¯ä»¥å¯¹ el æ ‡ç­¾ï¼Œæ‰©å±•é¢å¤–åŠŸèƒ½
      el.focus()
  Â  }
  })
  ```

- å±€éƒ¨æ³¨å†Œ

  ```vue
  //åœ¨Vueç»„ä»¶çš„é…ç½®é¡¹ä¸­
  directives: {
    //æŒ‡ä»¤åï¼šæŒ‡ä»¤çš„é…ç½®é¡¹
  Â  "æŒ‡ä»¤å": {
  Â  Â  inserted () {
  Â  Â  Â  // å¯ä»¥å¯¹ el æ ‡ç­¾ï¼Œæ‰©å±•é¢å¤–åŠŸèƒ½
        el.focus()
  Â  Â  }
  Â  }
  }
  ```

- ä½¿ç”¨æŒ‡ä»¤

  æ³¨æ„ï¼šåœ¨ä½¿ç”¨æŒ‡ä»¤çš„æ—¶å€™ï¼Œä¸€å®šè¦**å…ˆæ³¨å†Œ**ï¼Œ**å†ä½¿ç”¨**ï¼Œå¦åˆ™ä¼šæŠ¥é”™
  ä½¿ç”¨æŒ‡ä»¤è¯­æ³•ï¼š v-æŒ‡ä»¤åã€‚å¦‚ï¼š`<input type="text"  v-focus/>`  

  **æ³¨å†Œ**æŒ‡ä»¤æ—¶**ä¸ç”¨**åŠ **v-å‰ç¼€**ï¼Œä½†**ä½¿ç”¨æ—¶**ä¸€å®šè¦**åŠ v-å‰ç¼€**

### 4.æŒ‡ä»¤ä¸­çš„é…ç½®é¡¹ä»‹ç»

inserted:è¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨çš„é’©å­å‡½æ•°

elï¼šä½¿ç”¨æŒ‡ä»¤çš„é‚£ä¸ªDOMå…ƒç´ 



### 5.ä»£ç ç¤ºä¾‹

éœ€æ±‚ï¼šå½“é¡µé¢åŠ è½½æ—¶ï¼Œè®©å…ƒç´ è·å–ç„¦ç‚¹ï¼ˆ**autofocusåœ¨safariæµè§ˆå™¨æœ‰å…¼å®¹æ€§**ï¼‰

App.vue

```vue
  <div>
    <h1>è‡ªå®šä¹‰æŒ‡ä»¤</h1>
    <input v-focus ref="inp" type="text">
  </div>
```





## è‡ªå®šä¹‰æŒ‡ä»¤-æŒ‡ä»¤çš„å€¼

### 1.éœ€æ±‚

å®ç°ä¸€ä¸ª color æŒ‡ä»¤ - ä¼ å…¥ä¸åŒçš„é¢œè‰², ç»™æ ‡ç­¾è®¾ç½®æ–‡å­—é¢œè‰²

### 2.è¯­æ³•

1.åœ¨ç»‘å®šæŒ‡ä»¤æ—¶ï¼Œå¯ä»¥é€šè¿‡â€œç­‰å·â€çš„å½¢å¼ä¸ºæŒ‡ä»¤ ç»‘å®š å…·ä½“çš„å‚æ•°å€¼

```html
<div v-color="color">æˆ‘æ˜¯å†…å®¹</div>
```

2.é€šè¿‡ binding.value å¯ä»¥æ‹¿åˆ°æŒ‡ä»¤å€¼ï¼Œ**æŒ‡ä»¤å€¼ä¿®æ”¹ä¼š è§¦å‘ update å‡½æ•°**

```js
directives: {
Â  color: {
Â  Â  inserted (el, binding) {
Â  Â  Â  el.style.color = binding.value
Â  Â  },
Â  Â  update (el, binding) {
Â  Â  Â  el.style.color = binding.value
Â  Â  }
Â  }
}
```

### 3.ä»£ç ç¤ºä¾‹

App.vue

```vue
<template>
  <div>
     <!--æ˜¾ç¤ºçº¢è‰²--> 
    <h2 v-color="color1">æŒ‡ä»¤çš„å€¼1æµ‹è¯•</h2>
     <!--æ˜¾ç¤ºè“è‰²--> 
    <h2 v-color="color2">æŒ‡ä»¤çš„å€¼2æµ‹è¯•</h2>
</template>

<script>
export default {
  data () {
    return {
      color1: 'red',
      color2: 'green'
    }
  },
  directives: {
    color: {
      //inserted æä¾›çš„æ˜¯å…ƒç´ è¢«æ·»åŠ åˆ°é¡µé¢ä¸­æ—¶çš„é€»è¾‘
      inserted (el,binding) {
        // console.log(el);
        //binding.value å°±æ˜¯æŒ‡ä»¤çš„å€¼
        el.style.color = binding.value
      },
      // update æŒ‡ä»¤çš„å€¼ä¿®æ”¹çš„æ—¶å€™è§¦å‘ï¼Œæä¾›å€¼å˜åŒ–åï¼Œdomæ›´æ–°çš„é€»è¾‘
      update (el, binding) {
        console.log('æŒ‡ä»¤çš„å€¼ä¿®æ”¹äº†');
        el.style.color = binding.value
      }
    }
  }
}
</script>

<style>

</style>
```



## è‡ªå®šä¹‰æŒ‡ä»¤-v-loadingæŒ‡ä»¤çš„å°è£…

### 1.åœºæ™¯

å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå‘é€è¯·æ±‚éœ€è¦æ—¶é—´ï¼Œåœ¨è¯·æ±‚çš„æ•°æ®æœªå›æ¥æ—¶ï¼Œé¡µé¢ä¼šå¤„äº**ç©ºç™½çŠ¶æ€**  =>  ç”¨æˆ·ä½“éªŒä¸å¥½

### 2.éœ€æ±‚

å°è£…ä¸€ä¸ª v-loading æŒ‡ä»¤ï¼Œå®ç°åŠ è½½ä¸­çš„æ•ˆæœ

### 3.åˆ†æ

1.æœ¬è´¨ loadingæ•ˆæœå°±æ˜¯ä¸€ä¸ªè’™å±‚ï¼Œç›–åœ¨äº†ç›’å­ä¸Š

2.æ•°æ®è¯·æ±‚ä¸­ï¼Œå¼€å¯loadingçŠ¶æ€ï¼Œæ·»åŠ è’™å±‚

3.æ•°æ®è¯·æ±‚å®Œæ¯•ï¼Œå…³é—­loadingçŠ¶æ€ï¼Œç§»é™¤è’™å±‚

### 4.å®ç°

1.å‡†å¤‡ä¸€ä¸ª loadingç±»ï¼Œé€šè¿‡ä¼ªå…ƒç´ å®šä½ï¼Œè®¾ç½®å®½é«˜ï¼Œå®ç°è’™å±‚

2.å¼€å¯å…³é—­ loadingçŠ¶æ€ï¼ˆæ·»åŠ ç§»é™¤è’™å±‚ï¼‰ï¼Œæœ¬è´¨åªéœ€è¦æ·»åŠ ç§»é™¤ç±»å³å¯

3.ç»“åˆè‡ªå®šä¹‰æŒ‡ä»¤çš„è¯­æ³•è¿›è¡Œå°è£…å¤ç”¨

```css
.loading:before {
Â  content: "";
Â  position: absolute;
Â  left: 0;
Â  top: 0;
Â  width: 100%;
Â  height: 100%;
Â  background: #fff url("./loading.gif") no-repeat center;
}
```

### 5.å‡†å¤‡ä»£ç 

```html
<template>
  <div class="main">
    <div class="box" v-loading="isLoading">
      <ul>
        <li v-for="item in list" :key="item.id" class="news">
          <div class="left">
            <div class="title">{{ item.title }}</div>
            <div class="info">
              <span>{{ item.source }}</span>
              <span>{{ item.time }}</span>
            </div>
          </div>

          <div class="right">
            <img :src="item.img" alt="">
          </div>
        </li>
      </ul>
    </div>
  </div>
</template>

<script>
// å®‰è£…axios =>  yarn add axios
import axios from 'axios'

// æ¥å£åœ°å€ï¼šhttp://hmajax.itheima.net/api/news
// è¯·æ±‚æ–¹å¼ï¼šget
export default {
  data () {
    return {
      list: [],
      isLoading: true
    }
  },
  async created () {
    // 1. å‘é€è¯·æ±‚è·å–æ•°æ®
    const res = await axios.get('http://hmajax.itheima.net/api/news')
    
    setTimeout(() => {
      // 2. æ›´æ–°åˆ° list ä¸­
      this.list = res.data.data
      this.isLoading = false
    }, 2000)
  },
  directives: {
    loading: {
      inserted (el, binding) {
        binding.value ? el.classList.add('loading') : el.classList.remove('loading')
      },
      update (el, binding) {
        binding.value ? el.classList.add('loading') : el.classList.remove('loading')
      }
    }
  }
}
</script>

<style>
/* ä¼ªç±» - è’™å±‚æ•ˆæœ */
.loading:before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background: #fff url('./loading.gif') no-repeat center;
}

/* .box2 {
  width: 400px;
  height: 400px;
  border: 2px solid #000;
  position: relative;
} */

.box {
  width: 800px;
  min-height: 500px;
  border: 3px solid orange;
  border-radius: 5px;
  position: relative;
}
.news {
  display: flex;
  height: 120px;
  width: 600px;
  margin: 0 auto;
  padding: 20px 0;
  cursor: pointer;
}
.news .left {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding-right: 10px;
}
.news .left .title {
  font-size: 20px;
}
.news .left .info {
  color: #999999;
}
.news .left .info span {
  margin-right: 20px;
}
.news .right {
  width: 160px;
  height: 120px;
}
.news .right img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
</style>
```



## æ’æ§½-é»˜è®¤æ’æ§½

### 1.ä½œç”¨

è®©ç»„ä»¶å†…éƒ¨çš„ä¸€äº› **ç»“æ„** æ”¯æŒ **è‡ªå®šä¹‰**

![68241021524](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682410215245.png)

### 2.éœ€æ±‚

å°†éœ€è¦å¤šæ¬¡æ˜¾ç¤ºçš„å¯¹è¯æ¡†,å°è£…æˆä¸€ä¸ªç»„ä»¶

### 3.é—®é¢˜

ç»„ä»¶çš„å†…å®¹éƒ¨åˆ†ï¼Œ**ä¸å¸Œæœ›å†™æ­»**ï¼Œå¸Œæœ›èƒ½ä½¿ç”¨çš„æ—¶å€™**è‡ªå®šä¹‰**ã€‚æ€ä¹ˆåŠ

### 4.æ’æ§½çš„åŸºæœ¬è¯­æ³•

1. ç»„ä»¶å†…éœ€è¦å®šåˆ¶çš„ç»“æ„éƒ¨åˆ†ï¼Œæ”¹ç”¨**`<slot></slot>`**å ä½
2. ä½¿ç”¨ç»„ä»¶æ—¶, **`<MyDialog></MyDialog>`**æ ‡ç­¾å†…éƒ¨, ä¼ å…¥ç»“æ„æ›¿æ¢slot
3. ç»™æ’æ§½ä¼ å…¥å†…å®¹æ—¶ï¼Œå¯ä»¥ä¼ å…¥**çº¯æ–‡æœ¬ã€htmlæ ‡ç­¾ã€ç»„ä»¶**

![68241032979](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682410329794.png)



### 5.ä»£ç ç¤ºä¾‹

MyDialog.vue

```vue
<template>
  <div class="dialog">
    <div class="dialog-header">
      <h3>å‹æƒ…æç¤º</h3>
      <span class="close">âœ–ï¸</span>
    </div>

    <div class="dialog-content">
      <!-- åœ¨éœ€è¦å®šåˆ¶çš„ä½ç½®ä½¿ç”¨slotå ä½ -->
      <slot></slot>
    </div>
    <div class="dialog-footer">
      <button>å–æ¶ˆ</button>
      <button>ç¡®è®¤</button>
    </div>
  </div>
</template>

<script>
export default {
  data () {
    return {

    }
  }
}
</script>

<style scoped>
* {
  margin: 0;
  padding: 0;
}
.dialog {
  width: 470px;
  height: 230px;
  padding: 0 25px;
  background-color: #ffffff;
  margin: 40px auto;
  border-radius: 5px;
}
.dialog-header {
  height: 70px;
  line-height: 70px;
  font-size: 20px;
  border-bottom: 1px solid #ccc;
  position: relative;
}
.dialog-header .close {
  position: absolute;
  right: 0px;
  top: 0px;
  cursor: pointer;
}
.dialog-content {
  height: 80px;
  font-size: 18px;
  padding: 15px 0;
}
.dialog-footer {
  display: flex;
  justify-content: flex-end;
}
.dialog-footer button {
  width: 65px;
  height: 35px;
  background-color: #ffffff;
  border: 1px solid #e1e3e9;
  cursor: pointer;
  outline: none;
  margin-left: 10px;
  border-radius: 3px;
}
.dialog-footer button:last-child {
  background-color: #007acc;
  color: #fff;
}
</style>

```

App.vue

```vue
<template>
  <div>
    <!-- åœ¨ç»„ä»¶æ ‡ç­¾å†…å¡«å…¥å†…å®¹ -->
    <MyDialog>
      <div>ä½ ç¡®è®¤è¦åˆ é™¤å—</div>
    </MyDialog>
    <MyDialog>
      <p>ä½ ç¡®è®¤è¦é€€å‡ºå—</p>
    </MyDialog>
  </div>
</template>

<script>
import MyDialog from "./components/MyDialog.vue"
export default {
  data() {
    return {}
  },
  components: {
    MyDialog,
  },
}
</script>

<style>
body {
  background-color: #b3b3b3;
}
</style>
```

### 6.æ€»ç»“

åœºæ™¯ï¼šç»„ä»¶å†…æŸä¸€éƒ¨åˆ†ç»“æ„ä¸ç¡®å®šï¼Œæƒ³è¦è‡ªå®šä¹‰æ€ä¹ˆåŠ

ä½¿ç”¨ï¼šæ’æ§½çš„æ­¥éª¤åˆ†ä¸ºå“ªå‡ æ­¥ï¼Ÿ



## æ’æ§½-åå¤‡å†…å®¹ï¼ˆé»˜è®¤å€¼ï¼‰

### 1.é—®é¢˜

é€šè¿‡æ’æ§½å®Œæˆäº†å†…å®¹çš„å®šåˆ¶ï¼Œä¼ ä»€ä¹ˆæ˜¾ç¤ºä»€ä¹ˆ, ä½†æ˜¯å¦‚æœä¸ä¼ ï¼Œåˆ™æ˜¯ç©ºç™½

![68241149461](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682411494612.png)

èƒ½å¦ç»™æ’æ§½è®¾ç½® é»˜è®¤æ˜¾ç¤ºå†…å®¹ å‘¢ï¼Ÿ

### 2.æ’æ§½çš„åå¤‡å†…å®¹

å°è£…ç»„ä»¶æ—¶ï¼Œå¯ä»¥ä¸ºé¢„ç•™çš„ `<slot>` æ’æ§½æä¾›åå¤‡å†…å®¹ï¼ˆé»˜è®¤å†…å®¹ï¼‰ã€‚

### 3.è¯­æ³•

åœ¨ `<slot>` æ ‡ç­¾å†…ï¼Œæ”¾ç½®å†…å®¹, ä½œä¸ºé»˜è®¤æ˜¾ç¤ºå†…å®¹

![68241233912](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682412365046.png)

### 4.æ•ˆæœ

- å¤–éƒ¨ä½¿ç”¨ç»„ä»¶æ—¶ï¼Œä¸ä¼ ä¸œè¥¿ï¼Œåˆ™slotä¼šæ˜¾ç¤ºâ€æˆ‘æ˜¯åå¤‡å†…å®¹â€œ 

  ![68241243265](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682412432656.png)

- å¤–éƒ¨ä½¿ç”¨ç»„ä»¶æ—¶ï¼Œä¼ ä¸œè¥¿äº†ï¼Œåˆ™slotæ•´ä½“ä¼šè¢«æ¢æ‰

  ![68241245902](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682412459027.png)



## æ’æ§½-å…·åæ’æ§½

### 1.éœ€æ±‚

ä¸€ä¸ªç»„ä»¶å†…æœ‰å¤šå¤„ç»“æ„ï¼Œéœ€è¦å¤–éƒ¨ä¼ å…¥æ ‡ç­¾ï¼Œè¿›è¡Œå®šåˆ¶ ![68241313487](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682413134876.png)

ä¸Šé¢çš„å¼¹æ¡†ä¸­æœ‰**ä¸‰å¤„ä¸åŒ**ï¼Œä½†æ˜¯**é»˜è®¤æ’æ§½**åªèƒ½**å®šåˆ¶ä¸€ä¸ªä½ç½®**ï¼Œè¿™æ—¶å€™æ€ä¹ˆåŠå‘¢?

### 2.å…·åæ’æ§½è¯­æ³•

- å¤šä¸ªslotä½¿ç”¨nameå±æ€§åŒºåˆ†åå­— 

  ![68241339172](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682413391727.png)

- templateé…åˆv-slot:åå­—æ¥åˆ†å‘å¯¹åº”æ ‡ç­¾

  ![68241341192](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682413411921.png)

### 3.v-slotçš„ç®€å†™

v-slotå†™èµ·æ¥å¤ªé•¿ï¼Œvueç»™æˆ‘ä»¬æä¾›ä¸€ä¸ªç®€å•å†™æ³• **v-slot  -> #**

### 4.æ€»ç»“

- ç»„ä»¶å†… æœ‰å¤šå¤„ä¸ç¡®å®šçš„ç»“æ„ æ€ä¹ˆåŠ?
- å…·åæ’æ§½çš„è¯­æ³•æ˜¯ä»€ä¹ˆï¼Ÿ
- v-slot:æ’æ§½åå¯ä»¥ç®€åŒ–æˆä»€ä¹ˆ?



## ä½œç”¨åŸŸæ’æ§½

### 1.æ’æ§½åˆ†ç±»

- é»˜è®¤æ’æ§½

- å…·åæ’æ§½

  æ’æ§½åªæœ‰ä¸¤ç§ï¼Œä½œç”¨åŸŸæ’æ§½ä¸å±äºæ’æ§½çš„ä¸€ç§åˆ†ç±»

### 2.ä½œç”¨

å®šä¹‰slot æ’æ§½çš„åŒæ—¶, æ˜¯å¯ä»¥**ä¼ å€¼**çš„ã€‚ç»™ **æ’æ§½** ä¸Šå¯ä»¥ **ç»‘å®šæ•°æ®**ï¼Œå°†æ¥ **ä½¿ç”¨ç»„ä»¶æ—¶å¯ä»¥ç”¨**

### 3.åœºæ™¯

å°è£…è¡¨æ ¼ç»„ä»¶

![68241434213](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682414342139.png)

### 4.ä½¿ç”¨æ­¥éª¤

1. ç»™ slot æ ‡ç­¾, ä»¥ æ·»åŠ å±æ€§çš„æ–¹å¼ä¼ å€¼

   ```vue
   <slot :id="item.id" msg="æµ‹è¯•æ–‡æœ¬"></slot>
   ```

2. æ‰€æœ‰æ·»åŠ çš„å±æ€§, éƒ½ä¼šè¢«æ”¶é›†åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­

   ```vue
   { id: 3, msg: 'æµ‹è¯•æ–‡æœ¬' }
   ```

3. åœ¨templateä¸­, é€šè¿‡  ` #æ’æ§½å= "obj"` æ¥æ”¶ï¼Œé»˜è®¤æ’æ§½åä¸º default,objä¹Ÿå¯ç›´æ¥æ›¿æ¢ä¸º { å±æ€§å } æ¥ç›´æ¥ä¼ å±æ€§ï¼Œä¸ç”¨ä¼ é€’æ•´ä¸ªå¯¹è±¡

   ```vue
   <MyTable :list="list">
   Â  <template #default="obj">
   Â  Â  <button @click="del(obj.id)">åˆ é™¤</button>
   Â  </template>
   </MyTable>
   ```

### 5.ä»£ç ç¤ºä¾‹

MyTable.vue

```vue
<template>
  <table class="my-table">
    <thead>
      <tr>
        <th>åºå·</th>
        <th>å§“å</th>
        <th>å¹´çºª</th>
        <th>æ“ä½œ</th>
      </tr>
    </thead>
    <tbody>
      <tr v-for="(item, index) in data" :key="item.id">
        <td>{{ index + 1 }}</td>
        <td>{{ item.name }}</td>
        <td>{{ item.age }}</td>
        <td>
          <!-- ç»™slotæ ‡ç­¾ï¼Œä»¥æ·»åŠ å±æ€§çš„æ–¹å¼ä¼ å€¼ -->
          <slot :row="item" msg="æµ‹è¯•æ–‡æœ¬"></slot>
          <!-- å°†æ‰€æœ‰çš„å±æ€§æ·»åŠ åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ -->
          <!-- 
            {
              row: {id: 2, name: 'é™ˆé“­é¹¤', age: 19},
              msg; 'æµ‹è¯•æ–‡æœ¬'
            }
           -->
        </td>
      </tr>
    </tbody>
  </table>
</template>

<script>

export default {
  props: {
    data: Array,
  },
}
</script>

<style scoped>
.my-table {
  width: 450px;
  text-align: center;
  border: 1px solid #ccc;
  font-size: 24px;
  margin: 30px auto;
}
.my-table thead {
  background-color: #1f74ff;
  color: #fff;
}
.my-table thead th {
  font-weight: normal;
}
.my-table thead tr {
  line-height: 40px;
}
.my-table th,
.my-table td {
  border-bottom: 1px solid #ccc;
  border-right: 1px solid #ccc;
}
.my-table td:last-child {
  border-right: none;
}
.my-table tr:last-child td {
  border-bottom: none;
}
.my-table button {
  width: 65px;
  height: 35px;
  font-size: 18px;
  border: 1px solid #ccc;
  outline: none;
  border-radius: 3px;
  cursor: pointer;
  background-color: #ffffff;
  margin-left: 5px;
}
</style>
```

App.vue

```vue
<template>
  <div>
    <MyTable :data="list">
      <template #default="obj">
        <button @click="del(obj.row.id)">
          åˆ é™¤
        </button></template>
    </MyTable>
    <MyTable :data="list2">
      <template #default="{ row }">
        <button @click="show(row)">æŸ¥çœ‹</button>
      </template>
    </MyTable>
  </div>
</template>

<script>
import MyTable from './components/MyTable.vue'
export default {
  data () {
    return {
      list: [
        { id: 1, name: 'å¼ å°èŠ±', age: 18 },
        { id: 2, name: 'å­™å¤§æ˜', age: 19 },
        { id: 3, name: 'åˆ˜å¾·å¿ ', age: 17 },
      ],
      list2: [
        { id: 1, name: 'èµµå°äº‘', age: 18 },
        { id: 2, name: 'åˆ˜è““è““', age: 19 },
        { id: 3, name: 'å§œè‚–æ³°', age: 17 },
      ]
    }
  },
  methods: {
    del (id) {
      this.list = this.list.filter(item => item.id !== id)
    },
    show (row) {
      console.log(row);
      alert('å§“å: ${row.name}; å¹´çºª: ${row.age}')
    }
  },
  components: {
    MyTable
  }
}
</script>

```

### 6.æ€»ç»“

1.ä½œç”¨åŸŸæ’æ§½çš„ä½œç”¨æ˜¯ç»™æ’æ§½ä¸Šç»‘å®šæ•°æ®ï¼Œä¾›å°†æ¥ä½¿ç”¨ç»„ä»¶æ—¶ä½¿ç”¨

2.ä½œç”¨åŸŸæ’æ§½çš„ä½¿ç”¨æ­¥éª¤ï¼š

ç»™slotæ ‡ç­¾ï¼Œä»¥æ·»åŠ å±æ€§çš„æ–¹å¼ä¼ å€¼

æ‰€æœ‰å±æ€§éƒ½ä¼šè¢«æ”¶é›†åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­

templateä¸­ï¼Œé€šè¿‡  `#æ’æ§½å="obj"` æ¥æ”¶

## ç»¼åˆæ¡ˆä¾‹ - å•†å“åˆ—è¡¨-MyTagç»„ä»¶æŠ½ç¦»

![68241640658](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682416406585.png)

### 1.éœ€æ±‚è¯´æ˜

1. **my-tag æ ‡ç­¾ç»„ä»¶å°è£…**

â€‹    (1) åŒå‡»æ˜¾ç¤ºè¾“å…¥æ¡†ï¼Œè¾“å…¥æ¡†è·å–ç„¦ç‚¹

â€‹    (2) å¤±å»ç„¦ç‚¹ï¼Œéšè—è¾“å…¥æ¡†

â€‹    (3) å›æ˜¾æ ‡ç­¾ä¿¡æ¯

â€‹    (4) å†…å®¹ä¿®æ”¹ï¼Œå›è½¦ â†’ ä¿®æ”¹æ ‡ç­¾ä¿¡æ¯

2. **my-table è¡¨æ ¼ç»„ä»¶å°è£…**

â€‹    (1) åŠ¨æ€ä¼ é€’è¡¨æ ¼æ•°æ®æ¸²æŸ“

â€‹    (2) è¡¨å¤´æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰

â€‹    (3) ä¸»ä½“æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰

### 2.ä»£ç 

App.vue

```vue
<template>
  <div class="table-case">
    <MyTable :data="goods">
      <template #head>
        <th>ç¼–å·</th>
        <th>åç§°</th>
        <th>å›¾ç‰‡</th>
        <th width="100px">æ ‡ç­¾</th>
      </template>
      <template #body="{item, index}">
        <td>{{ index + 1 }}</td>
          <td>{{item.name}}</td>
          <td>
            <img :src="item.picture" />
          </td>
          <td>
            <!-- æ ‡ç­¾ç»„ä»¶ -->
            <MyTag v-model="item.tag"></MyTag>
          </td>
      </template>
    </MyTable>
  </div>
</template>

<script>
import MyTable from './components/MyTable.vue'
import MyTag from './components/MyTag.vue'
export default {
  name: 'TableCase',
  components: {
    MyTag,
    MyTable,
  },
  data() {
    return {
      //æµ‹è¯•ç»„ä»¶åŠŸèƒ½çš„ä¸´æ—¶æ•°æ®
      templateText: 'èŒ¶å£¶',
      templateText2: 'é’¢ç¬”',
      goods: [
        {
          id: 101,
          picture:
            'https://yanxuan-item.nosdn.127.net/f8c37ffa41ab1eb84bff499e1f6acfc7.jpg',
          name: 'æ¢¨çš®æœ±æ³¥ä¸‰ç»æ¸…ä»£å°å“å£¶ç»å…¸æ¬¾ç´«ç ‚å£¶',
          tag: 'èŒ¶å…·',
        },
        {
          id: 102,
          picture:
            'https://yanxuan-item.nosdn.127.net/221317c85274a188174352474b859d7b.jpg',
          name: 'å…¨é˜²æ°´HABUæ—‹é’®ç‰›çš®æˆ·å¤–å¾’æ­¥é‹å±±å®æ³°æŠ—èŒ',
          tag: 'ç”·é‹',
        },
        {
          id: 103,
          picture:
            'https://yanxuan-item.nosdn.127.net/cd4b840751ef4f7505c85004f0bebcb5.png',
          name: 'æ¯›èŒ¸èŒ¸å°ç†Šå‡ºæ²¡ï¼Œå„¿ç«¥ç¾Šç¾”ç»’èƒŒå¿ƒ73-90cm',
          tag: 'å„¿ç«¥æœé¥°',
        },
        {
          id: 104,
          picture:
            'https://yanxuan-item.nosdn.127.net/56eb25a38d7a630e76a608a9360eec6b.jpg',
          name: 'åŸºç¡€ç™¾æ­ï¼Œå„¿ç«¥å¥—å¤´é’ˆç»‡æ¯›è¡£1-9å²',
          tag: 'å„¿ç«¥æœé¥°',
        },
      ],
    }
  },
}
</script>

<style lang="less" scoped>
.table-case {
  width: 1000px;
  margin: 50px auto;
  img {
    width: 100px;
    height: 100px;
    object-fit: contain;
    vertical-align: middle;
  }
}

</style>
```

#### my-tagç»„ä»¶å°è£…-åˆ›å»ºç»„ä»¶

MyTag.vue

```vue
<template>
  <div class="my-tag">
    <input v-if="isEdit"
      ref="inp"
      v-focus
      class="input"
      type="text"
      placeholder="è¾“å…¥æ ‡ç­¾"
      :value="value"
      @blur="isEdit = false"
      @keyup.enter = "handleEnter"
    />
    <div v-else @dblclick="handleClick" class="text">
      {{ value }}
    </div>
  </div>
</template>

<script>
export default {
    props: {
        value: String
    },
    data() {
        return {
            isEdit: false
        }
    },
    methods: {
        handleClick () {
            //è·å–ç„¦ç‚¹æ–¹å¼ï¼š é€šè¿‡nextTické…åˆ$refsèšç„¦
            //åŒå‡»ååˆ‡æ¢åˆ°æ˜¾ç¤ºçŠ¶æ€ (Vueæ˜¯å¼‚æ­¥æ›´æ–°)
            this.isEdit = true
            // æ‰€ä»¥æ˜¾ç¤ºè¾“å…¥æ¡†ä»¥åä¸èƒ½ç›´æ¥æ˜¾ç¤ºç„¦ç‚¹
            // this.$refs.inp.focus()
            // this.$nextTick(() => {
            //     //è·å–ç„¦ç‚¹
            //     this.$refs.inp.focus()
            // })

        },
        handleEnter (e) {
            if (e.target.value.trim() === '') return alert('æ ‡ç­¾å†…å®¹ä¸èƒ½ä¸ºç©º')
//å­ä¼ çˆ¶ï¼Œå°†å›è½¦æ—¶ï¼Œè¾“å…¥æ¡†çš„å†…å®¹æäº¤ç»™çˆ¶ç»„ä»¶æ›´æ–°,e.targetä»£è¡¨è¿™ä¸ªæ ‡ç­¾ï¼Œvalueè¡¨ç¤ºé‡Œé¢çš„å†…å®¹
//ç”±äºçˆ¶ç»„ä»¶æ˜¯ v-modelï¼Œè§¦å‘äº‹ä»¶ï¼Œéœ€è¦è§¦å‘ input äº‹ä»¶ï¼Œçˆ¶ç»„ä»¶æ¥æ”¶åå°†å€¼ä¿®æ”¹
            console.log('å›è½¦äº†')
            this.$emit('input', e.target.value)
            //æäº¤å®Œæˆï¼Œå…³é—­è¾“å…¥çŠ¶æ€
            this.isEdit = false
        }
    }
}
</script>

<style lang="less" scoped>
.my-tag {
    cursor: pointer;
    .input {
      appearance: none;
      outline: none;
      border: 1px solid #ccc;
      width: 100px;
      height: 40px;
      box-sizing: border-box;
      padding: 10px;
      color: #666;
      &::placeholder {
        color: #666;
      }
    }
  }
</style>
```

main.js

```js
import Vue from 'vue'
import App from './App.vue'

Vue.config.productionTip = false

//å°è£…å…¨å±€æŒ‡ä»¤ focus
Vue.directive('focus', {
  //æŒ‡ä»¤æ‰€åœ¨çš„domå…ƒç´ ï¼Œè¢«æ’å…¥åˆ°é¡µé¢ä¸­æ—¶è§¦å‘
  inserted (el) {
    el.focus()
  }
})

new Vue({
  render: h => h(App),
}).$mount('#app')

```



#### å°è£…MyTableç»„ä»¶è¿›è¡ŒåŠ¨æ€æ¸²æŸ“

MyTable.vue

```vue
<template>
  <div class="my-tag">
    <input
      v-if="isEdit"
      v-focus
      ref="inp"
      class="input"
      type="text"
      placeholder="è¾“å…¥æ ‡ç­¾" 
      @blur="isEdit = false" 
    />
    <div 
      v-else
      @dblclick="handleClick"
      class="text">
       èŒ¶å…·
    </div>
  </div>
</template>

<script>
export default {
  data () {
    return {
      isEdit: false
    }
  },
  methods: {
    handleClick () {
      this.isEdit = true
    }
  }
}
</script> 
```



## å•é¡µåº”ç”¨ç¨‹åºä»‹ç»

### 1.æ¦‚å¿µ

å•é¡µåº”ç”¨ç¨‹åºï¼šSPAã€Single Page Applicationã€‘æ˜¯æŒ‡æ‰€æœ‰çš„åŠŸèƒ½éƒ½åœ¨**ä¸€ä¸ªhtmlé¡µé¢**ä¸Šå®ç°

### 2.å…·ä½“ç¤ºä¾‹

å•é¡µåº”ç”¨ç½‘ç«™ï¼š ç½‘æ˜“äº‘éŸ³ä¹  <https://music.163.com/>

å¤šé¡µåº”ç”¨ç½‘ç«™ï¼šäº¬ä¸œ  https://jd.com/

### 3.å•é¡µåº”ç”¨ VS å¤šé¡µé¢åº”ç”¨

![68244191297](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682441912977.png)

å•é¡µåº”ç”¨ç±»ç½‘ç«™ï¼šç³»ç»Ÿç±»ç½‘ç«™ / å†…éƒ¨ç½‘ç«™ / æ–‡æ¡£ç±»ç½‘ç«™ / ç§»åŠ¨ç«¯ç«™ç‚¹

å¤šé¡µåº”ç”¨ç±»ç½‘ç«™ï¼šå…¬å¸å®˜ç½‘ / ç”µå•†ç±»ç½‘ç«™ 

### 4.æ€»ç»“

1.ä»€ä¹ˆæ˜¯å•é¡µé¢åº”ç”¨ç¨‹åº?

2.å•é¡µé¢åº”ç”¨ä¼˜ç¼ºç‚¹?

3.å•é¡µåº”ç”¨åœºæ™¯ï¼Ÿ



## è·¯ç”±ä»‹ç»

### 1.æ€è€ƒ

å•é¡µé¢åº”ç”¨ç¨‹åºï¼Œä¹‹æ‰€ä»¥å¼€å‘æ•ˆç‡é«˜ï¼Œæ€§èƒ½å¥½ï¼Œç”¨æˆ·ä½“éªŒå¥½

æœ€å¤§çš„åŸå› å°±æ˜¯ï¼š**é¡µé¢æŒ‰éœ€æ›´æ–°**

![68244269977](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682442699775.png)

æ¯”å¦‚å½“ç‚¹å‡»ã€å‘ç°éŸ³ä¹ã€‘å’Œã€å…³æ³¨ã€‘æ—¶ï¼Œ**åªæ˜¯æ›´æ–°ä¸‹é¢éƒ¨åˆ†å†…å®¹**ï¼Œå¯¹äºå¤´éƒ¨æ˜¯ä¸æ›´æ–°çš„

è¦æŒ‰éœ€æ›´æ–°ï¼Œé¦–å…ˆå°±éœ€è¦æ˜ç¡®ï¼š**è®¿é—®è·¯å¾„**å’Œ **ç»„ä»¶**çš„å¯¹åº”å…³ç³»ï¼

è®¿é—®è·¯å¾„ å’Œ ç»„ä»¶çš„å¯¹åº”å…³ç³»å¦‚ä½•ç¡®å®šå‘¢ï¼Ÿ **è·¯ç”±**



### 2.è·¯ç”±çš„ä»‹ç»

ç”Ÿæ´»ä¸­çš„è·¯ç”±ï¼šè®¾å¤‡å’Œipçš„æ˜ å°„å…³ç³»

![68244294505](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682442945057.png)

Vueä¸­çš„è·¯ç”±ï¼š**è·¯å¾„å’Œç»„ä»¶**çš„**æ˜ å°„**å…³ç³»

![68244304037](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682443040372.png)

### 3.æ€»ç»“

- ä»€ä¹ˆæ˜¯è·¯ç”±
- Vueä¸­çš„è·¯ç”±æ˜¯ä»€ä¹ˆ



## è·¯ç”±çš„åŸºæœ¬ä½¿ç”¨

### 1.ç›®æ ‡

è®¤è¯†æ’ä»¶ VueRouterï¼ŒæŒæ¡ VueRouter çš„åŸºæœ¬ä½¿ç”¨æ­¥éª¤

### 2.ä½œç”¨

**ä¿®æ”¹**åœ°å€æ è·¯å¾„æ—¶ï¼Œ**åˆ‡æ¢æ˜¾ç¤º**åŒ¹é…çš„**ç»„ä»¶**

### 3.è¯´æ˜

Vue å®˜æ–¹çš„ä¸€ä¸ªè·¯ç”±æ’ä»¶ï¼Œæ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹åŒ…

### 4.å®˜ç½‘

<https://v3.router.vuejs.org/zh/>

### 5.VueRouterçš„ä½¿ç”¨ï¼ˆ5+2ï¼‰

å›ºå®š5ä¸ªå›ºå®šçš„æ­¥éª¤ï¼ˆä¸ç”¨æ­»èƒŒï¼Œç†Ÿèƒ½ç”Ÿå·§ï¼‰

1. ä¸‹è½½ VueRouter æ¨¡å—åˆ°å½“å‰å·¥ç¨‹ï¼Œvue2å¯¹åº”ç‰ˆæœ¬3.xï¼Œvue3å¯¹åº”ç‰ˆæœ¬4

   ```bash
   yarn add vue-router@3.6.5
   ```

   ```
   npm install vue-router@3.6.5 --save-dev
   ```

   

2. main.jsä¸­å¼•å…¥VueRouter

   ```vue
   import VueRouter from 'vue-router'
   ```

3. å®‰è£…æ³¨å†Œ

   ```vue
   Vue.use(VueRouter)
   ```

4. åˆ›å»ºè·¯ç”±å¯¹è±¡

   ```vue
   const router = new VueRouter()
   ```

5. æ³¨å…¥ï¼Œå°†è·¯ç”±å¯¹è±¡æ³¨å…¥åˆ°new Vueå®ä¾‹ä¸­ï¼Œå»ºç«‹å…³è”

   ```vue
   new Vue({
   Â  render: h => h(App),
   Â  router:router
   }).$mount('#app')
   
   ```


å½“æˆ‘ä»¬é…ç½®å®Œä»¥ä¸Š5æ­¥ä¹‹å å°±å¯ä»¥çœ‹åˆ°æµè§ˆå™¨åœ°å€æ ä¸­çš„è·¯ç”± å˜æˆäº† /#/çš„å½¢å¼ã€‚è¡¨ç¤ºé¡¹ç›®çš„è·¯ç”±å·²ç»è¢«Vue-Routerç®¡ç†äº†

![68247920745](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682479207453.png)

### 6.ä»£ç ç¤ºä¾‹

main.js

```js
// è·¯ç”±çš„ä½¿ç”¨æ­¥éª¤ 5 + 2
// 5ä¸ªåŸºç¡€æ­¥éª¤
// 1. ä¸‹è½½ v3.6.5
// yarn add vue-router@3.6.5
// 2. å¼•å…¥
// 3. å®‰è£…æ³¨å†Œ Vue.use(Vueæ’ä»¶)
// 4. åˆ›å»ºè·¯ç”±å¯¹è±¡
// 5. æ³¨å…¥åˆ°new Vueä¸­ï¼Œå»ºç«‹å…³è”

import VueRouter from 'vue-router'
Vue.use(VueRouter) // VueRouteræ’ä»¶åˆå§‹åŒ–

const router = new VueRouter()

new Vue({
  render: h => h(App),
  //å®Œæ•´å†™æ³•
  // router: router
  //å½“å¯¹è±¡é”®å’Œå€¼ç›¸åŒæ—¶å¯ä»¥ç®€å†™
  router
}).$mount('#app')
```



### 7.ä¸¤ä¸ªæ ¸å¿ƒæ­¥éª¤

1. åˆ›å»ºéœ€è¦çš„ç»„ä»¶ (viewsç›®å½•)ï¼Œé…ç½®è·¯ç”±è§„åˆ™ï¼ˆç»„ä»¶æ˜¯viewsç›®å½•é‡Œé¢çš„æ–‡ä»¶åï¼‰

   ![68247963966](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682479639666.png)

   

2.  é…ç½®å¯¼èˆªï¼Œé…ç½®è·¯ç”±å‡ºå£(è·¯å¾„åŒ¹é…çš„ç»„ä»¶æ˜¾ç¤ºçš„ä½ç½®)

    App.vue

    ```vue
    <div class="footer_wrap">
      //é…ç½®å¯¼èˆª
    Â  <a href="#/find">å‘ç°éŸ³ä¹</a>
    Â  <a href="#/my">æˆ‘çš„éŸ³ä¹</a>
    Â  <a href="#/friend">æœ‹å‹</a>
    </div>
    <div class="top">
      //é…ç½®è·¯ç”±å‡ºå£ï¼Œdivä½ç½®å¯è°ƒ
    Â  <router-view></router-view>
    </div>
    </div>
    ```

### 8.æ€»ç»“

1. å¦‚ä½•å®ç° è·¯å¾„æ”¹å˜ï¼Œå¯¹åº”ç»„ä»¶ åˆ‡æ¢,åº”è¯¥ä½¿ç”¨å“ªä¸ªæ’ä»¶?



## ç»„ä»¶çš„å­˜æ”¾ç›®å½•é—®é¢˜

æ³¨æ„ï¼š **.vueæ–‡ä»¶** æœ¬è´¨æ— åŒºåˆ«

### 1.ç»„ä»¶åˆ†ç±»

 .vueæ–‡ä»¶åˆ†ä¸º2ç±»ï¼Œéƒ½æ˜¯ **.vueæ–‡ä»¶ï¼ˆæœ¬è´¨æ— åŒºåˆ«ï¼‰**

- é¡µé¢ç»„ä»¶ ï¼ˆé…ç½®è·¯ç”±è§„åˆ™æ—¶ä½¿ç”¨çš„ç»„ä»¶ï¼‰
- å¤ç”¨ç»„ä»¶ï¼ˆå¤šä¸ªç»„ä»¶ä¸­éƒ½ä½¿ç”¨åˆ°çš„ç»„ä»¶ï¼‰

![68244539795](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682445397959.png)



### 2.å­˜æ”¾ç›®å½•

åˆ†ç±»å¼€æ¥çš„ç›®çš„å°±æ˜¯ä¸ºäº† **æ›´æ˜“ç»´æŠ¤**

1. src/viewsæ–‡ä»¶å¤¹

   é¡µé¢ç»„ä»¶ - é¡µé¢å±•ç¤º - é…åˆè·¯ç”±ç”¨

2. src/componentsæ–‡ä»¶å¤¹

   å¤ç”¨ç»„ä»¶ - å±•ç¤ºæ•°æ® - å¸¸ç”¨äºå¤ç”¨



## è·¯ç”±çš„å°è£…æŠ½ç¦»

é—®é¢˜ï¼šæ‰€æœ‰çš„è·¯ç”±é…ç½®éƒ½åœ¨main.jsä¸­åˆé€‚å—ï¼Ÿ

ç›®æ ‡ï¼šå°†è·¯ç”±æ¨¡å—æŠ½ç¦»å‡ºæ¥ã€‚  å¥½å¤„ï¼š**æ‹†åˆ†æ¨¡å—ï¼Œåˆ©äºç»´æŠ¤**

![68248141030](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682481410304.png)

è·¯å¾„ç®€å†™ï¼š

**è„šæ‰‹æ¶ç¯å¢ƒä¸‹** @æŒ‡ä»£srcç›®å½•ï¼Œå¯ä»¥ç”¨äºå¿«é€Ÿå¼•å…¥ç»„ä»¶



## å£°æ˜å¼å¯¼èˆª-å¯¼èˆªé“¾æ¥

### 1.éœ€æ±‚

å®ç°å¯¼èˆªé«˜äº®æ•ˆæœ

![68249204474](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682492044744.png)

å¦‚æœä½¿ç”¨aæ ‡ç­¾è¿›è¡Œè·³è½¬çš„è¯ï¼Œéœ€è¦ç»™å½“å‰è·³è½¬çš„å¯¼èˆªåŠ æ ·å¼ï¼ŒåŒæ—¶è¦ç§»é™¤ä¸Šä¸€ä¸ªaæ ‡ç­¾çš„æ ·å¼ï¼Œå¤ªéº»çƒ¦ï¼ï¼ï¼

### 2.è§£å†³æ–¹æ¡ˆ

vue-router æä¾›äº†ä¸€ä¸ªå…¨å±€ç»„ä»¶ router-link (å–ä»£ a æ ‡ç­¾)

- **èƒ½è·³è½¬**ï¼Œé…ç½® to å±æ€§æŒ‡å®šè·¯å¾„(**å¿…é¡»**) ã€‚æœ¬è´¨è¿˜æ˜¯ a æ ‡ç­¾ ï¼Œ**to æ— éœ€ #**
- **èƒ½é«˜äº®**ï¼Œé»˜è®¤å°±ä¼šæä¾›**é«˜äº®ç±»å**ï¼Œå¯ä»¥ç›´æ¥è®¾ç½®é«˜äº®æ ·å¼

è¯­æ³•ï¼š `<router-link to="pathçš„å€¼">å‘ç°éŸ³ä¹</router-link>`

```vue
  <div>
    <div class="footer_wrap">
      <router-link to="/find">å‘ç°éŸ³ä¹</router-link>
      <router-link to="/my">æˆ‘çš„éŸ³ä¹</router-link>
      <router-link to="/friend">æœ‹å‹</router-link>
    </div>
    <div class="top">
      <!-- è·¯ç”±å‡ºå£ â†’ åŒ¹é…çš„ç»„ä»¶æ‰€å±•ç¤ºçš„ä½ç½® -->
      <router-view></router-view>
    </div>
  </div>
```

### 3.é€šè¿‡router-linkè‡ªå¸¦çš„ä¸¤ä¸ªæ ·å¼è¿›è¡Œé«˜äº®

ä½¿ç”¨router-linkè·³è½¬åï¼Œæˆ‘ä»¬å‘ç°ã€‚å½“å‰ç‚¹å‡»çš„é“¾æ¥é»˜è®¤åŠ äº†ä¸¤ä¸ªclassçš„å€¼ `router-link-exact-active`å’Œ`router-link-active`

æˆ‘ä»¬å¯ä»¥ç»™ä»»æ„ä¸€ä¸ªclasså±æ€§æ·»åŠ é«˜äº®æ ·å¼å³å¯å®ç°åŠŸèƒ½



### 4.æ€»ç»“

- router-linkæ˜¯ä»€ä¹ˆï¼Ÿ

  â€‹	vue-routeræä¾›çš„å…¨å±€ç»„ä»¶ï¼Œç”¨äºæ›¿æ¢aæ ‡ç­¾

- router-linkæ€ä¹ˆç”¨ï¼Ÿ

  â€‹	`<router-link to="/è·¯å¾„å€¼"></router>`

  â€‹	å¿…é¡»ä¼ å…¥toå±æ€§ï¼ŒæŒ‡å®šè·¯ç”±è·¯å¾„å€¼

- router-linkçš„å¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿ

  â€‹	èƒ½è·³è½¬ï¼Œèƒ½é«˜äº®ï¼ˆè‡ªå¸¦æ¿€æ´»æ—¶çš„ç±»åï¼‰



## å£°æ˜å¼å¯¼èˆª-ä¸¤ä¸ªç±»å

å½“æˆ‘ä»¬ä½¿ç”¨`<router-link></router-link>`è·³è½¬æ—¶ï¼Œè‡ªåŠ¨ç»™å½“å‰å¯¼èˆªåŠ äº†**ä¸¤ä¸ªç±»å**

![68249312105](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682493121052.png)



### 1.router-link-active

**æ¨¡ç³ŠåŒ¹é…ï¼ˆç”¨çš„å¤šï¼‰**

to="/my"  å¯ä»¥åŒ¹é… /my    /my/a    /my/b    ....  

åªè¦æ˜¯ä»¥/myå¼€å¤´çš„è·¯å¾„ éƒ½å¯ä»¥å’Œ to="/my"åŒ¹é…åˆ°



### 2.router-link-exact-active

**ç²¾ç¡®åŒ¹é…**

to="/my" ä»…å¯ä»¥åŒ¹é…  /my



### 3.åœ¨åœ°å€æ ä¸­è¾“å…¥äºŒçº§è·¯ç”±æŸ¥çœ‹ç±»åçš„æ·»åŠ 





## å£°æ˜å¼å¯¼èˆª-è‡ªå®šä¹‰ç±»åï¼ˆäº†è§£ï¼‰

### 1.é—®é¢˜

router-linkçš„**ä¸¤ä¸ªé«˜äº®ç±»å å¤ªé•¿äº†**ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å®šåˆ¶æ€ä¹ˆåŠ

![68249361091](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682493610911.png)

### 2.è§£å†³æ–¹æ¡ˆ

æˆ‘ä»¬å¯ä»¥åœ¨åˆ›å»ºè·¯ç”±å¯¹è±¡æ—¶ï¼Œé¢å¤–é…ç½®ä¸¤ä¸ªé…ç½®é¡¹å³å¯ã€‚ `linkActiveClass`å’Œ`linkExactActiveClass`

```js
const router = new VueRouter({
Â  routes: [...],
  //linkè‡ªå®šä¹‰é«˜äº®ç±»å
Â  linkActiveClass: "ç±»å1", // é…ç½®æ¨¡ç³ŠåŒ¹é…
Â  linkExactActiveClass: "ç±»å2"  // é…ç½®ç²¾ç¡®åŒ¹é…çš„ç±»å
})
```

![68249372945](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682493729456.png)



### 3.ä»£ç æ¼”ç¤º

```js
// åˆ›å»ºäº†ä¸€ä¸ªè·¯ç”±å¯¹è±¡
const router = new VueRouter({
  routes: [
    ...
  ], 
  linkActiveClass: 'active', // é…ç½®æ¨¡ç³ŠåŒ¹é…çš„ç±»å
  linkExactActiveClass: 'exact-active' // é…ç½®ç²¾ç¡®åŒ¹é…çš„ç±»å
})
```



### 4.æ€»ç»“

å¦‚ä½•è‡ªå®šä¹‰router-linkçš„ä¸¤ä¸ª**é«˜äº®ç±»å**



## å£°æ˜å¼å¯¼èˆª-æŸ¥è¯¢å‚æ•°ä¼ å‚

### 1.ç›®æ ‡

åœ¨è·³è½¬è·¯ç”±æ—¶ï¼Œè¿›è¡Œä¼ å‚

![68249442392](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682494423923.png)

æ¯”å¦‚ï¼šç°åœ¨æˆ‘ä»¬åœ¨æœç´¢é¡µç‚¹å‡»äº†çƒ­é—¨æœç´¢é“¾æ¥ï¼Œè·³è½¬åˆ°è¯¦æƒ…é¡µï¼Œ**éœ€è¦æŠŠç‚¹å‡»çš„å†…å®¹å¸¦åˆ°è¯¦æƒ…é¡µ**ï¼Œæ”¹æ€ä¹ˆåŠå‘¢ï¼Ÿ

### 2.è·³è½¬ä¼ å‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼ï¼Œåœ¨è·³è½¬çš„æ—¶å€™æŠŠæ‰€éœ€è¦çš„å‚æ•°ä¼ åˆ°å…¶ä»–é¡µé¢ä¸­

- æŸ¥è¯¢å‚æ•°ä¼ å‚
- åŠ¨æ€è·¯ç”±ä¼ å‚



### 3.æŸ¥è¯¢å‚æ•°ä¼ å‚

- å¦‚ä½•ä¼ å‚ï¼Ÿ

  `<router-link to="/path?å‚æ•°å=å€¼"></router-link>`

- å¦‚ä½•æ¥å—å‚æ•°

  å›ºå®šç”¨æ³•ï¼š$route.query.å‚æ•°å

  æ–¹æ³•å†…(jsæ–‡ä»¶)æ¥æ”¶å‚æ•°ï¼š this.$route.query.å‚æ•°å



### 4.ä»£ç æ¼”ç¤º

App.vue

```vue
<template>
  <div id="app">
    <div class="link">
      <router-link to="/home">é¦–é¡µ</router-link>
      <router-link to="/search">æœç´¢é¡µ</router-link>
    </div>

    <router-view></router-view>
  </div>
</template>

<script>
export default {};
</script>

<style scoped>
.link {
  height: 50px;
  line-height: 50px;
  background-color: #495150;
  display: flex;
  margin: -8px -8px 0 -8px;
  margin-bottom: 50px;
}
.link a {
  display: block;
  text-decoration: none;
  background-color: #ad2a26;
  width: 100px;
  text-align: center;
  margin-right: 5px;
  color: #fff;
  border-radius: 5px;
}
</style>
```

Home.vue

```vue
<template>
  <div class="home">
    <div class="logo-box"></div>
    <div class="search-box">
      <input type="text">
      <button>æœç´¢ä¸€ä¸‹</button>
    </div>
    <div class="hot-link">
      çƒ­é—¨æœç´¢ï¼š
      <router-link to="/search?key=é»‘é©¬ç¨‹åºå‘˜">é»‘é©¬ç¨‹åºå‘˜</router-link>
      <router-link to="/search?key=å‰ç«¯åŸ¹è®­">å‰ç«¯åŸ¹è®­</router-link>
      <router-link to="/search?key=å¦‚ä½•æˆä¸ºå‰ç«¯å¤§ç‰›">å¦‚ä½•æˆä¸ºå‰ç«¯å¤§ç‰›</router-link>
    </div>
  </div>
</template>

<script>
export default {
  name: 'FindMusic'
}
</script>

<style>
.logo-box {
  height: 150px;
  background: url('@/assets/logo.jpeg') no-repeat center;
}
.search-box {
  display: flex;
  justify-content: center;
}
.search-box input {
  width: 400px;
  height: 30px;
  line-height: 30px;
  border: 2px solid #c4c7ce;
  border-radius: 4px 0 0 4px;
  outline: none;
}
.search-box input:focus {
  border: 2px solid #ad2a26;
}
.search-box button {
  width: 100px;
  height: 36px;
  border: none;
  background-color: #ad2a26;
  color: #fff;
  position: relative;
  left: -2px;
  border-radius: 0 4px 4px 0;
}
.hot-link {
  width: 508px;
  height: 60px;
  line-height: 60px;
  margin: 0 auto;
}
.hot-link a {
  margin: 0 5px;
}
</style>
```

Search.vue

```vue
<template>
  <div class="search">
    <p>æœç´¢å…³é”®å­—: {{ $route.query.key }}</p>
    <p>æœç´¢ç»“æœ: </p>
    <ul>
      <li>.............</li>
      <li>.............</li>
      <li>.............</li>
      <li>.............</li>
    </ul>
  </div>
</template>

<script>
export default {
  name: 'MyFriend',
  created (){
    //åœ¨createä¸­ï¼Œè·å–è·¯ç”±å‚æ•°
    //this.$route.query.å‚æ•°å è·å–
    console.log(this.$route.query);
  }
}
</script>

<style>
.search {
  width: 400px;
  height: 240px;
  padding: 0 20px;
  margin: 0 auto;
  border: 2px solid #c4c7ce;
  border-radius: 5px;
}
</style>
```

router/index.js

```js
import Home from '@/views/Home'
import Search from '@/views/Search'
import Vue from 'vue'
import VueRouter from 'vue-router'
Vue.use(VueRouter) // VueRouteræ’ä»¶åˆå§‹åŒ–

// åˆ›å»ºäº†ä¸€ä¸ªè·¯ç”±å¯¹è±¡
const router = new VueRouter({
  routes: [
    { path: '/home', component: Home },
    { path: '/search', component: Search }
  ]
})

export default router
```

main.js

```
import Vue from 'vue'
import App from './App.vue'
import router from './router/index'

Vue.config.productionTip = false

new Vue({
  render: h => h(App),
  router
}).$mount('#app')
```



## å£°æ˜å¼å¯¼èˆª-åŠ¨æ€è·¯ç”±ä¼ å‚

### 1.åŠ¨æ€è·¯ç”±ä¼ å‚æ–¹å¼

- é…ç½®åŠ¨æ€è·¯ç”±

  > åŠ¨æ€è·¯ç”±åé¢çš„å‚æ•°å¯ä»¥éšä¾¿èµ·åï¼Œä½†è¦æœ‰è¯­ä¹‰

  ```js
  const router = new VueRouter({
  Â  routes: [
      ...,
  Â  Â  { 
        // :wordsä»£è¡¨è¦ä¼ å…¥çš„å€¼,æ¥å—çš„æ—¶å€™å‚æ•°åå°±æ˜¯words
        path: '/search/:words', 
        component: Search 
      }
  Â  ]
  })
  ```

- é…ç½®å¯¼èˆªé“¾æ¥

  to="/path/å‚æ•°å€¼"

- å¯¹åº”é¡µé¢ç»„ä»¶**æ¥å—å‚æ•°**

  æ¥æ”¶å‚æ•°ï¼š $route.**params**.å‚æ•°å

  æ–¹æ³•å†…(jsæ–‡ä»¶)æ¥æ”¶å‚æ•°ï¼š this.$route.**params**.å‚æ•°å

  > paramsåé¢çš„å‚æ•°åè¦å’ŒåŠ¨æ€è·¯ç”±é…ç½®çš„å‚æ•°ä¿æŒä¸€è‡´



### 2.æŸ¥è¯¢å‚æ•°ä¼ å‚ VS åŠ¨æ€è·¯ç”±ä¼ å‚

1.  æŸ¥è¯¢å‚æ•°ä¼ å‚  (æ¯”è¾ƒé€‚åˆä¼ **å¤šä¸ªå‚æ•°**) 

    1. è·³è½¬ï¼što="/path?å‚æ•°å=å€¼&å‚æ•°å2=å€¼"
    2. è·å–ï¼š$route.query.å‚æ•°å

2. åŠ¨æ€è·¯ç”±ä¼ å‚ (**ä¼˜é›…ç®€æ´**ï¼Œä¼ å•ä¸ªå‚æ•°æ¯”è¾ƒæ–¹ä¾¿)

   1. é…ç½®åŠ¨æ€è·¯ç”±ï¼špath: "/path/:å‚æ•°å" 
   2. è·³è½¬ï¼što="/path/å‚æ•°å€¼"
   3. è·å–ï¼š$route.params.å‚æ•°å 

   æ³¨æ„ï¼šåŠ¨æ€è·¯ç”±ä¹Ÿå¯ä»¥ä¼ å¤šä¸ªå‚æ•°ï¼Œä½†ä¸€èˆ¬åªä¼ ä¸€ä¸ª

### 3.æ€»ç»“

å£°æ˜å¼å¯¼èˆªè·³è½¬æ—¶, æœ‰å‡ ç§æ–¹å¼ä¼ å€¼ç»™è·¯ç”±é¡µé¢ï¼Ÿ

- æŸ¥è¯¢å‚æ•°ä¼ å‚ï¼ˆå¤šä¸ªå‚æ•°ï¼‰
- åŠ¨æ€è·¯ç”±ä¼ å‚ï¼ˆä¸€ä¸ªå‚æ•°ï¼Œä¼˜é›…ç®€æ´ï¼‰

 

## åŠ¨æ€è·¯ç”±å‚æ•°çš„å¯é€‰ç¬¦(äº†è§£)

### 1.é—®é¢˜

é…äº†è·¯ç”± path:"/search/:words"  ä¸ºä»€ä¹ˆæŒ‰ä¸‹é¢æ­¥éª¤æ“ä½œï¼Œä¼šæœªåŒ¹é…åˆ°ç»„ä»¶ï¼Œæ˜¾ç¤ºç©ºç™½ï¼Ÿ

![68249723830](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682497238305.png)

### 2.åŸå› 

/search/:words  è¡¨ç¤ºï¼Œ**å¿…é¡»è¦ä¼ å‚æ•°**ã€‚å¦‚æœä¸ä¼ å‚æ•°ï¼Œä¹Ÿå¸Œæœ›åŒ¹é…ï¼Œå¯ä»¥åŠ ä¸ªå¯é€‰ç¬¦"ï¼Ÿ"

```js
const router = new VueRouter({
Â  routes: [
 	...
Â  Â  { path: '/search/:words?', component: Search }
Â  ]
})
```



## Vueè·¯ç”±-é‡å®šå‘

### 1.é—®é¢˜

ç½‘é¡µæ‰“å¼€æ—¶ï¼Œ url é»˜è®¤æ˜¯ / è·¯å¾„ï¼ŒæœªåŒ¹é…åˆ°ç»„ä»¶æ—¶ï¼Œä¼šå‡ºç°ç©ºç™½

![68249787282](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682497872821.png)

### 2.è§£å†³æ–¹æ¡ˆ

**é‡å®šå‘** â†’ åŒ¹é… / å, å¼ºåˆ¶è·³è½¬ /home è·¯å¾„



### 3.è¯­æ³•

```js
{ path: åŒ¹é…è·¯å¾„, redirect: é‡å®šå‘åˆ°çš„è·¯å¾„ },
æ¯”å¦‚ï¼š
{ path:'/' ,redirect:'/home' }
```



### 4.ä»£ç æ¼”ç¤º

```
const router = new VueRouter({
Â  routes: [
Â  Â  { path: '/', redirect: '/home'},
Â 	 ...
Â  ]
})
```



## Vueè·¯ç”±-404

### 1.ä½œç”¨

å½“è·¯å¾„æ‰¾ä¸åˆ°åŒ¹é…æ—¶ï¼Œç»™ä¸ªæç¤ºé¡µé¢

### 2.ä½ç½®

404çš„è·¯ç”±ï¼Œè™½ç„¶é…ç½®åœ¨ä»»ä½•ä¸€ä¸ªä½ç½®éƒ½å¯ä»¥ï¼Œä½†ä¸€èˆ¬éƒ½**é…ç½®åœ¨å…¶ä»–è·¯ç”±è§„åˆ™çš„æœ€åé¢**

### 3.è¯­æ³•

path: "*"   (ä»»æ„è·¯å¾„) â€“ å‰é¢ä¸åŒ¹é…å°±å‘½ä¸­æœ€åè¿™ä¸ª

```js
import NotFind from '@/views/NotFind'

const router = new VueRouter({
Â  routes: [
Â  Â  ...
Â  Â  { path: '*', component: NotFind } //æœ€åä¸€ä¸ª
Â  ]
})
```

### 4.ä»£ç ç¤ºä¾‹

NotFound.vue

```vue
<template>
  <div>
    <h1>404 Not Found</h1>
  </div>
</template>

<script>
export default {

}
</script>

<style>

</style>
```

router/index.js

```js
...
import NotFound from '@/views/NotFound'
...

// åˆ›å»ºäº†ä¸€ä¸ªè·¯ç”±å¯¹è±¡
const router = new VueRouter({
  routes: [
     ...
    { path: '*', component: NotFound }
  ]
})

export default router
```



## Vueè·¯ç”±-æ¨¡å¼è®¾ç½®

### 1.é—®é¢˜

è·¯ç”±çš„è·¯å¾„çœ‹èµ·æ¥ä¸è‡ªç„¶, æœ‰#ï¼Œèƒ½å¦åˆ‡æˆçœŸæ­£è·¯å¾„å½¢å¼?

- hashè·¯ç”±(é»˜è®¤)        ä¾‹å¦‚:  http://localhost:8080/#/home
- historyè·¯ç”±(å¸¸ç”¨)     ä¾‹å¦‚: http://localhost:8080/home   (ä»¥åä¸Šçº¿éœ€è¦æœåŠ¡å™¨ç«¯æ”¯æŒï¼Œå¼€å‘ç¯å¢ƒwebpackç»™è§„é¿æ‰äº†historyæ¨¡å¼çš„é—®é¢˜)

### 2.è¯­æ³•

```js
const router = new VueRouter({
    mode:'histroy', //é»˜è®¤æ˜¯hash
    routes:[]
})
```



## ç¼–ç¨‹å¼å¯¼èˆª-ä¸¤ç§è·¯ç”±è·³è½¬æ–¹å¼

### 1.é—®é¢˜

ç‚¹å‡»æŒ‰é’®è·³è½¬å¦‚ä½•å®ç°ï¼Ÿ

![68250048105](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682500481059.png)

### 2.æ–¹æ¡ˆ

ç¼–ç¨‹å¼å¯¼èˆªï¼šç”¨JSä»£ç æ¥è¿›è¡Œè·³è½¬

### 3.è¯­æ³•

ä¸¤ç§è¯­æ³•ï¼š

- path è·¯å¾„è·³è½¬ ï¼ˆç®€æ˜“æ–¹ä¾¿ï¼‰
- name å‘½åè·¯ç”±è·³è½¬ (é€‚åˆ path è·¯å¾„é•¿çš„åœºæ™¯)

### 4.pathè·¯å¾„è·³è½¬è¯­æ³•

ç‰¹ç‚¹ï¼šç®€æ˜“æ–¹ä¾¿

```js
//ç®€å•å†™æ³•
this.$router.push('è·¯ç”±è·¯å¾„')

//å®Œæ•´å†™æ³•
this.$router.push({
Â  path: 'è·¯ç”±è·¯å¾„'
})
```

### 5.ä»£ç æ¼”ç¤º pathè·³è½¬æ–¹å¼



### 6.nameå‘½åè·¯ç”±è·³è½¬

ç‰¹ç‚¹ï¼šé€‚åˆ path è·¯å¾„é•¿çš„åœºæ™¯

è¯­æ³•ï¼š

- è·¯ç”±è§„åˆ™ï¼Œå¿…é¡»é…ç½®nameé…ç½®é¡¹

  ```js
  { name: 'è·¯ç”±å', path: '/path/xxx', component: XXX },
  ```

- é€šè¿‡nameæ¥è¿›è¡Œè·³è½¬

  ```js
  this.$router.push({
  Â  name: 'è·¯ç”±å'
  })
  ```







## ç¼–ç¨‹å¼å¯¼èˆª-pathè·¯å¾„è·³è½¬ä¼ å‚

### 1.é—®é¢˜

ç‚¹å‡»æœç´¢æŒ‰é’®ï¼Œè·³è½¬éœ€è¦æŠŠæ–‡æœ¬æ¡†ä¸­è¾“å…¥çš„å†…å®¹ä¼ åˆ°ä¸‹ä¸€ä¸ªé¡µé¢å¦‚ä½•å®ç°ï¼Ÿ

![68250272058](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682502720585.png)

### 2.ä¸¤ç§ä¼ å‚æ–¹å¼

1.æŸ¥è¯¢å‚æ•° 

2.åŠ¨æ€è·¯ç”±ä¼ å‚



### 3.ä¼ å‚

ä¸¤ç§è·³è½¬æ–¹å¼ï¼Œå¯¹äºä¸¤ç§ä¼ å‚æ–¹å¼éƒ½æ”¯æŒï¼š

â‘  path è·¯å¾„è·³è½¬ä¼ å‚

â‘¡ name å‘½åè·¯ç”±è·³è½¬ä¼ å‚



### 4.pathè·¯å¾„è·³è½¬ä¼ å‚ï¼ˆqueryä¼ å‚ï¼‰

```js
//ç®€å•å†™æ³•
this.$router.push('/è·¯å¾„?å‚æ•°å1=å‚æ•°å€¼1&å‚æ•°2=å‚æ•°å€¼2')
//å®Œæ•´å†™æ³•
this.$router.push({
Â  path: '/è·¯å¾„',
Â  query: {
Â  Â  å‚æ•°å1: 'å‚æ•°å€¼1',
Â  Â  å‚æ•°å2: 'å‚æ•°å€¼2'
Â  }
})
```

æ¥å—å‚æ•°çš„æ–¹å¼ä¾ç„¶æ˜¯ï¼š$route.query.å‚æ•°å

### 5.pathè·¯å¾„è·³è½¬ä¼ å‚ï¼ˆåŠ¨æ€è·¯ç”±ä¼ å‚ï¼‰

```js
//ç®€å•å†™æ³•
this.$router.push('/è·¯å¾„/å‚æ•°å€¼')
//å®Œæ•´å†™æ³•
this.$router.push({
Â  path: '/è·¯å¾„/å‚æ•°å€¼'
})
```

æ¥å—å‚æ•°çš„æ–¹å¼ä¾ç„¶æ˜¯ï¼š$route.params.å‚æ•°å€¼

**æ³¨æ„ï¼š**pathä¸èƒ½é…åˆparamsä½¿ç”¨



## ç¼–ç¨‹å¼å¯¼èˆª-nameå‘½åè·¯ç”±ä¼ å‚

### 1.name å‘½åè·¯ç”±è·³è½¬ä¼ å‚ (queryä¼ å‚)

```js
this.$router.push({
Â  name: 'è·¯ç”±åå­—',
Â  query: {
Â  Â  å‚æ•°å1: 'å‚æ•°å€¼1',
Â  Â  å‚æ•°å2: 'å‚æ•°å€¼2'
Â  }
})
```

### 2.name å‘½åè·¯ç”±è·³è½¬ä¼ å‚ (åŠ¨æ€è·¯ç”±ä¼ å‚)

```js
this.$router.push({
Â  name: 'è·¯ç”±åå­—',
Â  params: {
Â  Â  å‚æ•°å: 'å‚æ•°å€¼',
Â  }
})
```

### 3.æ€»ç»“

ç¼–ç¨‹å¼å¯¼èˆªï¼Œå¦‚ä½•è·³è½¬ä¼ å‚ï¼Ÿ

1.pathè·¯å¾„è·³è½¬

- queryä¼ å‚

  ```js
  this.$router.push('/è·¯å¾„?å‚æ•°å1=å‚æ•°å€¼1&å‚æ•°2=å‚æ•°å€¼2')
  //å¦‚æœå‚æ•°å€¼è¿‡å¤šï¼Œå†™æˆä¸‹é¢çš„å®Œæ•´è¯­æ³•
  this.$router.push({
  Â  path: '/è·¯å¾„',
  Â  query: {
  Â  Â  å‚æ•°å1: 'å‚æ•°å€¼1',
  Â  Â  å‚æ•°å2: 'å‚æ•°å€¼2'
  Â  }
  })
  ```

- åŠ¨æ€è·¯ç”±ä¼ å‚

  ```js
  this.$router.push('/è·¯å¾„/å‚æ•°å€¼')
  this.$router.push({
  Â  path: '/è·¯å¾„/å‚æ•°å€¼'
  })
  ```

2.nameå‘½åè·¯ç”±è·³è½¬

- queryä¼ å‚

  ```js
  this.$router.push({
  Â  name: 'è·¯ç”±åå­—',
  Â  query: {
  Â  Â  å‚æ•°å1: 'å‚æ•°å€¼1',
  Â  Â  å‚æ•°å2: 'å‚æ•°å€¼2'
  Â  }
  })
  ```

- åŠ¨æ€è·¯ç”±ä¼ å‚ (éœ€è¦é…åŠ¨æ€è·¯ç”±)

  ```js
  this.$router.push({
  Â  name: 'è·¯ç”±åå­—',
  Â  params: {
  Â  Â  å‚æ•°å: 'å‚æ•°å€¼',
  Â  }
  })
  ```

  

## é¢ç»åŸºç¡€ç‰ˆ-æ¡ˆä¾‹æ•ˆæœåˆ†æ

### 1.é¢ç»æ•ˆæœæ¼”ç¤º

### 2.åŠŸèƒ½åˆ†æ

- é€šè¿‡æ¼”ç¤ºæ•ˆæœå‘ç°ï¼Œä¸»è¦çš„åŠŸèƒ½é¡µé¢æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯**åˆ—è¡¨é¡µ**ï¼Œä¸€ä¸ªæ˜¯**è¯¦æƒ…é¡µ**ï¼Œå¹¶ä¸”åœ¨åˆ—è¡¨é¡µç‚¹å‡»æ—¶å¯ä»¥è·³è½¬åˆ°è¯¦æƒ…é¡µ
- åº•éƒ¨å¯¼èˆªå¯ä»¥æ¥å›åˆ‡æ¢ï¼Œå¹¶ä¸”åˆ‡æ¢æ—¶ï¼Œåªæœ‰ä¸Šé¢çš„ä¸»é¢˜å†…å®¹åœ¨åŠ¨æ€æ¸²æŸ“

![68255978464](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682559784643.png)

### 3.å®ç°æ€è·¯åˆ†æï¼šé…ç½®è·¯ç”±+åŠŸèƒ½å®ç°

1.é…ç½®è·¯ç”±

- é¦–é¡µå’Œé¢ç»è¯¦æƒ…é¡µï¼Œä¸¤ä¸ªä¸€çº§è·¯ç”±
- é¦–é¡µå†…åµŒå¥—4ä¸ªå¯åˆ‡æ¢çš„é¡µé¢ï¼ˆåµŒå¥—äºŒçº§è·¯ç”±ï¼‰

2.å®ç°åŠŸèƒ½

- é¦–é¡µè¯·æ±‚æ¸²æŸ“
- **è·³è½¬ä¼ å‚** åˆ° è¯¦æƒ…é¡µï¼Œè¯¦æƒ…é¡µåŠ¨æ€æ¸²æŸ“
- ç»„ä»¶ç¼“å­˜ï¼Œæ€§èƒ½ä¼˜åŒ–

![68256025535](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682560255356.png)

## é¢ç»åŸºç¡€ç‰ˆ-ä¸€çº§è·¯ç”±é…ç½®

1.æŠŠæ–‡æ¡£ä¸­å‡†å¤‡çš„ç´ ææ‹·è´åˆ°é¡¹ç›®ä¸­

2.é’ˆå¯¹router/index.jsæ–‡ä»¶ è¿›è¡Œä¸€çº§è·¯ç”±é…ç½®

```js
...
import Layout from '@/views/Layout.vue'
import ArticleDetail from '@/views/ArticleDetail.vue'
...


const router = new VueRouter({
  routes: [
    {
      path: '/',
      component: Layout
    },
    {
      path: '/detail',
      component: ArticleDetail
    }
  ]
})
```



## é¢ç»åŸºç¡€ç‰ˆ-äºŒçº§è·¯ç”±é…ç½®

äºŒçº§è·¯ç”±ä¹Ÿå«åµŒå¥—è·¯ç”±ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åµŒå¥—ä¸‰çº§ã€å››çº§...

### 1.ä½¿ç”¨åœºæ™¯

å½“åœ¨é¡µé¢ä¸­ç‚¹å‡»é“¾æ¥è·³è½¬ï¼Œåªæ˜¯éƒ¨åˆ†å†…å®¹åˆ‡æ¢æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åµŒå¥—è·¯ç”±

### 2.è¯­æ³•

- åœ¨ä¸€çº§è·¯ç”±ä¸‹ï¼Œé…ç½®childrenå±æ€§å³å¯
- é…ç½®äºŒçº§è·¯ç”±çš„å‡ºå£



 1.åœ¨ä¸€çº§è·¯ç”±ä¸‹ï¼Œé…ç½®childrenå±æ€§

 **æ³¨æ„**:ä¸€çº§çš„è·¯ç”±path éœ€è¦åŠ  `/`   äºŒçº§è·¯ç”±çš„pathä¸éœ€è¦åŠ  `/`

```js
const router = new VueRouter({
  routes: [
    {
      path: '/',
      component: Layout,
      children:[
        //childrenä¸­çš„é…ç½®é¡¹ è·Ÿä¸€çº§è·¯ç”±ä¸­çš„é…ç½®é¡¹ä¸€æ¨¡ä¸€æ · 
        {path:'xxxx',component:xxxx.vue},
        {path:'xxxx',component:xxxx.vue},
      ]
    }
  ]
})
```

æŠ€å·§ï¼šäºŒçº§è·¯ç”±åº”è¯¥é…ç½®åˆ°å“ªä¸ªä¸€çº§è·¯ç”±ä¸‹å‘¢ï¼Ÿ

**è¿™äº›äºŒçº§è·¯ç”±å¯¹åº”çš„ç»„ä»¶æ¸²æŸ“åˆ°å“ªä¸ªä¸€çº§è·¯ç”±ä¸‹ï¼Œchildrenå°±é…ç½®åˆ°å“ªä¸ªè·¯ç”±ä¸‹è¾¹**



2.é…ç½®äºŒçº§è·¯ç”±çš„å‡ºå£ `<router-view></router-view>`

**æ³¨æ„ï¼š** é…ç½®äº†åµŒå¥—è·¯ç”±ï¼Œä¸€å®šé…ç½®å¯¹åº”çš„è·¯ç”±å‡ºå£ï¼Œå¦åˆ™ä¸ä¼šæ¸²æŸ“å‡ºå¯¹åº”çš„ç»„ä»¶

Layout.vue

```vue
<template>
  <div class="h5-wrapper">
    <div class="content">
      // é…ç½®å¯¹åº”çš„è·¯ç”±å‡ºå£
      <router-view></router-view>
    </div>
  ....
  </div>
</template>
```

### 3.ä»£ç å®ç°

router/index.js

```js
...
import Article from '@/views/Article.vue'
import Collect from '@/views/Collect.vue'
import Like from '@/views/Like.vue'
import User from '@/views/User.vue'
...

const router = new VueRouter({
  routes: [
    {
      path: '/',
      component: Layout,
      redirect: '/article',
      children:[
        {
          path:'/article',
          component:Article
        },
        {
          path:'/collect',
          component:Collect
        },
        {
          path:'/like',
          component:Like
        },
        {
          path:'/user',
          component:User
        }
      ]
    },
    ....
  ]
})

```

Layout.vue

```vue
<template>
  <div class="h5-wrapper">
    <div class="content">
      <!-- å†…å®¹éƒ¨åˆ† -->
      <router-view></router-view>
    </div>
    <nav class="tabbar">
      <a href="#/article">é¢ç»</a>
      <a href="#/collect">æ”¶è—</a>
      <a href="#/like">å–œæ¬¢</a>
      <a href="#/user">æˆ‘çš„</a>
    </nav>
  </div>
</template>
```



## é¢ç»åŸºç¡€ç‰ˆ-äºŒçº§å¯¼èˆªé«˜äº®

### 1.å®ç°æ€è·¯

- å°†aæ ‡ç­¾æ›¿æ¢æˆ `<router-link></router-link>`ç»„ä»¶ï¼Œé…ç½®toå±æ€§ï¼Œä¸ç”¨åŠ  #
- ç»“åˆé«˜äº®ç±»åå®ç°é«˜äº®æ•ˆæœ (æ¨èæ¨¡ç³ŠåŒ¹é…ï¼šrouter-link-active)

### 2.ä»£ç å®ç°

Layout.vue

```vue
....
    <nav class="tabbar">
      <router-link to="/article">é¢ç»</router-link>
      <router-link to="/collect">æ”¶è—</router-link>
      <router-link to="/like">å–œæ¬¢</router-link>
      <router-link to="/user">æˆ‘çš„</router-link>
    </nav>

<style>
   a.router-link-active {
      color: orange;
    }
</style>
```



## é¢ç»åŸºç¡€ç‰ˆ-é¦–é¡µè¯·æ±‚æ¸²æŸ“

### 1.æ­¥éª¤åˆ†æ

1.å®‰è£…axios 

2.çœ‹æ¥å£æ–‡æ¡£ï¼Œç¡®è®¤è¯·æ±‚æ–¹å¼ï¼Œè¯·æ±‚åœ°å€ï¼Œè¯·æ±‚å‚æ•°

3.createdä¸­å‘é€è¯·æ±‚ï¼Œè·å–æ•°æ®ï¼Œå­˜å‚¨åˆ°dataä¸­

4.é¡µé¢åŠ¨æ€æ¸²æŸ“



### 2.ä»£ç å®ç°

1.å®‰è£…axios

`yarn add axios `  `npm i axios`

2.æ¥å£æ–‡æ¡£

```vue
è¯·æ±‚åœ°å€: https://mock.boxuegu.com/mock/3083/articles
è¯·æ±‚æ–¹å¼: get
```

3.createdä¸­å‘é€è¯·æ±‚ï¼Œè·å–æ•°æ®ï¼Œå­˜å‚¨åˆ°dataä¸­

```vue
 data() {
    return {
      articelList: [],
    }
  },
  async created() {
    const {  data: { result: { rows } }} = await axios.get('https://mock.boxuegu.com/mock/3083/articles')
    this.articelList = rows
  },
```

4.é¡µé¢åŠ¨æ€æ¸²æŸ“

```vue
<template>
  <div class="article-page">
    <div class="article-item" v-for="item in articelList" :key="item.id">
      <div class="head">
        <img :src="item.creatorAvatar" alt="" />
        <div class="con">
          <p class="title">{{ item.stem }}</p>
          <p class="other">{{ item.creatorName }} | {{ item.createdAt }}</p>
        </div>
      </div>
      <div class="body">
        {{item.content}}
      </div>
      <div class="foot">ç‚¹èµ {{item.likeCount}} | æµè§ˆ {{item.views}}</div>
    </div>
  </div>
</template>
```



## é¢ç»åŸºç¡€ç‰ˆ-æŸ¥è¯¢å‚æ•°ä¼ å‚

### 1.è¯´æ˜

è·³è½¬è¯¦æƒ…é¡µéœ€è¦æŠŠå½“å‰ç‚¹å‡»çš„æ–‡ç« idä¼ ç»™è¯¦æƒ…é¡µï¼Œè·å–æ•°æ®

- æŸ¥è¯¢å‚æ•°ä¼ å‚  this.$router.push('/detail?å‚æ•°1=å‚æ•°å€¼&å‚æ•°2=å‚æ•°å€¼') 
- åŠ¨æ€è·¯ç”±ä¼ å‚  å…ˆæ”¹é€ è·¯ç”± åœ¨ä¼ å‚  this.$router.push('/detail/å‚æ•°å€¼')



### 2.æŸ¥è¯¢å‚æ•°ä¼ å‚å®ç°

Article.vue

```vue
<template>
  <div class="article-page">
    <div class="article-item" 
      v-for="item in articelList" :key="item.id" 
      @click="$router.push(`/detail?id=${item.id}`)">
     ...
    </div>
  </div>
</template>
```

ArticleDetail.vue

```vue
  created(){
    console.log(this.$route.query.id)
  }
```



## é¢ç»åŸºç¡€ç‰ˆ-åŠ¨æ€è·¯ç”±ä¼ å‚

### 1.å®ç°æ­¥éª¤

- æ”¹é€ è·¯ç”±
- åŠ¨æ€ä¼ å‚
- åœ¨è¯¦æƒ…é¡µè·å–å‚æ•°

### 2.ä»£ç å®ç°

æ”¹é€ è·¯ç”±

router/index.js

```js
...
  {
      path: '/detail/:id',
      component: ArticleDetail
  }
```

Article.vue

```vue
<div class="article-item" 
     v-for="item in articelList" :key="item.id" 
     @click="$router.push(`/detail/${item.id}`)">
       ....
 </div>
```

ArticleDetail.vue

```vue
  created(){
    console.log(this.$route.params.id)
  }
```



### 3.é¢å¤–ä¼˜åŒ–åŠŸèƒ½ç‚¹-ç‚¹å‡»å›é€€è·³è½¬åˆ°ä¸Šä¸€é¡µ

ArticleDetail.vue

```vue
<template>
  <div class="article-detail-page">
    <nav class="nav"><span class="back" @click="$router.back()">&lt;</span> é¢ç»è¯¦æƒ…</nav>
     ....
  </div>
</template>
```



## é¢ç»åŸºç¡€ç‰ˆ-è¯¦æƒ…é¡µæ¸²æŸ“

### 1.å®ç°æ­¥éª¤åˆ†æ

- å¯¼å…¥axios
- æŸ¥çœ‹æ¥å£æ–‡æ¡£
- åœ¨createdä¸­å‘é€è¯·æ±‚
- é¡µé¢åŠ¨æ€æ¸²æŸ“



### 2.ä»£ç å®ç°

æ¥å£æ–‡æ¡£

```vue
 è¯·æ±‚åœ°å€: https://mock.boxuegu.com/mock/3083/articles/:id
 è¯·æ±‚æ–¹å¼: get
```



åœ¨createdä¸­å‘é€è¯·æ±‚

```vue
 data() {
    return {
      articleDetail:{}
    }
  },
  async created() {
    const id = this.$route.params.id
    const { data } = await axios.get(`https://mock.boxuegu.com/mock/3083/articles/${id}`)
    this.article = data.result
    console.log(this.article);
    )
    this.articleDetail = result
  },
```



é¡µé¢åŠ¨æ€æ¸²æŸ“

```vue
<template>
  <div class="article-detail-page" v-if="article.id">
    <nav class="nav"><span @click="$router.back()" class="back">&lt;</span> é¢ç»è¯¦æƒ…</nav>
    <header class="header">
      <h1>{{ article.stem }}</h1>
      <p>{{ article.createdAt }} | {{ article.views }} æµè§ˆé‡ | {{ article.likeCount }} ç‚¹èµæ•°</p>
      <p>
        <img
          :src="article.creatorAvatar"
          alt=""
        />
        <span>{{ article.creatNa }}</span>
      </p>

    </header>
    <main class="body">
      {{ article.content }}
    </main>
  </div>
</template>

```



## é¢ç»åŸºç¡€ç‰ˆ-ç¼“å­˜ç»„ä»¶

### 1.é—®é¢˜

ä»é¢ç»åˆ—è¡¨ ç‚¹åˆ° è¯¦æƒ…é¡µï¼Œåˆç‚¹è¿”å›ï¼Œæ•°æ®é‡æ–°åŠ è½½äº† â†’  **å¸Œæœ›å›åˆ°åŸæ¥çš„ä½ç½®**

![68257863006](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682578630060.png)

### 2.åŸå› 

å½“è·¯ç”±è¢«**è·³è½¬**åï¼ŒåŸæ¥æ‰€çœ‹åˆ°çš„ç»„ä»¶å°±**è¢«é”€æ¯**äº†ï¼ˆä¼šæ‰§è¡Œç»„ä»¶å†…çš„beforeDestroyå’Œdestroyedç”Ÿå‘½å‘¨æœŸé’©å­ï¼‰ï¼Œ**é‡æ–°è¿”å›**åç»„ä»¶åˆè¢«**é‡æ–°åˆ›å»º**äº†ï¼ˆä¼šæ‰§è¡Œç»„ä»¶å†…çš„beforeCreate,created,beforeMount,Mountedç”Ÿå‘½å‘¨æœŸé’©å­ï¼‰ï¼Œ**æ‰€ä»¥æ•°æ®è¢«åŠ è½½äº†**



### 3.è§£å†³æ–¹æ¡ˆ

åˆ©ç”¨keep-aliveæŠŠåŸæ¥çš„ç»„ä»¶ç»™ç¼“å­˜ä¸‹æ¥



### 4.ä»€ä¹ˆæ˜¯keep-alive

keep-alive æ˜¯ Vue çš„å†…ç½®ç»„ä»¶ï¼Œå½“å®ƒåŒ…è£¹åŠ¨æ€ç»„ä»¶æ—¶ï¼Œ**ä¼šç¼“å­˜ä¸æ´»åŠ¨çš„ç»„ä»¶å®ä¾‹ï¼Œè€Œä¸æ˜¯é”€æ¯**å®ƒä»¬ã€‚

keep-alive æ˜¯ä¸€ä¸ªæŠ½è±¡ç»„ä»¶ï¼šå®ƒè‡ªèº«ä¸ä¼šæ¸²æŸ“æˆä¸€ä¸ª DOM å…ƒç´ ï¼Œä¹Ÿä¸ä¼šå‡ºç°åœ¨çˆ¶ç»„ä»¶ä¸­ã€‚

**ä¼˜ç‚¹ï¼š**

åœ¨ç»„ä»¶åˆ‡æ¢è¿‡ç¨‹ä¸­æŠŠåˆ‡æ¢å‡ºå»çš„ç»„ä»¶ä¿ç•™åœ¨å†…å­˜ä¸­ï¼Œé˜²æ­¢é‡å¤æ¸²æŸ“DOMï¼Œ

å‡å°‘åŠ è½½æ—¶é—´åŠæ€§èƒ½æ¶ˆè€—ï¼Œæé«˜ç”¨æˆ·ä½“éªŒæ€§ã€‚

App.vue

```vue
<template>
  <div class="h5-wrapper">
    <keep-alive>
      <router-view></router-view>
    </keep-alive>
  </div>
</template>
```



**é—®é¢˜ï¼š**

ç¼“å­˜äº†æ‰€æœ‰è¢«åˆ‡æ¢ä¸€çº§è·¯ç”±çš„ç»„ä»¶



### 5.keep-aliveçš„ä¸‰ä¸ªå±æ€§

â‘  include  ï¼š ç»„ä»¶åæ•°ç»„ï¼Œåªæœ‰åŒ¹é…çš„ç»„ä»¶**ä¼šè¢«ç¼“å­˜**

â‘¡ exclude ï¼š ç»„ä»¶åæ•°ç»„ï¼Œä»»ä½•åŒ¹é…çš„ç»„ä»¶éƒ½**ä¸ä¼šè¢«ç¼“å­˜**

â‘¢ max       ï¼š æœ€å¤šå¯ä»¥**ç¼“å­˜å¤šå°‘**ç»„ä»¶å®ä¾‹



App.vue

```vue
<template>
  <div class="h5-wrapper">
    <keep-alive :include="['LayoutPage']">
      <router-view></router-view>
    </keep-alive>
  </div>
</template>
```



### 6.é¢å¤–çš„ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­

**keep-aliveçš„ä½¿ç”¨ä¼šè§¦å‘ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°**

**activated** å½“ç»„ä»¶è¢«æ¿€æ´»ï¼ˆä½¿ç”¨ï¼‰çš„æ—¶å€™è§¦å‘ â†’  è¿›å…¥è¿™ä¸ªé¡µé¢çš„æ—¶å€™è§¦å‘

**deactivated** å½“ç»„ä»¶ä¸è¢«ä½¿ç”¨çš„æ—¶å€™è§¦å‘      â†’  ç¦»å¼€è¿™ä¸ªé¡µé¢çš„æ—¶å€™è§¦å‘

ç»„ä»¶**ç¼“å­˜å**å°±**ä¸ä¼šæ‰§è¡Œ**ç»„ä»¶çš„**created, mounted, destroyed** ç­‰é’©å­äº†

æ‰€ä»¥å…¶æä¾›äº†**actived å’Œdeactived**é’©å­ï¼Œå¸®æˆ‘ä»¬å®ç°ä¸šåŠ¡éœ€æ±‚ã€‚

## VueCli è‡ªå®šä¹‰åˆ›å»ºé¡¹ç›®

1.å®‰è£…è„šæ‰‹æ¶ (å·²å®‰è£…)

```
npm i @vue/cli -g
```

2.åˆ›å»ºé¡¹ç›®

```
vue create hm-exp-mobile
```

+ é€‰é¡¹

```js
Vue CLI v5.0.8
? Please pick a preset:
  Default ([Vue 3] babel, eslint)
  Default ([Vue 2] babel, eslint)
> Manually select features     é€‰è‡ªå®šä¹‰
```

+ æ‰‹åŠ¨é€‰æ‹©åŠŸèƒ½

![68294185617](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682941856172.png)

+ é€‰æ‹©vueçš„ç‰ˆæœ¬

```jsx
  3.x
> 2.x
```

+ æ˜¯å¦ä½¿ç”¨historyæ¨¡å¼

![image-20201025150602129](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682941888453.png)

+ é€‰æ‹©cssé¢„å¤„ç†

![image-20220629175133593](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682941900018.png)

+ é€‰æ‹©eslintçš„é£æ ¼ ï¼ˆeslint ä»£ç è§„èŒƒçš„æ£€éªŒå·¥å…·ï¼Œæ£€éªŒä»£ç æ˜¯å¦ç¬¦åˆè§„èŒƒï¼‰
+ æ¯”å¦‚ï¼šconst age = 18;   =>  æŠ¥é”™ï¼å¤šåŠ äº†åˆ†å·ï¼åé¢æœ‰å·¥å…·ï¼Œä¸€ä¿å­˜ï¼Œå…¨éƒ¨æ ¼å¼åŒ–æˆæœ€è§„èŒƒçš„æ ·å­

![68294191856](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682941918562.png)

+ é€‰æ‹©æ ¡éªŒçš„æ—¶æœº ï¼ˆç›´æ¥å›è½¦ï¼‰

![68294193579](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682941935794.png)

+ é€‰æ‹©é…ç½®æ–‡ä»¶çš„ç”Ÿæˆæ–¹å¼ ï¼ˆç›´æ¥å›è½¦ï¼‰

![68294194798](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682941947985.png)

- æ˜¯å¦ä¿å­˜é¢„è®¾ï¼Œä¸‹æ¬¡ç›´æ¥ä½¿ç”¨ï¼Ÿ  =>   ä¸ä¿å­˜ï¼Œè¾“å…¥ N

![68294196155](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682941961551.png)

+ ç­‰å¾…å®‰è£…ï¼Œé¡¹ç›®åˆå§‹åŒ–å®Œæˆ

![68294197476](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682941974763.png)

+ å¯åŠ¨é¡¹ç›®

```
npm run serve
```



## ESlintä»£ç è§„èŒƒåŠæ‰‹åŠ¨ä¿®å¤

ä»£ç è§„èŒƒï¼šä¸€å¥—å†™ä»£ç çš„çº¦å®šè§„åˆ™ã€‚ä¾‹å¦‚ï¼šèµ‹å€¼ç¬¦å·çš„å·¦å³æ˜¯å¦éœ€è¦ç©ºæ ¼ï¼Ÿä¸€å¥ç»“æŸæ˜¯å¦æ˜¯è¦åŠ ï¼Ÿ

>  æ²¡æœ‰è§„çŸ©ä¸æˆæ–¹åœ†  

ESLint:æ˜¯ä¸€ä¸ªä»£ç æ£€æŸ¥å·¥å…·ï¼Œç”¨æ¥æ£€æŸ¥ä½ çš„ä»£ç æ˜¯å¦ç¬¦åˆæŒ‡å®šçš„è§„åˆ™(ä½ å’Œä½ çš„å›¢é˜Ÿå¯ä»¥è‡ªè¡Œçº¦å®šä¸€å¥—è§„åˆ™)ã€‚åœ¨åˆ›å»ºé¡¹ç›®æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ [JavaScript Standard Style](https://standardjs.com/readme-zhcn.html) ä»£ç é£æ ¼çš„è§„åˆ™ã€‚

#### 1.JavaScript Standard Style è§„èŒƒè¯´æ˜

å»ºè®®æŠŠï¼šhttps://standardjs.com/rules-zhcn.html çœ‹ä¸€éï¼Œç„¶ååœ¨å†™çš„æ—¶å€™,  é‡åˆ°é”™è¯¯å°±æŸ¥è¯¢è§£å†³ã€‚

ä¸‹é¢æ˜¯è¿™ä»½è§„åˆ™ä¸­çš„ä¸€å°éƒ¨åˆ†ï¼š

- *å­—ç¬¦ä¸²ä½¿ç”¨å•å¼•å·* â€“ éœ€è¦è½¬ä¹‰çš„åœ°æ–¹é™¤å¤–
- *æ— åˆ†å·*   const name = 'zs'
- *å…³é”®å­—ååŠ ç©ºæ ¼* `if (condition) { ... }`
- *å‡½æ•°åååŠ ç©ºæ ¼* `function name (arg) { ... }`
- åšæŒä½¿ç”¨å…¨ç­‰ `===` æ‘’å¼ƒ `==` ä¸€ä½†åœ¨éœ€è¦æ£€æŸ¥ `null || undefined` æ—¶å¯ä»¥ä½¿ç”¨ `obj == null`
- ......

#### 2.ä»£ç è§„èŒƒé”™è¯¯

å¦‚æœä½ çš„ä»£ç ä¸ç¬¦åˆstandardçš„è¦æ±‚ï¼Œeslintä¼šè·³å‡ºæ¥æç¤ºä½ ã€‚

ä¸‹é¢æˆ‘ä»¬åœ¨main.jsä¸­éšæ„åšä¸€äº›æ”¹åŠ¨ï¼šæ·»åŠ ä¸€äº›ç©ºè¡Œï¼Œç©ºæ ¼ã€‚

```js
import Vue from 'vue'
import App from './App.vue'

import './styles/index.less'
import router from './router'
Vue.config.productionTip = false

new Vue ( {
  render: h => h(App),
  router
}).$mount('#app')


```

æŒ‰ä¸‹ä¿å­˜ä»£ç ä¹‹åï¼š

ä½ å°†ä¼šçœ‹åœ¨æ§åˆ¶å°ä¸­è¾“å‡ºå¦‚ä¸‹é”™è¯¯ï¼š

![68294255431](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682942554314.png)

> eslint æ˜¯æ¥å¸®åŠ©ä½ çš„ã€‚å¿ƒæ€è¦å¥½ï¼Œæœ‰é”™ï¼Œå°±æ”¹ã€‚



#### 3.æ‰‹åŠ¨ä¿®æ­£

æ ¹æ®é”™è¯¯æç¤ºæ¥ä¸€é¡¹ä¸€é¡¹æ‰‹åŠ¨ä¿®æ­£ã€‚

å¦‚æœä½ ä¸è®¤è¯†å‘½ä»¤è¡Œä¸­çš„è¯­æ³•æŠ¥é”™æ˜¯ä»€ä¹ˆæ„æ€ï¼Œä½ å¯ä»¥æ ¹æ®é”™è¯¯ä»£ç ï¼ˆfunc-call-spacing, space-in-parens,.....ï¼‰å» ESLint è§„åˆ™åˆ—è¡¨ä¸­æŸ¥æ‰¾å…¶å…·ä½“å«ä¹‰ã€‚

æ‰“å¼€ [ESLint è§„åˆ™è¡¨](https://zh-hans.eslint.org/docs/latest/rules/)ï¼Œä½¿ç”¨é¡µé¢æœç´¢ï¼ˆCtrl + Fï¼‰è¿™ä¸ªä»£ç ï¼ŒæŸ¥æ‰¾å¯¹è¯¥è§„åˆ™çš„ä¸€ä¸ªé‡Šä¹‰ã€‚

![68294279221](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682942792219.png)



## é€šè¿‡eslintæ’ä»¶æ¥å®ç°è‡ªåŠ¨ä¿®æ­£

> 1. eslintä¼šè‡ªåŠ¨é«˜äº®é”™è¯¯æ˜¾ç¤º
> 2. é€šè¿‡é…ç½®ï¼Œeslintä¼šè‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬ä¿®å¤é”™è¯¯

+ å¦‚ä½•å®‰è£… (è¯·ä½¿ç”¨2.4.0,ä½¿ç”¨æ–°ç‰ˆæœ¬å¯èƒ½ä¼šå‡ºç°é—®é¢˜)

![68294292098](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1682942920986.png)

+ å¦‚ä½•é…ç½®

```js
// å½“ä¿å­˜çš„æ—¶å€™ï¼Œeslintè‡ªåŠ¨å¸®æˆ‘ä»¬ä¿®å¤é”™è¯¯
"editor.codeActionsOnSave": {
    "source.fixAll": true
},
// ä¿å­˜ä»£ç ï¼Œä¸è‡ªåŠ¨æ ¼å¼åŒ–
"editor.formatOnSave": false
```

+ æ³¨æ„ï¼šeslintçš„é…ç½®æ–‡ä»¶å¿…é¡»åœ¨æ ¹ç›®å½•ä¸‹ï¼Œè¿™ä¸ªæ’ä»¶æ‰èƒ½æ‰èƒ½ç”Ÿæ•ˆã€‚æ‰“å¼€é¡¹ç›®å¿…é¡»ä»¥æ ¹ç›®å½•æ‰“å¼€ï¼Œä¸€æ¬¡æ‰“å¼€ä¸€ä¸ªé¡¹ç›®
+ æ³¨æ„ï¼šä½¿ç”¨äº†eslintæ ¡éªŒä¹‹åï¼ŒæŠŠvscodeå¸¦çš„é‚£äº›æ ¼å¼åŒ–å·¥å…·å…¨ç¦ç”¨äº† Beatify

settings.json å‚è€ƒ

```jsx
{
    "window.zoomLevel": 2,
    "workbench.iconTheme": "vscode-icons",
    "editor.tabSize": 2,
    "emmet.triggerExpansionOnTab": true,
    // å½“ä¿å­˜çš„æ—¶å€™ï¼Œeslintè‡ªåŠ¨å¸®æˆ‘ä»¬ä¿®å¤é”™è¯¯
    "editor.codeActionsOnSave": {
        "source.fixAll": true
    },
    // ä¿å­˜ä»£ç ï¼Œä¸è‡ªåŠ¨æ ¼å¼åŒ–
    "editor.formatOnSave": false
}
```





## [ Vuex](https://vuex.vuejs.org/zh/) æ¦‚è¿° 

ç›®æ ‡ï¼šæ˜ç¡®[Vuex](https://vuex.vuejs.org/zh/)æ˜¯ä»€ä¹ˆï¼Œåº”ç”¨åœºæ™¯ä»¥åŠä¼˜åŠ¿

### 1.æ˜¯ä»€ä¹ˆ

Vuex æ˜¯ä¸€ä¸ª Vue çš„ çŠ¶æ€ç®¡ç†å·¥å…·ï¼ŒçŠ¶æ€å°±æ˜¯æ•°æ®ã€‚

å¤§ç™½è¯ï¼šVuex æ˜¯ä¸€ä¸ªæ’ä»¶ï¼Œå¯ä»¥å¸®æˆ‘ä»¬ç®¡ç† Vue é€šç”¨çš„æ•°æ® (å¤šç»„ä»¶å…±äº«çš„æ•°æ®)ã€‚ä¾‹å¦‚ï¼šè´­ç‰©è½¦æ•°æ®   ä¸ªäººä¿¡æ¯æ•°



### 2.ä½¿ç”¨åœºæ™¯

- æŸä¸ªçŠ¶æ€ åœ¨ å¾ˆå¤šä¸ªç»„ä»¶ æ¥ä½¿ç”¨ (ä¸ªäººä¿¡æ¯)


- å¤šä¸ªç»„ä»¶ å…±åŒç»´æŠ¤ ä¸€ä»½æ•°æ® (è´­ç‰©è½¦)

![68317818664](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683178186642.png)

### 3.ä¼˜åŠ¿

- å…±åŒç»´æŠ¤ä¸€ä»½æ•°æ®ï¼Œ**æ•°æ®é›†ä¸­åŒ–ç®¡ç†**
- **å“åº”å¼å˜åŒ–**
- æ“ä½œç®€æ´ (vuexæä¾›äº†ä¸€äº›è¾…åŠ©å‡½æ•°)

![68317829336](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683178293366.png)

### 4.æ³¨æ„ï¼š

å®˜æ–¹åŸæ–‡ï¼š

- ä¸æ˜¯æ‰€æœ‰çš„åœºæ™¯éƒ½é€‚ç”¨äºvuexï¼Œåªæœ‰åœ¨å¿…è¦çš„æ—¶å€™æ‰ä½¿ç”¨vuex
- ä½¿ç”¨äº†vuexä¹‹åï¼Œä¼šé™„åŠ æ›´å¤šçš„æ¡†æ¶ä¸­çš„æ¦‚å¿µè¿›æ¥ï¼Œå¢åŠ äº†é¡¹ç›®çš„å¤æ‚åº¦  ï¼ˆæ•°æ®çš„æ“ä½œæ›´ä¾¿æ·ï¼Œæ•°æ®çš„æµåŠ¨æ›´æ¸…æ™°ï¼‰

Vuexå°±åƒã€Šè¿‘è§†çœ¼é•œã€‹, ä½ è‡ªç„¶ä¼šçŸ¥é“ä»€ä¹ˆæ—¶å€™éœ€è¦ç”¨å®ƒ~

 

## éœ€æ±‚: å¤šç»„ä»¶å…±äº«æ•°æ®

ç›®æ ‡ï¼šåŸºäºè„šæ‰‹æ¶åˆ›å»ºé¡¹ç›®ï¼Œæ„å»º vuex å¤šç»„ä»¶æ•°æ®å…±äº«ç¯å¢ƒ

![68317891269](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683178912695.png)

æ•ˆæœæ˜¯ä¸‰ä¸ªç»„ä»¶å…±äº«ä¸€ä»½æ•°æ®:

- ä»»æ„ä¸€ä¸ªç»„ä»¶éƒ½å¯ä»¥ä¿®æ”¹æ•°æ®
- ä¸‰ä¸ªç»„ä»¶çš„æ•°æ®æ˜¯åŒæ­¥çš„

### 1.åˆ›å»ºé¡¹ç›®

```
vue create vuex-demo
```

### 2.åˆ›å»ºä¸‰ä¸ªç»„ä»¶, ç›®å½•å¦‚ä¸‹

```
|-components
|--Son1.vue
|--Son2.vue
|-App.vue
```

### 3.æºä»£ç å¦‚ä¸‹

`App.vue`åœ¨å…¥å£ç»„ä»¶ä¸­å¼•å…¥ Son1 å’Œ Son2 è¿™ä¸¤ä¸ªå­ç»„ä»¶

```html
<template>
  <div id="app">
    <h1>æ ¹ç»„ä»¶</h1>
    <input type="text">
    <Son1></Son1>
    <hr>
    <Son2></Son2>
  </div>
</template>

<script>
import Son1 from './components/Son1.vue'
import Son2 from './components/Son2.vue'

export default {
  name: 'app',
  data: function () {
    return {

    }
  },
  components: {
    Son1,
    Son2
  }
}
</script>

<style>
#app {
  width: 600px;
  margin: 20px auto;
  border: 3px solid #ccc;
  border-radius: 3px;
  padding: 10px;
}
</style>

```

`main.js`

```js
import Vue from 'vue'
import App from './App.vue'

Vue.config.productionTip = false

new Vue({
  render: h => h(App)
}).$mount('#app')
```

`Son1.vue`

```html
<template>
  <div class="box">
    <h2>Son1 å­ç»„ä»¶</h2>
    ä»vuexä¸­è·å–çš„å€¼: <label></label>
    <br>
    <button>å€¼ + 1</button>
  </div>
</template>

<script>
export default {
  name: 'Son1Com'
}
</script>

<style lang="css" scoped>
.box{
  border: 3px solid #ccc;
  width: 400px;
  padding: 10px;
  margin: 20px;
}
h2 {
  margin-top: 10px;
}
</style>

```

`Son2.vue`

```html
<template>
  <div class="box">
    <h2>Son2 å­ç»„ä»¶</h2>
    ä»vuexä¸­è·å–çš„å€¼:<label></label>
    <br />
    <button>å€¼ - 1</button>
  </div>
</template>

<script>
export default {
  name: 'Son2Com'
}
</script>

<style lang="css" scoped>
.box {
  border: 3px solid #ccc;
  width: 400px;
  padding: 10px;
  margin: 20px;
}
h2 {
  margin-top: 10px;
}
</style>
```



## vuex çš„ä½¿ç”¨ - åˆ›å»ºä»“åº“

![68321278417](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683212784179.png)

### 1.å®‰è£… vuex

å®‰è£…vuexä¸vue-routerç±»ä¼¼ï¼Œvuexæ˜¯ä¸€ä¸ªç‹¬ç«‹å­˜åœ¨çš„æ’ä»¶ï¼Œå¦‚æœè„šæ‰‹æ¶åˆå§‹åŒ–æ²¡æœ‰é€‰ vuexï¼Œå°±éœ€è¦é¢å¤–å®‰è£…ã€‚

```bash
yarn add vuex@3 æˆ–è€… npm i vuex@3
```

### 2.æ–°å»º `store/index.js` ä¸“é—¨å­˜æ”¾ vuex

â€‹	ä¸ºäº†ç»´æŠ¤é¡¹ç›®ç›®å½•çš„æ•´æ´ï¼Œåœ¨srcç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªstoreç›®å½•å…¶ä¸‹æ”¾ç½®ä¸€ä¸ªindex.jsæ–‡ä»¶ã€‚ (å’Œ `router/index.js` ç±»ä¼¼)

â€‹	![68321280582](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683212805824.png)

### 3.åˆ›å»ºä»“åº“ `store/index.js` 

```jsx
// å¯¼å…¥ vue
import Vue from 'vue'
// å¯¼å…¥ vuex
import Vuex from 'vuex'
// vuexä¹Ÿæ˜¯vueçš„æ’ä»¶, éœ€è¦useä¸€ä¸‹, è¿›è¡Œæ’ä»¶çš„å®‰è£…åˆå§‹åŒ–
Vue.use(Vuex)

// åˆ›å»ºä»“åº“ store
const store = new Vuex.Store()

// å¯¼å‡ºä»“åº“
export default store
```

### 4 åœ¨ main.js ä¸­å¯¼å…¥æŒ‚è½½åˆ° Vue å®ä¾‹ä¸Š

```js
import Vue from 'vue'
import App from './App.vue'
import store from './store/index'

Vue.config.productionTip = false

new Vue({
  render: h => h(App),
  store
}).$mount('#app')
```

æ­¤åˆ»èµ·, å°±æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ª **ç©ºä»“åº“!!**

### 5.æµ‹è¯•æ‰“å°Vuex

App.vue

```js
created(){
  console.log(this.$store)
}
```





## æ ¸å¿ƒæ¦‚å¿µ - state çŠ¶æ€

### 1.ç›®æ ‡

æ˜ç¡®å¦‚ä½•ç»™ä»“åº“ æä¾› æ•°æ®ï¼Œå¦‚ä½• ä½¿ç”¨ ä»“åº“çš„æ•°æ®

### 2.æä¾›æ•°æ®

Stateæä¾›å”¯ä¸€çš„å…¬å…±æ•°æ®æºï¼Œæ‰€æœ‰å…±äº«çš„æ•°æ®éƒ½è¦ç»Ÿä¸€æ”¾åˆ°Storeä¸­çš„Stateä¸­å­˜å‚¨ã€‚

æ‰“å¼€é¡¹ç›®ä¸­çš„storeæ–‡ä»¶å¤¹é‡Œé¢çš„index.jsæ–‡ä»¶ï¼Œåœ¨stateå¯¹è±¡ä¸­å¯ä»¥æ·»åŠ æˆ‘ä»¬è¦å…±äº«çš„æ•°æ®ã€‚

```jsx
// åˆ›å»ºä»“åº“ store
const store = new Vuex.Store({
  // state çŠ¶æ€, å³æ•°æ®, ç±»ä¼¼äºvueç»„ä»¶ä¸­çš„data,
  // åŒºåˆ«ï¼š
  // 1.data æ˜¯ç»„ä»¶è‡ªå·±çš„æ•°æ®, 
  // 2.state ä¸­çš„æ•°æ®æ•´ä¸ªvueé¡¹ç›®çš„ç»„ä»¶éƒ½èƒ½è®¿é—®åˆ°
  state: {
    count: 101
  }
})
```

### 3.è®¿é—®Vuexä¸­çš„æ•°æ®

é—®é¢˜: å¦‚ä½•åœ¨ç»„ä»¶ä¸­è·å–count?

1. é€šè¿‡$storeç›´æ¥è®¿é—®  â€”>  `{{  $store.state.count  }}`
2. é€šè¿‡è¾…åŠ©å‡½æ•°mapState æ˜ å°„è®¡ç®—å±æ€§  â€”>  `{{ count  }}`




### 4.é€šè¿‡$storeè®¿é—®çš„è¯­æ³•

```js
è·å– storeï¼š
 1.Vueæ¨¡æ¿ä¸­è·å– this.$store
 2.jsæ–‡ä»¶ä¸­è·å– import å¯¼å…¥ store


æ¨¡æ¿ä¸­ï¼š     {{ $store.state.xxx }}
<template>
    <div class="box">
      <h2>Son1 å­ç»„ä»¶</h2>
      ä»vuexä¸­è·å–çš„å€¼: <label>{{ $store.state.count }}</label>
      <br>
      <button>å€¼ + 1</button>
    </div>
  </template>

ç»„ä»¶é€»è¾‘ä¸­ï¼š  this.$store.state.xxx
<script>
import Son1 from './components/Son1.vue'
import Son2 from './components/Son2.vue'

export default {
  name: 'app',
  created () {
    console.log(this.$store.state.count)
  },
  components: {
    Son1,
    Son2
  }
}
</script>

JSæ¨¡å—ä¸­ï¼š   store.state.xxx
import Vue from 'vue'
import App from './App.vue'
import store from '@/store/index'

console.log(store.state.count)

Vue.config.productionTip = false

new Vue({
  render: h => h(App),
  store
}).$mount('#app')

```



### 5.ä»£ç å®ç°

#### 5.1æ¨¡æ¿ä¸­ä½¿ç”¨

ç»„ä»¶ä¸­å¯ä»¥ä½¿ç”¨  **$store** è·å–åˆ°vuexä¸­çš„storeå¯¹è±¡å®ä¾‹ï¼Œå¯é€šè¿‡**state**å±æ€§å±æ€§è·å–**count**ï¼Œ å¦‚ä¸‹

```vue
<h1>stateçš„æ•°æ® - {{ $store.state.count }}</h1>
```

#### 5.2ç»„ä»¶é€»è¾‘ä¸­ä½¿ç”¨

å°†stateå±æ€§å®šä¹‰åœ¨è®¡ç®—å±æ€§ä¸­ https://vuex.vuejs.org/zh/guide/state.html

```js
<h1>stateçš„æ•°æ® - {{ count }}</h1>

// æŠŠstateä¸­æ•°æ®ï¼Œå®šä¹‰åœ¨ç»„ä»¶å†…çš„è®¡ç®—å±æ€§ä¸­
  computed: {
    count () {
      return this.$store.state.count
    }
  }
```

#### 5.3 jsæ–‡ä»¶ä¸­ä½¿ç”¨

```js
//main.js

import store from "@/store"

console.log(store.state.count)
```

æ¯æ¬¡éƒ½åƒè¿™æ ·ä¸€ä¸ªä¸ªçš„æä¾›è®¡ç®—å±æ€§, å¤ªéº»çƒ¦äº†,æˆ‘ä»¬æœ‰æ²¡æœ‰ç®€å•çš„è¯­æ³•å¸®æˆ‘ä»¬è·å–stateä¸­çš„å€¼å‘¢ï¼Ÿ



## é€šè¿‡è¾…åŠ©å‡½æ•°  - mapStateè·å– stateä¸­çš„æ•°æ®

>mapStateæ˜¯è¾…åŠ©å‡½æ•°ï¼Œå¸®åŠ©æˆ‘ä»¬æŠŠstoreä¸­çš„æ•°æ®æ˜ å°„åˆ° ç»„ä»¶çš„è®¡ç®—å±æ€§ä¸­, å®ƒå±äºä¸€ç§æ–¹ä¾¿çš„ç”¨æ³•

ç”¨æ³• ï¼š

![68321471957](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683214719574.png) 

### 1.ç¬¬ä¸€æ­¥ï¼šå¯¼å…¥mapState (mapStateæ˜¯vuexä¸­çš„ä¸€ä¸ªå‡½æ•°)

```js
import { mapState } from 'vuex'
```

### 2.ç¬¬äºŒæ­¥ï¼šé‡‡ç”¨æ•°ç»„å½¢å¼å¼•å…¥stateå±æ€§

```js
mapState(['count']) 
```

> ä¸Šé¢ä»£ç çš„æœ€ç»ˆå¾—åˆ°çš„æ˜¯ **ç±»ä¼¼äº**

```js
count () {
    return this.$store.state.count
}
```

### 3.ç¬¬ä¸‰æ­¥ï¼šåˆ©ç”¨**å±•å¼€è¿ç®—ç¬¦**å°†å¯¼å‡ºçš„çŠ¶æ€æ˜ å°„ç»™è®¡ç®—å±æ€§

```js
  computed: {
    ...mapState(['count'])
  }
```

```vue
 <div> stateçš„æ•°æ®ï¼š{{ count }}</div>
```



## å¼€å¯ä¸¥æ ¼æ¨¡å¼åŠVuexçš„å•é¡¹æ•°æ®æµ

### 1.ç›®æ ‡

æ˜ç¡® vuex åŒæ ·éµå¾ªå•å‘æ•°æ®æµï¼Œç»„ä»¶ä¸­ä¸èƒ½ç›´æ¥ä¿®æ”¹ä»“åº“çš„æ•°æ®

### 2.ç›´æ¥åœ¨ç»„ä»¶ä¸­ä¿®æ”¹Vuexä¸­stateçš„å€¼

![68321589228](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683215892288.png)

Son1.vue

```vue
button @click="handleAdd">å€¼ + 1</button>


methods:{
	 handleAdd (n) {
      // é”™è¯¯ä»£ç (vueé»˜è®¤ä¸ä¼šç›‘æµ‹ï¼Œç›‘æµ‹éœ€è¦æˆæœ¬)
       this.$store.state.count++
      // console.log(this.$store.state.count) 
    },
}
```

### 3.å¼€å¯ä¸¥æ ¼æ¨¡å¼

é€šè¿‡ `strict: true` å¯ä»¥å¼€å¯ä¸¥æ ¼æ¨¡å¼,å¼€å¯ä¸¥æ ¼æ¨¡å¼åï¼Œç›´æ¥ä¿®æ”¹stateä¸­çš„å€¼ä¼šæŠ¥é”™

æœ‰åˆ©äºåˆå­¦è€…ï¼Œæ£€æµ‹ä¸è§„èŒƒçš„ä»£ç ï¼Œä½†**ä¸Šçº¿æ—¶éœ€è¦å…³é—­**ï¼Œé¿å…æ¶ˆè€—å¤šä½™æ€§èƒ½

> **stateæ•°æ®çš„ä¿®æ”¹åªèƒ½é€šè¿‡mutationsï¼Œå¹¶ä¸”mutationså¿…é¡»æ˜¯åŒæ­¥çš„**

![68321471957](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683215821033.png)

## æ ¸å¿ƒæ¦‚å¿µ-mutations

æ›´æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutationã€‚Vuex ä¸­çš„ mutation éå¸¸ç±»ä¼¼äºäº‹ä»¶ï¼šæ¯ä¸ª mutation éƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²çš„**äº‹ä»¶ç±»å‹ (type)\**å’Œä¸€ä¸ª\**å›è°ƒå‡½æ•° (handler)**ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°å°±æ˜¯æˆ‘ä»¬å®é™…è¿›è¡ŒçŠ¶æ€æ›´æ”¹çš„åœ°æ–¹ï¼Œå¹¶ä¸”å®ƒä¼šæ¥å— state ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°

### 1.å®šä¹‰mutations

```js
const store  = new Vuex.Store({
  state: {
    count: 0
  },
  // å®šä¹‰mutations
  mutations: {
     
  }
})
```

### 2.æ ¼å¼è¯´æ˜

mutationsæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­å­˜æ”¾ä¿®æ”¹stateçš„æ–¹æ³•

```js
mutations: {
    // æ–¹æ³•é‡Œå‚æ•° ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å½“å‰storeçš„stateå±æ€§
    // payload è½½è· è¿è¾“å‚æ•° è°ƒç”¨mutaiionsçš„æ—¶å€™ å¯ä»¥ä¼ é€’å‚æ•° ä¼ é€’è½½è·
    addCount (state) {
      state.count += 1
    }
  },
```

### 3.ç»„ä»¶ä¸­æäº¤ mutations

```jsx
this.$store.commit('addCount')
```

### 4.ç»ƒä¹ 

1.åœ¨mutationsä¸­å®šä¹‰ä¸ªç‚¹å‡»æŒ‰é’®è¿›è¡Œ +5 çš„æ–¹æ³•

2.åœ¨mutationsä¸­å®šä¹‰ä¸ªç‚¹å‡»æŒ‰é’®è¿›è¡Œ æ”¹å˜title çš„æ–¹æ³•

3.åœ¨ç»„ä»¶ä¸­è°ƒç”¨mutationsä¿®æ”¹stateä¸­çš„å€¼

### 5.æ€»ç»“

é€šè¿‡mutationsä¿®æ”¹stateçš„æ­¥éª¤

1.å®šä¹‰ mutations å¯¹è±¡ï¼Œå¯¹è±¡ä¸­å­˜æ”¾ä¿®æ”¹ state çš„æ–¹æ³•

2.ç»„ä»¶ä¸­æäº¤è°ƒç”¨ mutations(é€šè¿‡$store.commit('mutationsçš„æ–¹æ³•å'))



## å¸¦å‚æ•°çš„ mutations

### 1.ç›®æ ‡ï¼š

æŒæ¡ mutations ä¼ å‚è¯­æ³•

### 2.è¯­æ³•

çœ‹ä¸‹é¢è¿™ä¸ªæ¡ˆä¾‹ï¼Œæ¯æ¬¡ç‚¹å‡»ä¸åŒçš„æŒ‰é’®ï¼ŒåŠ çš„å€¼éƒ½ä¸åŒï¼Œæ¯æ¬¡éƒ½è¦å®šä¹‰ä¸åŒçš„mutationså¤„ç†å—ï¼Ÿ

![68321700423](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683217004239.png)

æäº¤ mutation æ˜¯å¯ä»¥ä¼ é€’å‚æ•°çš„  `this.$store.commit('xxx',  å‚æ•°)`

#### 2.1 æä¾›mutationå‡½æ•°ï¼ˆå¸¦å‚æ•°ï¼‰

```js
mutations: {
  ...
  addCount (state, count) {
    state.count = count
  }
},
```

#### 2.2 æäº¤mutation

```jsx
handle ( ) {
  this.$store.commit('addCount', 10)
}
```

**å°tips: æäº¤çš„å‚æ•°åªèƒ½æ˜¯ä¸€ä¸ª, å¦‚æœæœ‰å¤šä¸ªå‚æ•°è¦ä¼ , å¯ä»¥ä¼ é€’ä¸€ä¸ªå¯¹è±¡**

```jsx
this.$store.commit('addCount', {
  count: 10
})
```



## ç»ƒä¹ -mutationsçš„å‡æ³•åŠŸèƒ½

![68321724875](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683217248752.png)

### 1.æ­¥éª¤

![68321726825](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683217268256.png)

### 2.ä»£ç å®ç°

Son2.vue

```vue
    <button @click="subCount(1)">å€¼ - 1</button>
    <button @click="subCount(5)">å€¼ - 5</button>
    <button @click="subCount(10)">å€¼ - 10</button>

    export default {
        methods:{
             subCount (n) { 
                this.$store.commit('subCount', n)
        	 },
        }
    }
```

store/index.js

```vue
mutations:{
    subCount (state, n) {
      state.count -= n
    },
}
```



## ç»ƒä¹ -Vuexä¸­çš„å€¼å’Œç»„ä»¶ä¸­çš„inputåŒå‘ç»‘å®š

### 1.ç›®æ ‡

å®æ—¶è¾“å…¥ï¼Œå®æ—¶æ›´æ–°ï¼Œå·©å›º mutations ä¼ å‚è¯­æ³•

![68321769706](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683217697064.png)

### 2.å®ç°æ­¥éª¤

![68321771778](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683217717788.png)

### 3.ä»£ç å®ç°

App.vue

```vue
<input :value="count" @input="handleInput" type="text">

export default {
  methods: {
    handleInput (e) {
      // 1. å®æ—¶è·å–è¾“å…¥æ¡†çš„å€¼
      const num = +e.target.value
      // 2. æäº¤mutationï¼Œè°ƒç”¨mutationå‡½æ•°
      this.$store.commit('changeCount', num)
    }
  }
}
```

store/index.js

```js
mutations: { 
   changeCount (state, newCount) {
      state.count = newCount
   }
},
```



## è¾…åŠ©å‡½æ•°- mapMutations

> mapMutationså’ŒmapStateå¾ˆåƒï¼Œå®ƒæŠŠä½äºindex.jsçš„mutationsä¸­çš„æ–¹æ³•æå–äº†å‡ºæ¥ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒå¯¼å…¥

```js
import  { mapMutations } from 'vuex'
methods: {
    ...mapMutations(['addCount'])
}
```

> ä¸Šé¢ä»£ç çš„å«ä¹‰æ˜¯å°†mutationsçš„æ–¹æ³•å¯¼å…¥äº†methodsä¸­ï¼Œç­‰ä»·äº

```js
methods: {
      // commit(æ–¹æ³•å, è½½è·å‚æ•°)
      addCount () {
          this.$store.commit('addCount')
      }
 }
```

æ­¤æ—¶ï¼Œå°±å¯ä»¥ç›´æ¥é€šè¿‡this.addCountè°ƒç”¨äº†

```jsx
<button @click="addCount(è·è½½å‚æ•°)">å€¼+1</button>
```

ä½†æ˜¯è¯·æ³¨æ„ï¼š Vuexä¸­mutationsä¸­è¦æ±‚ä¸èƒ½å†™å¼‚æ­¥ä»£ç ï¼Œå¦‚æœæœ‰å¼‚æ­¥çš„ajaxè¯·æ±‚ï¼Œåº”è¯¥æ”¾ç½®åœ¨actionsä¸­



## æ ¸å¿ƒæ¦‚å¿µ - actions

> stateæ˜¯å­˜æ”¾æ•°æ®çš„ï¼Œmutationsæ˜¯åŒæ­¥æ›´æ–°æ•°æ® (ä¾¿äºç›‘æµ‹æ•°æ®çš„å˜åŒ–, æ›´æ–°è§†å›¾ç­‰, æ–¹ä¾¿äºè°ƒè¯•å·¥å…·æŸ¥çœ‹å˜åŒ–)ï¼Œ
>
> actionsåˆ™è´Ÿè´£è¿›è¡Œå¼‚æ­¥æ“ä½œ

**è¯´æ˜ï¼šmutationså¿…é¡»æ˜¯åŒæ­¥çš„**

**éœ€æ±‚: ä¸€ç§’é’Ÿä¹‹å, è¦ç»™ä¸€ä¸ªæ•° å»ä¿®æ”¹state**

![68321860367](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683218603674.png)

### **1.å®šä¹‰actions**

index.js

```js
mutations: {
Â  changeCount (state, newCount) {
Â  Â  state.count = newCount
Â  }
}


// actionså¼‚æ­¥å¤„ç†
// æ³¨æ„ï¼š ä¸èƒ½ç›´æ¥æ“ä½œ stateï¼Œ æ“ä½œ stateè¿˜æ˜¯éœ€è¦ commit mutationæ–¹æ³•
actions: {
    // context ä¸Šä¸‹æ–‡ ï¼ˆæ­¤å¤„æœªåˆ†æ¨¡å—ï¼Œå¯ä»¥å½“æˆstoreä»“åº“ï¼‰
    // æäº¤ç”¨ï¼šcontext.commit('mutationåå­—',é¢å¤–å‚æ•°)
    changeCountAction (context, num) {
        // è¿™é‡Œæ˜¯setTimeoutæ¨¡æ‹Ÿå¼‚æ­¥ï¼Œå¤§éƒ¨åˆ†åœºæ™¯æ˜¯å‘è¯·æ±‚
        setTimeout(() => {
            context.commit('changeCount', num)
        }, 1000)
    }
}
```

### **2.ç»„ä»¶ä¸­é€šè¿‡dispatchè°ƒç”¨**

```js
handleChange () {
    // è°ƒç”¨action
    // this.$store.dispatch('actionåå­—', é¢å¤–å‚æ•°)
    this.$store.dispatch('changeCountAction', 666)
}
```

![68344198757](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683441987572.png)

## è¾…åŠ©å‡½æ•° -mapActions

1.ç›®æ ‡ï¼šæŒæ¡è¾…åŠ©å‡½æ•° mapActionsï¼Œæ˜ å°„æ–¹æ³•

> mapActions æ˜¯æŠŠä½äº actionsä¸­çš„æ–¹æ³•æå–äº†å‡ºæ¥ï¼Œæ˜ å°„åˆ°ç»„ä»¶methodsä¸­

Son2.vue

```js
import { mapActions } from 'vuex'
methods: {
   ...mapActions(['changeCountAction'])
}

//mapActionsæ˜ å°„çš„ä»£ç  æœ¬è´¨ä¸Šæ˜¯ä»¥ä¸‹ä»£ç çš„å†™æ³•
//methods: {
//Â  changeCountAction (n) {
//Â  Â  this.$store.dispatch('changeCountAction', n)
//Â  },
//}
```

index.js

```js
 // å®šä¹‰mutations
  mutations: {
    // æ–¹æ³•é‡Œå‚æ•° ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å½“å‰storeçš„stateå±æ€§
    // payload è½½è· è¿è¾“å‚æ•° è°ƒç”¨mutaiionsçš„æ—¶å€™ å¯ä»¥ä¼ é€’å‚æ•° ä¼ é€’è½½è·
    addCount (state, count) {
      state.count += count
    },
    subCount (state, n) {
      state.count -= n
    },
    changeTitle (state, newTitle) {
      state.title = newTitle
    },
    changeCount (state, newCount) {
      state.count = newCount
    }
  },
  // actionså¼‚æ­¥å¤„ç†
  // æ³¨æ„ï¼š ä¸èƒ½ç›´æ¥æ“ä½œ stateï¼Œ æ“ä½œ stateè¿˜æ˜¯éœ€è¦ commit mutationæ–¹æ³•
  actions: {
    // context ä¸Šä¸‹æ–‡ ï¼ˆæ­¤å¤„æœªåˆ†æ¨¡å—ï¼Œå¯ä»¥å½“æˆstoreä»“åº“ï¼‰
    // æäº¤ç”¨ï¼šcontext.commit('mutationåå­—',é¢å¤–å‚æ•°)
    changeCountAction (context, num) {
      // è¿™é‡Œæ˜¯setTimeoutæ¨¡æ‹Ÿå¼‚æ­¥ï¼Œå¤§éƒ¨åˆ†åœºæ™¯æ˜¯å‘è¯·æ±‚
      setTimeout(() => {
        context.commit('changeCount', num)
      }, 1000)
    }
  }
```

ç›´æ¥é€šè¿‡ this.æ–¹æ³• å°±å¯ä»¥è°ƒç”¨

```vue
<button @click="changeCountAction(200)">+å¼‚æ­¥</button>
```



## æ ¸å¿ƒæ¦‚å¿µ - getters

> é™¤äº†stateä¹‹å¤–ï¼Œæœ‰æ—¶æˆ‘ä»¬è¿˜éœ€è¦ä»stateä¸­**ç­›é€‰å‡ºç¬¦åˆæ¡ä»¶çš„ä¸€äº›æ•°æ®**ï¼Œè¿™äº›æ•°æ®æ˜¯ä¾èµ–stateçš„ï¼Œæ­¤æ—¶ä¼šç”¨åˆ°getters

ä¾‹å¦‚ï¼Œstateä¸­å®šä¹‰äº†listï¼Œä¸º1-10çš„æ•°ç»„ï¼Œ

```js
state: {
    list: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
}
```

ç»„ä»¶ä¸­ï¼Œéœ€è¦æ˜¾ç¤ºæ‰€æœ‰å¤§äº5çš„æ•°æ®ï¼Œæ­£å¸¸çš„æ–¹å¼ï¼Œæ˜¯éœ€è¦liståœ¨ç»„ä»¶ä¸­è¿›è¡Œå†ä¸€æ­¥çš„å¤„ç†ï¼Œä½†æ˜¯getterså¯ä»¥å¸®åŠ©æˆ‘ä»¬å®ç°å®ƒ

### 1.å®šä¹‰getters

```js
  getters: {
    // getterså‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ state
    // å¿…é¡»è¦æœ‰è¿”å›å€¼ï¼Œè¿”å›å€¼å°±æ˜¯gettersçš„å€¼
     filterList (state) {
      return state.list.filter(item => item > 5)
    }
  }
```

### 2.ä½¿ç”¨getters

#### 2.1åŸå§‹æ–¹å¼-$store

```vue
<div>{{ $store.getters.filterList }}</div>
```

#### 2.2è¾…åŠ©å‡½æ•° - mapGetters

```js
computed: {
    ...mapGetters(['filterList'])
}
```

```vue
 <div>{{ filterList }}</div>
```

**ä½¿ç”¨æŸä¸ªæ¨¡å—çš„gettersé‡Œçš„å¤šä¸ªæ–¹æ³•**

```js
computed: {
    ...mapGetters('æ¨¡å—å', ['filterList', 'å…¶ä»–æ–¹æ³•å'])
}
```

```vue
 <div>{{ filterList }}</div>
<div>{{ å…¶ä»–æ–¹æ³•å }}</div>
```



## ä½¿ç”¨å°ç»“

![68344213391](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683442133911.png)

## æ ¸å¿ƒæ¦‚å¿µ - module

### 1.ç›®æ ‡

æŒæ¡æ ¸å¿ƒæ¦‚å¿µ module æ¨¡å—çš„åˆ›å»º

### 2.é—®é¢˜

ç”±äºä½¿ç”¨**å•ä¸€çŠ¶æ€æ ‘**ï¼Œåº”ç”¨çš„æ‰€æœ‰çŠ¶æ€**ä¼šé›†ä¸­åˆ°ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å¯¹è±¡**ã€‚å½“åº”ç”¨å˜å¾—éå¸¸å¤æ‚æ—¶ï¼Œstore å¯¹è±¡å°±æœ‰å¯èƒ½å˜å¾—ç›¸å½“è‡ƒè‚¿ã€‚

è¿™å¥è¯çš„æ„æ€æ˜¯ï¼Œå¦‚æœæŠŠæ‰€æœ‰çš„çŠ¶æ€éƒ½æ”¾åœ¨stateä¸­ï¼Œå½“é¡¹ç›®å˜å¾—è¶Šæ¥è¶Šå¤§çš„æ—¶å€™ï¼ŒVuexä¼šå˜å¾—è¶Šæ¥è¶Šéš¾ä»¥ç»´æŠ¤

ç”±æ­¤ï¼Œåˆæœ‰äº†Vuexçš„æ¨¡å—åŒ–

![68342575835](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683425758358.png)



### **3.æ¨¡å—å®šä¹‰** - å‡†å¤‡ state

å®šä¹‰ä¸¤ä¸ªæ¨¡å—   **user** å’Œ  **setting**

userä¸­ç®¡ç†ç”¨æˆ·çš„ä¿¡æ¯çŠ¶æ€  userInfo  `modules/user.js`

```jsx
const state = {
  userInfo: {
    name: 'zs',
    age: 18
  }
}

const mutations = {}

const actions = {}

const getters = {}

export default {
  state,
  mutations,
  actions,
  getters
}

```

settingä¸­ç®¡ç†é¡¹ç›®åº”ç”¨çš„  ä¸»é¢˜è‰² themeï¼Œæè¿° descï¼Œ `modules/setting.js`

```jsx
const state = {
  theme: 'dark'
  desc: 'æè¿°çœŸå‘€çœŸä¸é”™'
}

const mutations = {}

const actions = {}

const getters = {}

export default {
  state,
  mutations,
  actions,
  getters
}
```

åœ¨`store/index.js`æ–‡ä»¶ä¸­çš„modulesé…ç½®é¡¹ä¸­ï¼Œæ³¨å†Œè¿™ä¸¤ä¸ªæ¨¡å—

```js
import user from './modules/user'
import setting from './modules/setting'

const store = new Vuex.Store({
    modules:{
        user,
        setting
    }
})
```



## è·å–æ¨¡å—å†…çš„stateæ•°æ®

### 1.ç›®æ ‡ï¼š

æŒæ¡æ¨¡å—ä¸­ state çš„è®¿é—®è¯­æ³•

å°½ç®¡å·²ç»åˆ†æ¨¡å—äº†ï¼Œä½†å…¶å®å­æ¨¡å—çš„çŠ¶æ€ï¼Œè¿˜æ˜¯ä¼šæŒ‚åˆ°æ ¹çº§åˆ«çš„ state ä¸­ï¼Œå±æ€§åå°±æ˜¯æ¨¡å—å

![68342784166](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683427841660.png)

### 2.ä½¿ç”¨æ¨¡å—ä¸­çš„æ•°æ®

1.  ç›´æ¥é€šè¿‡æ¨¡å—åè®¿é—® $store.state.æ¨¡å—å.xxx
2.  é€šè¿‡ mapState æ˜ å°„ï¼š
    1.  é»˜è®¤æ ¹çº§åˆ«çš„æ˜ å°„  mapState([ 'xxx' ])     
    2.  å­æ¨¡å—çš„æ˜ å°„ ï¼šmapState('æ¨¡å—å', ['xxx'])  -  éœ€è¦å¼€å¯å‘½åç©ºé—´ **namespaced:true**

`modules/user.js`

```jsx
const state = {
  userInfo: {
    name: 'zs',
    age: 18
  },
  myMsg: 'æˆ‘çš„æ•°æ®'
}

const mutations = {
  updateMsg (state, msg) {
    state.myMsg = msg
  }
}

const actions = {}

const getters = {}

export default {
  namespaced: true,
  state,
  mutations,
  actions,
  getters
}
```

### 3.ä»£ç ç¤ºä¾‹

##### è®¿é—®æ–¹å¼

1.$storeç›´æ¥è®¿é—®

```js
$store.state.user.userInfo.name
```

![image-20240104174756682](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/image-20240104174756682.png)

2.mapStateè¾…åŠ©å‡½æ•°è®¿é—® --éœ€å¼€å¯å‘½åç©ºé—´

```js
...mapState('user', ['userInfo']),
...mapState('setting', ['theme', 'desc']),
```



## è·å–æ¨¡å—å†…çš„gettersæ•°æ®

### 1.ç›®æ ‡ï¼š

æŒæ¡æ¨¡å—ä¸­ getters çš„è®¿é—®è¯­

### 2.è¯­æ³•ï¼š

ä½¿ç”¨æ¨¡å—ä¸­ getters ä¸­çš„æ•°æ®ï¼š 

1. ç›´æ¥é€šè¿‡æ¨¡å—åè®¿é—®` $store.getters['æ¨¡å—å/xxx ']`
2. é€šè¿‡ mapGetters æ˜ å°„      
   1. é»˜è®¤æ ¹çº§åˆ«çš„æ˜ å°„  `mapGetters([ 'xxx' ]) `
   2. å­æ¨¡å—çš„æ˜ å°„  `mapGetters('æ¨¡å—å', ['xxx'])` -  éœ€è¦å¼€å¯å‘½åç©ºé—´

### 3.ä»£ç æ¼”ç¤º

`modules/user.js`

```js
const getters = {
  // åˆ†æ¨¡å—åï¼ŒstateæŒ‡ä»£å­æ¨¡å—çš„state
  UpperCaseName (state) {
    return state.userInfo.name.toUpperCase()
  }
}
```

Son1.vue ç›´æ¥è®¿é—®getters

```html
<!-- æµ‹è¯•è®¿é—®æ¨¡å—ä¸­çš„getters - åŸç”Ÿ -->
<div>{{ $store.getters['user/UpperCaseName'] }}</div>
```

Son2.vue é€šè¿‡å‘½åç©ºé—´è®¿é—®

```js
// å¯¼å…¥è¾…åŠ©å‡½æ•°mapGetters
import { mapGetters } from 'vuex'
computed:{
  // userï¼šæ¨¡å—å
  // UpperCaseNameï¼š gettersé‡Œå¯¹åº”çš„æ–¹æ³•
  ...mapGetters('user', ['UpperCaseName'])
}
```



## è·å–æ¨¡å—å†…çš„mutationsæ–¹æ³•

### 1.ç›®æ ‡ï¼š

æŒæ¡æ¨¡å—ä¸­ mutation çš„è°ƒç”¨è¯­æ³•

### 2.æ³¨æ„ï¼š

é»˜è®¤æ¨¡å—ä¸­çš„ mutation å’Œ actions ä¼šè¢«æŒ‚è½½åˆ°å…¨å±€ï¼Œ**éœ€è¦å¼€å¯å‘½åç©ºé—´**ï¼Œæ‰ä¼šæŒ‚è½½åˆ°å­æ¨¡å—ã€‚

### 3.è°ƒç”¨æ–¹å¼ï¼š

1. ç›´æ¥é€šè¿‡ store è°ƒç”¨   $store.commit('æ¨¡å—å/xxx ',  é¢å¤–å‚æ•°)
2. é€šè¿‡ mapMutations æ˜ å°„    
   1. é»˜è®¤æ ¹çº§åˆ«çš„æ˜ å°„  mapMutations([ 'xxx' ])     
   2. å­æ¨¡å—çš„æ˜ å°„ mapMutations('æ¨¡å—å', ['xxx'])  -  éœ€è¦å¼€å¯å‘½åç©ºé—´

### 4.ä»£ç å®ç°

`modules/user.js`

```js
const mutations = {
  setUser (state, newUserInfo) {
    state.userInfo = newUserInfo
  }
}
```

`modules/setting.js`

```js
const mutations = {
  setTheme (state, newTheme) {
    state.theme = newTheme
  }
}
```

Son1.vue

```vue
<button @click="updateUser">æ›´æ–°ä¸ªäººä¿¡æ¯</button> 
<button @click="updateTheme">æ›´æ–°ä¸»é¢˜è‰²</button>


export default {
  methods: {
    updateUser () {
      // $store.commit('æ¨¡å—å/mutationå', é¢å¤–ä¼ å‚)
      this.$store.commit('user/setUser', {
        name: 'xiaowang',
        age: 25
      })
    }, 
    updateTheme () {
      this.$store.commit('setting/setTheme', 'pink')
    }
  }
}
```



Son2.vue

```vue
<button @click="setUser({ name: 'xiaoli', age: 80 })">æ›´æ–°ä¸ªäººä¿¡æ¯</button>
<button @click="setTheme('skyblue')">æ›´æ–°ä¸»é¢˜</button>

methods:{
// åˆ†æ¨¡å—çš„æ˜ å°„
...mapMutations('setting', ['setTheme']),
...mapMutations('user', ['setUser']),
}
```





## è·å–æ¨¡å—å†…çš„actionsæ–¹æ³•

### 1.ç›®æ ‡ï¼š

æŒæ¡æ¨¡å—ä¸­ action çš„è°ƒç”¨è¯­æ³• (åŒç† - ç›´æ¥ç±»æ¯” mutation å³å¯)

### 2.æ³¨æ„ï¼š

é»˜è®¤æ¨¡å—ä¸­çš„ mutation å’Œ actions ä¼šè¢«æŒ‚è½½åˆ°å…¨å±€ï¼Œ**éœ€è¦å¼€å¯å‘½åç©ºé—´**ï¼Œæ‰ä¼šæŒ‚è½½åˆ°å­æ¨¡å—ã€‚

### 3.è°ƒç”¨è¯­æ³•ï¼š

1. ç›´æ¥é€šè¿‡ store è°ƒç”¨   **$store.dispatch('æ¨¡å—å/xxx ',  é¢å¤–å‚æ•°)**
2. é€šè¿‡ mapActions æ˜ å°„     
   1.  é»˜è®¤æ ¹çº§åˆ«çš„æ˜ å°„  **mapActions([ 'xxx' ])**     
   2.  å­æ¨¡å—çš„æ˜ å°„ **mapActions('æ¨¡å—å', ['xxx'])**  -  éœ€è¦å¼€å¯å‘½åç©ºé—´

### 4.ä»£ç å®ç°

éœ€æ±‚ï¼š

![68343161569](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683431615694.png)



`modules/user.js`

```js
const actions = {
  setUserSecond (context, newUserInfo) {
    // å°†å¼‚æ­¥åœ¨actionä¸­è¿›è¡Œå°è£…
    setTimeout(() => {
      // è°ƒç”¨mutation   contextä¸Šä¸‹æ–‡ï¼Œé»˜è®¤æäº¤çš„å°±æ˜¯è‡ªå·±æ¨¡å—çš„actionå’Œmutation
      context.commit('setUser', newUserInfo)
    }, 1000)
  }
}
```

Son1.vue  ç›´æ¥é€šè¿‡storeè°ƒç”¨

```vue
<button @click="updateUser2">ä¸€ç§’åæ›´æ–°ä¿¡æ¯</button>

methods:{
    updateUser2 () {
      // è°ƒç”¨action dispatch
      this.$store.dispatch('user/setUserSecond', {
        name: 'xiaohong',
        age: 28
      })
    },
}
```



Son2.vue mapActionsæ˜ å°„

```js
<button @click="setUserSecond({ name: 'xiaoli', age: 80 })">ä¸€ç§’åæ›´æ–°ä¿¡æ¯</button>

methods:{
  ...mapActions('user', ['setUserSecond'])
}
```

## Vuexæ¨¡å—åŒ–çš„ä½¿ç”¨å°ç»“

### 1.ç›´æ¥ä½¿ç”¨

1. state --> $store.state.**æ¨¡å—å**.æ•°æ®é¡¹å
2. getters --> $store.getters['**æ¨¡å—å**/å±æ€§å']
3. mutations --> $store.commit('**æ¨¡å—å**/æ–¹æ³•å', å…¶ä»–å‚æ•°)
4. actions --> $store.dispatch('**æ¨¡å—å**/æ–¹æ³•å', å…¶ä»–å‚æ•°)

### 2.å€ŸåŠ©è¾…åŠ©æ–¹æ³•ä½¿ç”¨

1.import { mapXxxx, mapXxx } from 'vuex'

computedã€methods: {

â€‹     // **...mapStateã€...mapGettersæ”¾computedä¸­ï¼›**

â€‹    //  **...mapMutationsã€...mapActionsæ”¾methodsä¸­ï¼›**

â€‹    ...mapXxxx(**'æ¨¡å—å'**, ['æ•°æ®é¡¹|æ–¹æ³•']),

â€‹    ...mapXxxx(**'æ¨¡å—å'**, { æ–°çš„åå­—: åŸæ¥çš„åå­— }),

}

2.ç»„ä»¶ä¸­ç›´æ¥ä½¿ç”¨ å±æ€§ `{{ age }}` æˆ– æ–¹æ³• `@click="updateAge(2)"`



## ç»¼åˆæ¡ˆä¾‹ - åˆ›å»ºé¡¹ç›®

1. è„šæ‰‹æ¶æ–°å»ºé¡¹ç›® (æ³¨æ„ï¼š**å‹¾é€‰vuex**)      

   ç‰ˆæœ¬è¯´æ˜ï¼š

   vue2   vue-router3   vuex3               

   vue3  vue-router4  vuex4/pinia

```
vue create vue-cart-demo
```

2. å°†åŸæœ¬srcå†…å®¹æ¸…ç©ºï¼Œæ›¿æ¢æˆæ•™å­¦èµ„æ–™çš„ã€Švuex-cart-å‡†å¤‡ä»£ç ã€‹

![68343295935](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683432959356.png)

éœ€æ±‚ï¼š

1. å‘è¯·æ±‚åŠ¨æ€æ¸²æŸ“è´­ç‰©è½¦ï¼Œæ•°æ®å­˜vuex ï¼ˆå­˜cartæ¨¡å—ï¼Œ å°†æ¥è¿˜ä¼šæœ‰useræ¨¡å—ï¼Œarticleæ¨¡å—...ï¼‰
2. æ•°å­—æ¡†å¯ä»¥ä¿®æ”¹æ•°æ®
3. åŠ¨æ€è®¡ç®—æ€»ä»·å’Œæ€»æ•°é‡



## ç»¼åˆæ¡ˆä¾‹-æ„å»ºvuex-cartæ¨¡å—

1. æ–°å»º `store/modules/cart.js`

```jsx
export default {
  namespaced: true,
  state () {
    return {
      list: []
    }
  },
}
```

2. æŒ‚è½½åˆ° vuex ä»“åº“ä¸Š `store/cart.js`

```jsx
import Vuex from 'vuex'
import Vue from 'vue'

import cart from './modules/cart'

Vue.use(Vuex)

const store = new Vuex.Store({
  modules: {
    cart
  }
})

export default store
```



## ç»¼åˆæ¡ˆä¾‹-å‡†å¤‡åç«¯æ¥å£æœåŠ¡ç¯å¢ƒ(äº†è§£)

1. å®‰è£…å…¨å±€å·¥å…· json-server ï¼ˆå…¨å±€å·¥å…·ä»…éœ€è¦å®‰è£…ä¸€æ¬¡ï¼‰

```
yarn global add json-server æˆ– npm i json-server  -g
```

2. ä»£ç æ ¹ç›®å½•æ–°å»ºä¸€ä¸ª db ç›®å½•
3. å°†èµ„æ–™ index.json ç§»å…¥ db ç›®å½•
4. è¿›å…¥ db ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œå¯åŠ¨åç«¯æ¥å£æœåŠ¡ (ä½¿ç”¨--watch å‚æ•° å¯ä»¥å®æ—¶ç›‘å¬ json æ–‡ä»¶çš„ä¿®æ”¹)

```
json-server  --watch  index.json
```



## ç»¼åˆæ¡ˆä¾‹-è¯·æ±‚åŠ¨æ€æ¸²æŸ“æ•°æ®

### 1.ç›®æ ‡

è¯·æ±‚è·å–æ•°æ®å­˜å…¥ vuex, æ˜ å°„æ¸²æŸ“

![68343647192](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683436471929.png)

1. å®‰è£… axios

```jsx
yarn add axios
```

2. å‡†å¤‡actions å’Œ mutations

```jsx
import axios from 'axios'

export default {
  namespaced: true,
  state () {
    return {
      list: []
    }
  },
  mutations: {
    updateList (state, payload) {
      state.list = payload
    }
  },
  actions: {
    async getList (ctx) {
      // è¯·æ±‚æ–¹å¼ï¼šget
      // è¯·æ±‚åœ°å€ï¼šhttp://localhost:3000/cart
      // 2.å°†æ•°æ®å¼‚æ­¥å­˜è¿›Listé‡Œé¢
      const res = await axios.get('http://localhost:3000/cart')
      ctx.commit('updateList', res.data)
    }
  }
}
```

3. `App.vue`é¡µé¢ä¸­è°ƒç”¨ action,  è·å–æ•°æ®

```jsx
// 3.é€šè¿‡mapStateè¾…åŠ©å‡½æ•°è·å–stateä¸­çš„æ•°æ®
import { mapState } from 'vuex'

export default {
  name: 'App',
  components: {
    CartHeader,
    CartFooter,
    CartItem
  },
  created () {
    // 1.è°ƒç”¨è¯·æ±‚å°†ç»“æœä¼ ç»™cartä»“åº“çš„getListæ–¹æ³•
    this.$store.dispatch('cart/getList')
  },
  computed: {
    // 4.å¯»æ‰¾cartæ¨¡å—ä¸‹çš„list
    ...mapState('cart', ['list'])
  }
}
```

4. åŠ¨æ€æ¸²æŸ“

```jsx
<!-- å•†å“ Item é¡¹ç»„ä»¶ -->
// :item="item" æŠŠæ•´ä¸ªå¯¹è±¡ä¼ è¿›å»ä¾›ä»–æ¸²æŸ“
<cart-item v-for="item in list" :key="item.id" :item="item"></cart-item>
```

`cart-item.vue`

```jsx
<template>
  <div class="goods-container">
    <!-- å·¦ä¾§å›¾ç‰‡åŒºåŸŸ -->
    <div class="left">
      <img :src="item.thumb" class="avatar" alt="">
    </div>
    <!-- å³ä¾§å•†å“åŒºåŸŸ -->
    <div class="right">
      <!-- æ ‡é¢˜ -->
      <div class="title">{{item.name}}</div>
      <div class="info">
        <!-- å•ä»· -->
        <span class="price">ï¿¥{{item.price}}</span>
        <div class="btns">
          <!-- æŒ‰é’®åŒºåŸŸ -->
          <button class="btn btn-light">-</button>
          <span class="count">{{item.count}}</span>
          <button class="btn btn-light">+</button>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'CartItem',
  props: {
    item: Object
  },
  methods: {

  }
}
</script>
```



## ç»¼åˆæ¡ˆä¾‹-ä¿®æ”¹æ•°é‡

![68343734699](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Vue/1683437346997.png)

1. æ³¨å†Œç‚¹å‡»äº‹ä»¶

```jsx
<!-- æŒ‰é’®åŒºåŸŸ -->
<button class="btn btn-light" @click="onBtnClick(-1)">-</button>
<span class="count">{{item.count}}</span>
<button class="btn btn-light" @click="onBtnClick(1)">+</button>
```

2. é¡µé¢ä¸­dispatch action

```jsx
btnClick (step) {
    const newCount = this.item.count + step
    const id = this.item.id
    // è®¾ç½®æ•°é‡ä¸å¯å°äº1
    if (newCount < 1) return
    this.$store.dispatch('cart/updateCountAsync', {
        id,
        newCount
    })
}
```

3. æä¾›actionå‡½æ•°

```js
// è¯·æ±‚æ–¹å¼: patch
// è¯·æ±‚åœ°å€ï¼š http://localhost:3000/cart/:idå€¼
// è¯·æ±‚å‚æ•°
// name
// price
// count
// thumb
async updateCountAsync (context, obj) {
    const res = await axios.patch(`http://localhost:3000/cart/${obj.id}`, {
        count: obj.newCount
    })
    console.log(res)
    context.commit('updateCount', {
        id: obj.id,
        newCount: obj.newCount
    })
}
```

4. æä¾›mutationå¤„ç†å‡½æ•°

```jsx
mutations: {
  ...,
  updateCount (state, obj) {
      console.log(obj)
      // æ ¹æ®idæ‰¾åˆ°å¯¹åº”çš„å¯¹è±¡ï¼Œæ›´æ–°countå±æ€§å³å¯
      const goods = state.list.find(item => item.id === obj.id)
      goods.count = obj.newCount
    }
},
```



## ç»¼åˆæ¡ˆä¾‹-åº•éƒ¨æ€»ä»·å±•ç¤º

1. æä¾›getters

```jsx
  getters: {
    // å•†å“æ€»æ•°é‡ ç´¯åŠ count
    total (state) {
      return state.list.reduce((sum, item) => sum + item.count, 0)
    },
    // å•†å“æ€»ä»·æ ¼ ç´¯åŠ count * price
    totalPrice (state) {
      return state.list.reduce((sum, item) => sum + item.count * item.price, 0)
    }
  }
```

2. åŠ¨æ€æ¸²æŸ“

```jsx
<template>
  <div class="footer-container">
    <!-- ä¸­é—´çš„åˆè®¡ -->
    <div>
      <span>å…± {{total}} ä»¶å•†å“ï¼Œåˆè®¡ï¼š</span>
      <span class="price">ï¿¥{{totalPrice}}</span>
    </div>
    <!-- å³ä¾§ç»“ç®—æŒ‰é’® -->
    <button class="btn btn-success btn-settle">ç»“ç®—</button>
  </div>
</template>

<script>
import { mapGetters } from 'vuex'
export default {
  name: 'CartFooter',
  computed: {
      // cartï¼š å¯¹åº”æ¨¡å—å
      // totalï¼ŒtotalPrice å¯¹åº”çš„æ–¹æ³•
    ...mapGetters('cart', ['total', 'totalPrice'])
  }
}
</script>
```



http://localhost:8086/test-admin/login?redirect=%2F



# Vue3

## 1. Vue2 é€‰é¡¹å¼ API vs Vue3 ç»„åˆå¼API

```vue
<script>
export default {
  data(){
    return {
      count:0
    }
  },
  methods:{
    addCount(){
      this.count++
    }
  }
}
</script>
```

```vue
<script setup>
import { ref } from 'vue'
const count = ref(0)
const addCount = ()=> count.value++
</script>
```

ç‰¹ç‚¹ï¼š

1. ä»£ç é‡å˜å°‘
2. åˆ†æ•£å¼ç»´æŠ¤å˜æˆé›†ä¸­å¼ç»´æŠ¤

## 2. Vue3çš„ä¼˜åŠ¿

![image.png](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/01.png)


# ä½¿ç”¨create-vueæ­å»ºVue3é¡¹ç›®

## 1. è®¤è¯†create-vue

> create-vueæ˜¯Vueå®˜æ–¹æ–°çš„è„šæ‰‹æ¶å·¥å…·ï¼Œåº•å±‚åˆ‡æ¢åˆ°äº† vite ï¼ˆä¸‹ä¸€ä»£å‰ç«¯å·¥å…·é“¾ï¼‰ï¼Œä¸ºå¼€å‘æä¾›æé€Ÿå“åº”


![image.png](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/2.png)

## 2. ä½¿ç”¨create-vueåˆ›å»ºé¡¹ç›®

> å‰ç½®æ¡ä»¶ - å·²å®‰è£…16.0æˆ–æ›´é«˜ç‰ˆæœ¬çš„Node.js

ä¸€äº›å¸¸è§çš„å‘½ä»¤

```
#æŸ¥çœ‹nvmç‰ˆæœ¬
nvm -v    
# æŸ¥çœ‹nodeç‰ˆæœ¬
node -v
# æŸ¥çœ‹npmç‰ˆæœ¬
npm -v
#æŸ¥çœ‹å·²ç»å®‰è£…çš„ç‰ˆæœ¬
nvm list 
# v10.6.0æŒ‡ç‰ˆæœ¬å·
nvm install v10.6.0
# æŒ‡å®šä½¿ç”¨è¯¥ç‰ˆæœ¬çš„Nodejs
nvm use v10.6.0
#æŸ¥çœ‹æŒ‡å®šä½¿ç”¨è¯¥ç‰ˆæœ¬çš„Nodejs
nvm on v10.6.0
# ç¦ç”¨node.jsç‰ˆæœ¬ç®¡ç†(ä¸å¸è½½ä»»ä½•ä¸œè¥¿)
nvm off                     
# å¯ç”¨node.jsç‰ˆæœ¬ç®¡ç†
nvm on                      
# å¸è½½node.jsæ˜¯çš„å‘½ä»¤ï¼Œå¸è½½æŒ‡å®šç‰ˆæœ¬çš„nodejsï¼Œå½“å®‰è£…å¤±è´¥æ—¶å¸è½½ä½¿ç”¨
nvm uninstall <version>     
# æ˜¾ç¤ºå¯ä»¥å®‰è£…çš„æ‰€æœ‰node.jsçš„ç‰ˆæœ¬
nvm list available          
```

æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œè¿™ä¸€æŒ‡ä»¤å°†ä¼šå®‰è£…å¹¶æ‰§è¡Œ create-vue

```bash
npm init vue@latest
```

![image.png](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/3.png)

# ç†Ÿæ‚‰é¡¹ç›®å’Œå…³é”®æ–‡ä»¶

![image.png](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/4.png)

# ç»„åˆå¼API - setupé€‰é¡¹

## 1. setupé€‰é¡¹çš„å†™æ³•å’Œæ‰§è¡Œæ—¶æœº

å†™æ³•

```vue
<script>
  export default {
    setup(){
      
    },
    beforeCreate(){
      
    }
  }
</script>
```

æ‰§è¡Œæ—¶æœº

> åœ¨beforeCreateé’©å­ä¹‹å‰æ‰§è¡Œ

![image.png](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/5.png)

## 2. setupä¸­å†™ä»£ç çš„ç‰¹ç‚¹

> åœ¨setupå‡½æ•°ä¸­å†™çš„æ•°æ®å’Œæ–¹æ³•éœ€è¦åœ¨æœ«å°¾ä»¥å¯¹è±¡çš„æ–¹å¼returnï¼Œæ‰èƒ½ç»™æ¨¡ç‰ˆä½¿ç”¨

```vue
<script>
  export default {
    setup(){
      const message = 'this is message'
      const logMessage = ()=>{
      console.log(message)
      }
      // å¿…é¡»returnæ‰å¯ä»¥
      return {
        message,
        logMessage
      }
    }
  }
</script>
<template>
	<div>
        {{ message }}
    </div>
	<button @click="logMessage">
        æŒ‰é’®
    </button>
</template>
```

## 3. `<script setup>`è¯­æ³•ç³–

> scriptæ ‡ç­¾æ·»åŠ  setupæ ‡è®°ï¼Œä¸éœ€è¦å†å†™å¯¼å‡ºè¯­å¥ï¼Œé»˜è®¤ä¼šæ·»åŠ å¯¼å‡ºè¯­å¥

```vue
<script setup>
  const message = 'this is message'
  const logMessage = ()=>{
    console.log(message)
  }
</script>
<template>
	<div>
        {{ message }}
    </div>
	<button @click="logMessage">
        æŒ‰é’®
    </button>
</template>
```

# ç»„åˆå¼API - reactiveå’Œrefå‡½æ•°

## 1. reactive

> æ¥å—å¯¹è±¡ç±»å‹æ•°æ®çš„å‚æ•°ä¼ å…¥å¹¶è¿”å›ä¸€ä¸ªå“åº”å¼çš„å¯¹è±¡


```vue
<script setup>
 // å¯¼å…¥
 import { reactive } from 'vue'
 // æ‰§è¡Œå‡½æ•° ä¼ å…¥å‚æ•° å˜é‡æ¥æ”¶
 const state = reactive({
   msg:'this is msg'
 })
 const setSate = ()=>{
   // ä¿®æ”¹æ•°æ®æ›´æ–°è§†å›¾
   state.msg = 'this is new msg'
 }
</script>

<template>
  {{ state.msg }}
  <button @click="setState">change msg</button>
</template>
```

## 2. ref

> æ¥æ”¶ç®€å•ç±»å‹æˆ–è€…å¯¹è±¡ç±»å‹çš„æ•°æ®ä¼ å…¥å¹¶è¿”å›ä¸€ä¸ªå“åº”å¼çš„å¯¹è±¡

```vue
<script setup>
 // å¯¼å…¥
 import { ref } from 'vue'
 // æ‰§è¡Œå‡½æ•° ä¼ å…¥å‚æ•° å˜é‡æ¥æ”¶
 const count = ref(0)
 const setCount = ()=>{
   // åœ¨è„šæœ¬(script)ä¸­,ä¿®æ”¹æ•°æ®æ›´æ–°è§†å›¾å¿…é¡»åŠ ä¸Š.value
   count.value++
 }
</script>

<template>
  // template(æ¨¡æ¿)ä¸­,å¸®æˆ‘ä»¬æ‰’äº†ä¸€å±‚,ä¸ç”¨åŠ .value
  <button @click="setCount">{{count}}</button>
</template>
```

## 3. reactive å¯¹æ¯” ref

1. éƒ½æ˜¯ç”¨æ¥ç”Ÿæˆå“åº”å¼æ•°æ®
2. ä¸åŒç‚¹
   1. reactiveä¸èƒ½å¤„ç†ç®€å•ç±»å‹çš„æ•°æ®
   2. refå‚æ•°ç±»å‹æ”¯æŒæ›´å¥½ï¼Œä½†æ˜¯å¿…é¡»é€šè¿‡.valueåšè®¿é—®ä¿®æ”¹
   3. refå‡½æ•°å†…éƒ¨çš„å®ç°ä¾èµ–äºreactiveå‡½æ•°
3. åœ¨å®é™…å·¥ä½œä¸­çš„æ¨è
   1. æ¨èä½¿ç”¨refå‡½æ•°ï¼Œå‡å°‘è®°å¿†è´Ÿæ‹…ï¼Œå°å…”é²œé¡¹ç›®éƒ½ä½¿ç”¨ref

# ç»„åˆå¼API - computed

> è®¡ç®—å±æ€§åŸºæœ¬æ€æƒ³å’ŒVue2ä¿æŒä¸€è‡´ï¼Œç»„åˆå¼APIä¸‹çš„è®¡ç®—å±æ€§åªæ˜¯ä¿®æ”¹äº†APIå†™æ³•

ä»listä¸­è¿‡æ»¤å‡ºå¤§äºäºŒçš„æ•°æ®

![image-20240117211814567](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/image-20240117211814567.png)

```vue
<script setup>
// å¯¼å…¥
import {ref, computed } from 'vue'
// åŸå§‹æ•°æ®
const count = ref(0)
// è®¡ç®—å±æ€§
const doubleCount = computed(()=>count.value * 2)

// åŸå§‹æ•°æ®
const list = ref([1,2,3,4,5,6,7,8])
// è®¡ç®—å±æ€§list
const filterList = computed(() => {
    return list.value.filter(item => item > 2)
})
</script>
<template>
  <div>åŸå§‹æ•°æ®: {{ list }}</div>
  <div>è®¡ç®—åçš„æ•°æ®: {{ filterList }}</div>
</template>
```

# ç»„åˆå¼API - watch

> ä¾¦å¬ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ•°æ®çš„å˜åŒ–ï¼Œæ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œä¿©ä¸ªé¢å¤–å‚æ•° immediateæ§åˆ¶ç«‹åˆ»æ‰§è¡Œï¼Œdeepå¼€å¯æ·±åº¦ä¾¦å¬

## 1. ä¾¦å¬å•ä¸ªæ•°æ®

```vue
<script setup>
  // 1. å¯¼å…¥watch
  import { ref, watch } from 'vue'
  const count = ref(0)
  // 2. è°ƒç”¨watch ä¾¦å¬å¯¹è±¡å˜åŒ–
  watch(count, (newValue, oldValue)=>{
    console.log(`countå‘ç”Ÿäº†å˜åŒ–ï¼Œè€å€¼ä¸º${oldValue},æ–°å€¼ä¸º${newValue}`)
  })
</script>
```

## 2. ä¾¦å¬å¤šä¸ªæ•°æ®

> ä¾¦å¬å¤šä¸ªæ•°æ®ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ”¹å†™æˆæ•°ç»„çš„å†™æ³•

```vue
<script setup>
  // 1. å¯¼å…¥watch
  import { ref, watch } from 'vue'
  const count = ref(0)
  const name = ref('cp')
  // 2. è°ƒç”¨watch ä¾¦å¬å¯¹è±¡å˜åŒ–
  watch([count, name], ([newCount, newName],[oldCount,oldName])=>{
    console.log(`countæˆ–è€…nameå˜åŒ–äº†ï¼Œ[newCount, newName],[oldCount,oldName])
  })
</script>
```

## 3. immediate

> åœ¨ä¾¦å¬å™¨åˆ›å»ºæ—¶ç«‹å³å‡ºå‘å›è°ƒï¼Œå“åº”å¼æ•°æ®å˜åŒ–ä¹‹åç»§ç»­æ‰§è¡Œå›è°ƒ


```vue
<script setup>
  // 1. å¯¼å…¥watch
  import { ref, watch } from 'vue'
  const count = ref(0)
  // 2. è°ƒç”¨watch ä¾¦å¬å˜åŒ–
  watch(count, (newValue, oldValue)=>{
    console.log(`countå‘ç”Ÿäº†å˜åŒ–ï¼Œè€å€¼ä¸º${oldValue},æ–°å€¼ä¸º${newValue}`)
  },{
    immediate: true
  })
</script>
```

## 4. deep

> é€šè¿‡watchç›‘å¬çš„refå¯¹è±¡é»˜è®¤æ˜¯æµ…å±‚ä¾¦å¬çš„ï¼Œç›´æ¥ä¿®æ”¹åµŒå¥—çš„å¯¹è±¡å±æ€§ä¸ä¼šè§¦å‘å›è°ƒæ‰§è¡Œï¼Œéœ€è¦å¼€å¯deep

```vue
<script setup>
  // 1. å¯¼å…¥watch
  import { ref, watch } from 'vue'
  const state = ref({ count: 0 })
  // 2. ç›‘å¬å¯¹è±¡state
  watch(state, ()=>{
    console.log('æ•°æ®å˜åŒ–äº†')
  })
  const changeStateByCount = ()=>{
    // ç›´æ¥ä¿®æ”¹ä¸ä¼šå¼•å‘å›è°ƒæ‰§è¡Œ
    state.value.count++
  }
</script>

<script setup>
  // 1. å¯¼å…¥watch
  import { ref, watch } from 'vue'
  const state = ref({ count: 0 })
  // 2. ç›‘å¬å¯¹è±¡state å¹¶å¼€å¯deep
  watch(state, ()=>{
    console.log('æ•°æ®å˜åŒ–äº†')
  },{deep:true})
  const changeStateByCount = ()=>{
    // æ­¤æ—¶ä¿®æ”¹å¯ä»¥è§¦å‘å›è°ƒ
    state.value.count++
  }
</script>

```

åˆå¹¶å†™æ³•

```vue
watch([count, name], ([newCount, newName],[oldCount,oldName])=>{
    console.log(`countæˆ–è€…nameå˜åŒ–äº†ï¼Œ[newCount, newName],[oldCount,oldName])
  },{
immediate: true,
deep:true
})
```

## 5. ç²¾ç¡®ä¾¦å¬æŸä¸ªå¯¹è±¡

```vue
<script setup>
import { ref, watch } from 'vue'

const userInfo = ref({
  name: 'zs',
  age: 18
})
const setUserInfo = () => {
  // ä¿®æ”¹äº† userInfo.value ä¿®æ”¹äº†å¯¹è±¡çš„åœ°å€ï¼Œæ‰èƒ½ç›‘è§†åˆ°
  // userInfo.value = { name: 'ls', age: 50 }
  userInfo.value.age++
}

// 5. å¯¹äºå¯¹è±¡ä¸­çš„å•ä¸ªå±æ€§ï¼Œè¿›è¡Œç›‘è§†
watch(() => userInfo.value.age, (newValue, oldValue) => {
  console.log(newValue, oldValue)
})
</script>

<template>
  <button @click="setUserInfo">ä¿®æ”¹userInfo</button>
</template>
```



# ç»„åˆå¼API - ç”Ÿå‘½å‘¨æœŸå‡½æ•°

## 1. é€‰é¡¹å¼å¯¹æ¯”ç»„åˆå¼

![image.png](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/6.png)

## 2. ç”Ÿå‘½å‘¨æœŸå‡½æ•°åŸºæœ¬ä½¿ç”¨

> 1. å¯¼å…¥ç”Ÿå‘½å‘¨æœŸå‡½æ•°
> 2. æ‰§è¡Œç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œä¼ å…¥å›è°ƒ

```vue
<scirpt setup>
import { onMounted } from 'vue';

// beforeCreate å’Œ created çš„ç›¸å…³ä»£ç 
// ä¸€å¾‹æ”¾åœ¨ setupä¸­æ‰§è¡Œ

const getList = () => {
  setTimeout(() => {
    console.log('å‘é€è¯·æ±‚,è·å–æ•°æ®')
  }, 2000 )
}
// ä¸€è¿›é¡µé¢çš„è¯·æ±‚
getList()

// å¦‚æœæœ‰äº›ä»£ç éœ€è¦åœ¨mountedçš„ç”Ÿå‘½å‘¨æœŸä¸­æ‰§è¡Œ
onMounted(() => {
  console.log('mountedç”Ÿå‘½å‘¨æœŸå‡½æ•° - é€»è¾‘ä¸€')
})
</script>
```

## 3. æ‰§è¡Œå¤šæ¬¡

> ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ‰§è¡Œå¤šæ¬¡çš„æ—¶å€™ï¼Œä¼šæŒ‰ç…§é¡ºåºä¾æ¬¡æ‰§è¡Œ

```vue
<scirpt setup>
import { onMounted } from 'vue';

// beforeCreate å’Œ created çš„ç›¸å…³ä»£ç 
// ä¸€å¾‹æ”¾åœ¨ setupä¸­æ‰§è¡Œ

const getList = () => {
  setTimeout(() => {
    console.log('å‘é€è¯·æ±‚,è·å–æ•°æ®')
  }, 200)
}
// ä¸€è¿›é¡µé¢çš„è¯·æ±‚
getList()

// å¦‚æœæœ‰äº›ä»£ç éœ€è¦åœ¨mountedçš„ç”Ÿå‘½å‘¨æœŸä¸­æ‰§è¡Œ
onMounted(() => {
  console.log('mountedç”Ÿå‘½å‘¨æœŸå‡½æ•° - é€»è¾‘ä¸€')
})
// å†™æˆå‡½æ•°çš„è°ƒç”¨æ–¹å¼,å¯ä»¥è°ƒç”¨å¤šæ¬¡,å¹¶ä¸ä¼šå†²çª,è€Œæ˜¯æŒ‰ç…§é¡ºåºä¾æ¬¡æ‰§è¡Œ
onMounted(() => {
  console.log('mountedç”Ÿå‘½å‘¨æœŸå‡½æ•° - é€»è¾‘äºŒ')
})
</script>
```

# ç»„åˆå¼API - çˆ¶å­é€šä¿¡

## 1. çˆ¶ä¼ å­

> åŸºæœ¬æ€æƒ³
>
> 1. çˆ¶ç»„ä»¶ä¸­ç»™å­ç»„ä»¶ç»‘å®šå±æ€§
> 2. å­ç»„ä»¶å†…éƒ¨é€šè¿‡propsé€‰é¡¹æ¥æ”¶æ•°æ®

å¦‚æœçˆ¶ä¼ å­çš„æ•°æ®æ˜¯åŠ¨æ€æ§åˆ¶çš„,é‚£ä¹ˆå­ç»„ä»¶è·å¾—çš„æ•°æ®ä¹Ÿæ˜¯å“åº”å¼æ›´æ–°çš„

![image-20240121144833713](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/image-20240121144833713.png)

å¦‚æœçˆ¶ä¼ å­çš„æ•°æ®æ˜¯åŠ¨æ€æ§åˆ¶çš„,é‚£ä¹ˆå­ç»„ä»¶è·å¾—çš„æ•°æ®ä¹Ÿæ˜¯å“åº”å¼æ›´æ–°çš„

![image-20240121145626742](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/image-20240121145626742.png)

## 2. å­ä¼ çˆ¶

> åŸºæœ¬æ€æƒ³
>
> 1. çˆ¶ç»„ä»¶ä¸­ç»™å­ç»„ä»¶æ ‡ç­¾é€šè¿‡@ç»‘å®šäº‹ä»¶
> 2. å­ç»„ä»¶å†…éƒ¨é€šè¿‡ emit æ–¹æ³•è§¦å‘äº‹ä»¶


![image.png](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/8.png)

# ç»„åˆå¼API - æ¨¡ç‰ˆå¼•ç”¨

> æ¦‚å¿µï¼šé€šè¿‡ refæ ‡è¯† è·å–çœŸå®çš„ domå¯¹è±¡æˆ–è€…ç»„ä»¶å®ä¾‹å¯¹è±¡

## 1. åŸºæœ¬ä½¿ç”¨

> å®ç°æ­¥éª¤ï¼š
>
> 1. è°ƒç”¨refå‡½æ•°ç”Ÿæˆä¸€ä¸ªrefå¯¹è±¡
> 2. é€šè¿‡refæ ‡è¯†ç»‘å®šrefå¯¹è±¡åˆ°æ ‡ç­¾

```vue
<script setup>
import { onMounted, ref } from 'vue';
// æ¨¡æ¿å¼•ç”¨(å¯ä»¥è·å–domå…ƒç´ ,ä¹Ÿå¯ä»¥è·å–ç»„ä»¶)
// 1.è°ƒç”¨refå‡½æ•°,ç”Ÿæˆä¸€ä¸ªrefå¯¹è±¡

const inp = ref(null)
// ç”Ÿå‘½å‘¨æœŸé’©å­ onMounted
onMounted(() => {
  // ä½¿å¼•ç”¨å¯¹è±¡èšç„¦
  // console.log(inp.value);
  // 3.é€šè¿‡refå¯¹è±¡.valueå³å¯è®¿é—®åˆ°ç»‘å®šçš„å…ƒç´ (å¿…é¡»æ¸²æŸ“å®Œæˆåæ‰èƒ½æ‹¿åˆ°)
  // inp.value.focus()
})

const clickFn = () => {
  // 3.é€šè¿‡refå¯¹è±¡.valueå³å¯è®¿é—®åˆ°ç»‘å®šçš„å…ƒç´ (å¿…é¡»æ¸²æŸ“å®Œæˆåæ‰èƒ½æ‹¿åˆ°)
  inp.value.focus()
}

</script>

<template>
  <div>
  <!-- 2.é€šè¿‡refæ ‡è¯†,è¿›è¡Œç»‘å®š -->
  <input ref="inp" type="text">
  <button @click="clickFn">è®©ç‚¹å‡»æ¡†èšç„¦</button>
  </div>
</template>
```


## 2. defineExpose

> é»˜è®¤æƒ…å†µä¸‹åœ¨ `<script setup>`è¯­æ³•ç³–ä¸‹**ç»„ä»¶å†…éƒ¨çš„å±æ€§å’Œæ–¹æ³•æ˜¯ä¸å¼€æ”¾ç»™çˆ¶ç»„ä»¶è®¿é—®çš„**ï¼Œå¯ä»¥é€šè¿‡defineExposeç¼–è¯‘å®æŒ‡å®šå“ªäº›å±æ€§å’Œæ–¹æ³•å®¹è®¸è®¿é—®
> è¯´æ˜ï¼šæŒ‡å®štestMessageå±æ€§å¯ä»¥è¢«è®¿é—®åˆ°

![image-20240121153939929](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/image-20240121153939929.png)

# ç»„åˆå¼API - provideå’Œinject

## 1. ä½œç”¨å’Œåœºæ™¯

> é¡¶å±‚ç»„ä»¶å‘ä»»æ„çš„åº•å±‚ç»„ä»¶ä¼ é€’æ•°æ®å’Œæ–¹æ³•ï¼Œå®ç°è·¨å±‚ç»„ä»¶é€šä¿¡

![image.png](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/11.png)

## 2. è·¨å±‚ä¼ é€’æ™®é€šæ•°æ®

> å®ç°æ­¥éª¤
>
> 1. é¡¶å±‚ç»„ä»¶é€šè¿‡ `provide` å‡½æ•°æä¾›æ•°æ®
> 2. åº•å±‚ç»„ä»¶é€šè¿‡ `inject` å‡½æ•°æä¾›æ•°æ®


![image.png](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/12.png)

## 3. è·¨å±‚ä¼ é€’å“åº”å¼æ•°æ®

> åœ¨è°ƒç”¨provideå‡½æ•°æ—¶ï¼Œç¬¬äºŒä¸ªå‚æ•°è®¾ç½®ä¸ºrefå¯¹è±¡

![image.png](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/13.png)

## 4. è·¨å±‚ä¼ é€’æ–¹æ³•

> é¡¶å±‚ç»„ä»¶å¯ä»¥å‘åº•å±‚ç»„ä»¶ä¼ é€’æ–¹æ³•ï¼Œåº•å±‚ç»„ä»¶è°ƒç”¨æ–¹æ³•ä¿®æ”¹é¡¶å±‚ç»„ä»¶çš„æ•°æ®

![image.png](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/14.png)

ç„¶ååº•å±‚ç»„ä»¶è°ƒç”¨setCountæ–¹æ³•å³å¯,æ‹¬å·é‡Œé¢ä¹Ÿå¯ä¼ å€¼

```vue
const changeCount = () => {
	setCount()
}
```



# Vue3.3æ–°ç‰¹æ€§-defineModel

åœ¨Vue3ä¸­ï¼Œè‡ªå®šä¹‰ç»„ä»¶ä¸Šä½¿ç”¨v-model, ç›¸å½“äºä¼ é€’ä¸€ä¸ªmodelValueå±æ€§ï¼ŒåŒæ—¶è§¦å‘ update:modelValue äº‹ä»¶

![image-20230704083027349](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/image-20230704083027349.png)

æˆ‘ä»¬éœ€è¦å…ˆå®šä¹‰ propsï¼Œå†å®šä¹‰ emits ã€‚å…¶ä¸­æœ‰è®¸å¤šé‡å¤çš„ä»£ç ã€‚å¦‚æœéœ€è¦ä¿®æ”¹æ­¤å€¼ï¼Œè¿˜éœ€è¦æ‰‹åŠ¨è°ƒç”¨ emit å‡½æ•°ã€‚

äºæ˜¯ä¹ defineModel è¯ç”Ÿäº†ã€‚

![image-20230704083056549](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/image-20230704083056549.png)



ç”Ÿæ•ˆéœ€è¦é…ç½® vite.config.jsç„¶åé‡å¯åº”ç”¨

```jsx
import { fileURLToPath, URL } from 'node:url'

import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [
    vue({
      script: {
          // ä¿®æ”¹è¿™é‡Œ
        defineModel: true
      }
    }),
  ],
  resolve: {
    alias: {
      '@': fileURLToPath(new URL('./src', import.meta.url))
    }
  }
})
```

#  Vue3 çŠ¶æ€ç®¡ç† - Pinia

## 1. ä»€ä¹ˆæ˜¯Pinia

Pinia æ˜¯ Vue çš„ä¸“å±çš„æœ€æ–°çŠ¶æ€ç®¡ç†åº“ ï¼Œæ˜¯ Vuex çŠ¶æ€ç®¡ç†å·¥å…·çš„æ›¿ä»£å“
![image.png](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/31.png)



## 2. æ‰‹åŠ¨æ·»åŠ Piniaåˆ°Vueé¡¹ç›®

åé¢åœ¨å®é™…å¼€å‘é¡¹ç›®çš„æ—¶å€™ï¼ŒPiniaå¯ä»¥åœ¨é¡¹ç›®åˆ›å»ºæ—¶è‡ªåŠ¨æ·»åŠ ï¼Œç°åœ¨æˆ‘ä»¬åˆæ¬¡å­¦ä¹ ï¼Œä»é›¶å¼€å§‹ï¼š

1.  ä½¿ç”¨ Vite åˆ›å»ºä¸€ä¸ªç©ºçš„ Vue3é¡¹ç›®

```bash
npm init vite@latest
```

2.  æŒ‰ç…§å®˜æ–¹æ–‡æ¡£å®‰è£… pinia åˆ°é¡¹ç›®ä¸­ 

```js
import { createApp } from 'vue'
import { createPinia } from 'pinia'
import App from './App.vue'
const pinia = createPinia() // åˆ›å»ºPiniaå®ä¾‹
// createApp(App).use(pinia).mount('#app') //æ”¯æŒé“¾å¼
const app = createApp(App) // åˆ›å»ºæ ¹å®ä¾‹
app.use(pinia) // piniaæ’ä»¶çš„å®‰è£…é…ç½®
app.mount('#app') // è§†å›¾çš„æŒ‚è½½

```



## 3. PiniaåŸºç¡€ä½¿ç”¨

1. å®šä¹‰store
2. ç»„ä»¶ä½¿ç”¨store

![image.png](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/32.png)



## 4. getterså®ç°

Piniaä¸­çš„ getters ç›´æ¥ä½¿ç”¨ computedå‡½æ•° è¿›è¡Œæ¨¡æ‹Ÿ, ç»„ä»¶ä¸­éœ€è¦ä½¿ç”¨éœ€è¦æŠŠ getters returnå‡ºå»

![image.png](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/33.png)

ä»£ç 

counter.js

```js
import { defineStore } from "pinia";
import { computed, ref } from "vue";

// å®šä¹‰store
// defineStore(ä»“åº“çš„å”¯ä¸€æ ‡è¯†, () => {...})
export const useCounterStore = defineStore('conter', () => {
    // å£°æ˜æ•°æ® state - count
    const count = ref(100)
    // å£°æ˜æ“ä½œæ•°æ®çš„æ–¹æ³• action (æ™®é€šå‡½æ•°)
    const addCount = () => count.value++
    const subCount = () => count.value--
    // å£°æ˜åŸºäºæ•°æ®æ´¾ç”Ÿçš„è®¡ç®—å±æ€§ getters (computed)
    const double = computed(() => count.value * 2)
    // å£°æ˜æ•°æ® state - msg
    const msg = ref('hello pinia')

    // å£°æ˜æ•°æ®
    return {
        count,
        msg,
        addCount,
        subCount,
        double
    }
})
```

Son1Com.vue

```vue
<script setup>
import { useCounterStore } from '@/store/counter'

const counterStore = useCounterStore()
</script>

<template>
  <div>
    æˆ‘æ˜¯Son1 - {{ counterStore.count }} -  {{ counterStore.double }}<button @click="counterStore.addCount">+</button>
  </div>
</template>

<style scoped>
</style>
```

Son2Com.vue

```vue
<script setup>
import { useCounterStore } from '@/store/counter'

const counterStore = useCounterStore()
</script>

<template>
  <div>
    æˆ‘æ˜¯Son2 - {{ counterStore.count }} - <button @click="counterStore.subCount">-</button>
  </div>
</template>

<style scoped>
</style>
```

## 5. actionå¼‚æ­¥å®ç°

æ–¹å¼ï¼šå¼‚æ­¥actionå‡½æ•°çš„å†™æ³•å’Œç»„ä»¶ä¸­è·å–å¼‚æ­¥æ•°æ®çš„å†™æ³•å®Œå…¨ä¸€è‡´

- æ¥å£åœ°å€ï¼šhttp://geek.itheima.net/v1_0/channels

- è¯·æ±‚æ–¹å¼ï¼šget

- è¯·æ±‚å‚æ•°ï¼šæ— 

![image.png](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/34.png)

éœ€æ±‚ï¼šåœ¨Piniaä¸­è·å–é¢‘é“åˆ—è¡¨æ•°æ®å¹¶æŠŠæ•°æ®æ¸²æŸ“Appç»„ä»¶çš„æ¨¡æ¿ä¸­
![image.png](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/35.png)

ä»£ç :

App.vue

```vue
<script setup>
import { useCounterStore } from '@/store/counter'
import { useChannelStore } from './store/channel'

const counterStore = useCounterStore()
const channelStore = useChannelStore()
console.log(counterStore);
</script>

<template>
  <div>
    <button @click="channelStore.getList">è·å–é¢‘é“æ•°æ®</button>
    <ul>
      <li v-for="item in channelStore.channelList" :key="item.id">{{item.name}}</li>
    </ul>
  </div>
</template>

<style scoped>
</style>

```

ä»“åº“æ–‡ä»¶channel.js

```js
import { defineStore } from 'pinia'
import { ref } from 'vue'
import axios from 'axios'

export const useChannelStore = defineStore('channel', () => {
  // å£°æ˜æ•°æ®
  const channelList = ref([])

  // å£°æ˜æ“ä½œæ•°æ®çš„æ–¹æ³•
  const getList = async () => {
    // æ”¯æŒå¼‚æ­¥
    const { data: { data }} = await axios.get('http://geek.itheima.net/v1_0/channels')
    console.log(data);
    channelList.value = data.channels
  }

  // å£°æ˜gettersç›¸å…³
  
  // å¯¼å‡ºæ•°æ®å’Œæ–¹æ³•
  return {
    channelList,
    getList
  }
})
```



## 6. storeToRefså·¥å…·å‡½æ•°

ä½¿ç”¨storeToRefså‡½æ•°å¯ä»¥è¾…åŠ©ä¿æŒæ•°æ®ï¼ˆstate + getterï¼‰çš„å“åº”å¼è§£æ„

```js
import { storeToRefs } from 'pinia'
```

![image.png](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/36.png)

æ³¨æ„:

â€‹	å¦‚æœè§£æçš„æ˜¯æ•°æ®,éœ€è¦storeToRefså‡½æ•°,å¦‚æœè§£æçš„æ˜¯æ–¹æ³•å°±ä¸ç”¨storeToRefsä¹Ÿæ˜¯å“åº”å¼çš„



## 7. Piniaçš„è°ƒè¯•

Vueå®˜æ–¹çš„ dev-tools è°ƒè¯•å·¥å…· å¯¹ Piniaç›´æ¥æ”¯æŒï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œè°ƒè¯•
![image.png](https://jackchen-note.oss-cn-beijing.aliyuncs.com/Java/Vue/37.png)





## 8. PiniaæŒä¹…åŒ–æ’ä»¶

å®˜æ–¹æ–‡æ¡£ï¼šhttps://prazdevs.github.io/pinia-plugin-persistedstate/zh/

1. å®‰è£…æ’ä»¶ pinia-plugin-persistedstate

```jsx
npm i pinia-plugin-persistedstate
```

2. ä½¿ç”¨ main.js

```jsx
// å¯¼å…¥æŒä¹…åŒ–æ’ä»¶
import { createPinia } from 'pinia'
import piniaPluginPersistedstate from 'pinia-plugin-persistedstate'

const pinia = createPinia()
pinia.use(piniaPluginPersistedstate)
```

ä¾‹:

```js
import { createApp } from 'vue'
import { createPinia } from 'pinia'
import App from './App.vue'
// å¯¼å…¥æŒä¹…åŒ–çš„æ’ä»¶
import piniaPluginPersistedstate from 'pinia-plugin-persistedstate'
const pinia = createPinia() // åˆ›å»ºPiniaå®ä¾‹
const app = createApp(App) // åˆ›å»ºè·Ÿå®ä¾‹
app.mount('#app') // è§†å›¾çš„æŒ‚è½½
app.use(pinia.use(piniaPluginPersistedstate)) // piniaæ’ä»¶çš„å®‰è£…é…ç½®
```



3. é…ç½® store/counter.js 

```jsx
import { defineStore } from 'pinia'
import { computed, ref } from 'vue'

export const useCounterStore = defineStore('counter', () => {
  ...
  return {
    count,
    doubleCount,
    increment
  }
}, {
  // é…ç½®æŒä¹…åŒ–é…ç½®ä¿å­˜
  persist: true
})
```

4. å…¶ä»–é…ç½®ï¼Œçœ‹å®˜ç½‘æ–‡æ¡£å³å¯
